function sN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function mv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rh={},oN={get exports(){return rh},set exports(t){rh=t}},gv={},R={},aN={get exports(){return R},set exports(t){R=t}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=Symbol.for("react.element"),lN=Symbol.for("react.portal"),cN=Symbol.for("react.fragment"),uN=Symbol.for("react.strict_mode"),fN=Symbol.for("react.profiler"),dN=Symbol.for("react.provider"),hN=Symbol.for("react.context"),pN=Symbol.for("react.forward_ref"),mN=Symbol.for("react.suspense"),gN=Symbol.for("react.memo"),vN=Symbol.for("react.lazy"),qC=Symbol.iterator;function yN(t){return t===null||typeof t!="object"?null:(t=qC&&t[qC]||t["@@iterator"],typeof t=="function"?t:null)}var r3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i3=Object.assign,s3={};function hf(t,e,n){this.props=t,this.context=e,this.refs=s3,this.updater=n||r3}hf.prototype.isReactComponent={};hf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o3(){}o3.prototype=hf.prototype;function Gb(t,e,n){this.props=t,this.context=e,this.refs=s3,this.updater=n||r3}var Hb=Gb.prototype=new o3;Hb.constructor=Gb;i3(Hb,hf.prototype);Hb.isPureReactComponent=!0;var ZC=Array.isArray,a3=Object.prototype.hasOwnProperty,$b={current:null},l3={key:!0,ref:!0,__self:!0,__source:!0};function c3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)a3.call(e,r)&&!l3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vh,type:t,key:s,ref:o,props:i,_owner:$b.current}}function xN(t,e){return{$$typeof:Vh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vh}function _N(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eE=/\/+/g;function Ix(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_N(""+t.key):e.toString(36)}function Vg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vh:case lN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ix(o,0):r,ZC(i)?(n="",t!=null&&(n=t.replace(eE,"$&/")+"/"),Vg(i,e,n,"",function(c){return c})):i!=null&&(Vb(i)&&(i=xN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ZC(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ix(s,a);o+=Vg(s,e,n,l,i)}else if(l=yN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ix(s,a++),o+=Vg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wm(t,e,n){if(t==null)return t;var r=[],i=0;return Vg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function wN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},Wg={transition:null},bN={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Wg,ReactCurrentOwner:$b};Rt.Children={map:wm,forEach:function(t,e,n){wm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wm(t,function(){e++}),e},toArray:function(t){return wm(t,function(e){return e})||[]},only:function(t){if(!Vb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Rt.Component=hf;Rt.Fragment=cN;Rt.Profiler=fN;Rt.PureComponent=Gb;Rt.StrictMode=uN;Rt.Suspense=mN;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;Rt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=i3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$b.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)a3.call(e,l)&&!l3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vh,type:t.type,key:i,ref:s,props:r,_owner:o}};Rt.createContext=function(t){return t={$$typeof:hN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dN,_context:t},t.Consumer=t};Rt.createElement=c3;Rt.createFactory=function(t){var e=c3.bind(null,t);return e.type=t,e};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(t){return{$$typeof:pN,render:t}};Rt.isValidElement=Vb;Rt.lazy=function(t){return{$$typeof:vN,_payload:{_status:-1,_result:t},_init:wN}};Rt.memo=function(t,e){return{$$typeof:gN,type:t,compare:e===void 0?null:e}};Rt.startTransition=function(t){var e=Wg.transition;Wg.transition={};try{t()}finally{Wg.transition=e}};Rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Rt.useCallback=function(t,e){return Vr.current.useCallback(t,e)};Rt.useContext=function(t){return Vr.current.useContext(t)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};Rt.useEffect=function(t,e){return Vr.current.useEffect(t,e)};Rt.useId=function(){return Vr.current.useId()};Rt.useImperativeHandle=function(t,e,n){return Vr.current.useImperativeHandle(t,e,n)};Rt.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};Rt.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};Rt.useMemo=function(t,e){return Vr.current.useMemo(t,e)};Rt.useReducer=function(t,e,n){return Vr.current.useReducer(t,e,n)};Rt.useRef=function(t){return Vr.current.useRef(t)};Rt.useState=function(t){return Vr.current.useState(t)};Rt.useSyncExternalStore=function(t,e,n){return Vr.current.useSyncExternalStore(t,e,n)};Rt.useTransition=function(){return Vr.current.useTransition()};Rt.version="18.2.0";(function(t){t.exports=Rt})(aN);const j=mv(R),x0=sN({__proto__:null,default:j},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=R,AN=Symbol.for("react.element"),MN=Symbol.for("react.fragment"),CN=Object.prototype.hasOwnProperty,EN=SN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TN={key:!0,ref:!0,__self:!0,__source:!0};function u3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CN.call(e,r)&&!TN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AN,type:t,key:s,ref:o,props:i,_owner:EN.current}}gv.Fragment=MN;gv.jsx=u3;gv.jsxs=u3;(function(t){t.exports=gv})(oN);const Od=rh.Fragment,Le=rh.jsx,vn=rh.jsxs;var v_={},ql={},RN={get exports(){return ql},set exports(t){ql=t}},Mi={},y_={},PN={get exports(){return y_},set exports(t){y_=t}},f3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,W){var X=O.length;O.push(W);e:for(;0<X;){var se=X-1>>>1,Q=O[se];if(0<i(Q,W))O[se]=W,O[X]=Q,X=se;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var W=O[0],X=O.pop();if(X!==W){O[0]=X;e:for(var se=0,Q=O.length,re=Q>>>1;se<re;){var _e=2*(se+1)-1,be=O[_e],te=_e+1,De=O[te];if(0>i(be,X))te<Q&&0>i(De,be)?(O[se]=De,O[te]=X,se=te):(O[se]=be,O[_e]=X,se=_e);else if(te<Q&&0>i(De,X))O[se]=De,O[te]=X,se=te;else break e}}return W}function i(O,W){var X=O.sortIndex-W.sortIndex;return X!==0?X:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=O)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function A(O){if(g=!1,b(O),!v)if(n(l)!==null)v=!0,q(C);else{var W=n(c);W!==null&&ne(A,W.startTime-O)}}function C(O,W){v=!1,g&&(g=!1,_(T),T=-1),m=!0;var X=p;try{for(b(W),h=n(l);h!==null&&(!(h.expirationTime>W)||O&&!k());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var Q=se(h.expirationTime<=W);W=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&r(l),b(W)}else r(l);h=n(l)}if(h!==null)var re=!0;else{var _e=n(c);_e!==null&&ne(A,_e.startTime-W),re=!1}return re}finally{h=null,p=X,m=!1}}var E=!1,B=null,T=-1,I=5,L=-1;function k(){return!(t.unstable_now()-L<I)}function G(){if(B!==null){var O=t.unstable_now();L=O;var W=!0;try{W=B(!0,O)}finally{W?z():(E=!1,B=null)}}else E=!1}var z;if(typeof w=="function")z=function(){w(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=G,z=function(){J.postMessage(null)}}else z=function(){y(G,0)};function q(O){B=O,E||(E=!0,z())}function ne(O,W){T=y(function(){O(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var X=p;p=W;try{return O()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=p;p=O;try{return W()}finally{p=X}},t.unstable_scheduleCallback=function(O,W,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,O={id:f++,callback:W,priorityLevel:O,startTime:X,expirationTime:Q,sortIndex:-1},X>se?(O.sortIndex=X,e(c,O),n(l)===null&&O===n(c)&&(g?(_(T),T=-1):g=!0,ne(A,X-se))):(O.sortIndex=Q,e(l,O),v||m||(v=!0,q(C))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var W=p;return function(){var X=p;p=W;try{return O.apply(this,arguments)}finally{p=X}}}})(f3);(function(t){t.exports=f3})(PN);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=R,bi=y_;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h3=new Set,ih={};function fc(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(ih[t]=e,t=0;t<e.length;t++)h3.add(e[t])}var Fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x_=Object.prototype.hasOwnProperty,BN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tE={},nE={};function IN(t){return x_.call(nE,t)?!0:x_.call(tE,t)?!1:BN.test(t)?nE[t]=!0:(tE[t]=!0,!1)}function LN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DN(t,e,n,r){if(e===null||typeof e>"u"||LN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wb=/[\-:]([a-z])/g;function jb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wb,jb);vr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wb,jb);vr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wb,jb);vr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jb(t,e,n,r){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DN(e,n,i,r)&&(n=null),r||i===null?IN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jo=d3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bm=Symbol.for("react.element"),du=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),p3=Symbol.for("react.provider"),m3=Symbol.for("react.context"),Xb=Symbol.for("react.forward_ref"),w_=Symbol.for("react.suspense"),b_=Symbol.for("react.suspense_list"),Yb=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),g3=Symbol.for("react.offscreen"),rE=Symbol.iterator;function Zf(t){return t===null||typeof t!="object"?null:(t=rE&&t[rE]||t["@@iterator"],typeof t=="function"?t:null)}var Sn=Object.assign,Lx;function Pd(t){if(Lx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lx=e&&e[1]||""}return`
`+Lx+t}var Dx=!1;function kx(t,e){if(!t||Dx)return"";Dx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pd(t):""}function kN(t){switch(t.tag){case 5:return Pd(t.type);case 16:return Pd("Lazy");case 13:return Pd("Suspense");case 19:return Pd("SuspenseList");case 0:case 2:case 15:return t=kx(t.type,!1),t;case 11:return t=kx(t.type.render,!1),t;case 1:return t=kx(t.type,!0),t;default:return""}}function S_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hu:return"Fragment";case du:return"Portal";case __:return"Profiler";case Kb:return"StrictMode";case w_:return"Suspense";case b_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m3:return(t.displayName||"Context")+".Consumer";case p3:return(t._context.displayName||"Context")+".Provider";case Xb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yb:return e=t.displayName||null,e!==null?e:S_(t.type)||"Memo";case va:e=t._payload,t=t._init;try{return S_(t(e))}catch{}}return null}function ON(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S_(e);case 8:return e===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FN(t){var e=v3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sm(t){t._valueTracker||(t._valueTracker=FN(t))}function y3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function A_(t,e){var n=e.checked;return Sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x3(t,e){e=e.checked,e!=null&&Jb(t,"checked",e,!1)}function M_(t,e){x3(t,e);var n=Fa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?C_(t,e.type,n):e.hasOwnProperty("defaultValue")&&C_(t,e.type,Fa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function C_(t,e,n){(e!=="number"||_0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bd=Array.isArray;function Tu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function E_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Re(92));if(Bd(n)){if(1<n.length)throw Error(Re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fa(n)}}function _3(t,e){var n=Fa(e.value),r=Fa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Am,b3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Am=Am||document.createElement("div"),Am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Am.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NN=["Webkit","ms","Moz","O"];Object.keys(Fd).forEach(function(t){NN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fd[e]=Fd[t]})});function S3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fd.hasOwnProperty(t)&&Fd[t]?(""+e).trim():e+"px"}function A3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=S3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zN=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R_(t,e){if(e){if(zN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function P_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B_=null;function Qb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var I_=null,Ru=null,Pu=null;function lE(t){if(t=Jh(t)){if(typeof I_!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=wv(e),I_(t.stateNode,t.type,e))}}function M3(t){Ru?Pu?Pu.push(t):Pu=[t]:Ru=t}function C3(){if(Ru){var t=Ru,e=Pu;if(Pu=Ru=null,lE(t),e)for(t=0;t<e.length;t++)lE(e[t])}}function E3(t,e){return t(e)}function T3(){}var Ox=!1;function R3(t,e,n){if(Ox)return t(e,n);Ox=!0;try{return E3(t,e,n)}finally{Ox=!1,(Ru!==null||Pu!==null)&&(T3(),C3())}}function oh(t,e){var n=t.stateNode;if(n===null)return null;var r=wv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Re(231,e,typeof n));return n}var L_=!1;if(Fo)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){L_=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{L_=!1}function UN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Nd=!1,w0=null,b0=!1,D_=null,GN={onError:function(t){Nd=!0,w0=t}};function HN(t,e,n,r,i,s,o,a,l){Nd=!1,w0=null,UN.apply(GN,arguments)}function $N(t,e,n,r,i,s,o,a,l){if(HN.apply(this,arguments),Nd){if(Nd){var c=w0;Nd=!1,w0=null}else throw Error(Re(198));b0||(b0=!0,D_=c)}}function dc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cE(t){if(dc(t)!==t)throw Error(Re(188))}function VN(t){var e=t.alternate;if(!e){if(e=dc(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cE(i),t;if(s===r)return cE(i),e;s=s.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?t:e}function B3(t){return t=VN(t),t!==null?I3(t):null}function I3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I3(t);if(e!==null)return e;t=t.sibling}return null}var L3=bi.unstable_scheduleCallback,uE=bi.unstable_cancelCallback,WN=bi.unstable_shouldYield,jN=bi.unstable_requestPaint,On=bi.unstable_now,JN=bi.unstable_getCurrentPriorityLevel,qb=bi.unstable_ImmediatePriority,D3=bi.unstable_UserBlockingPriority,S0=bi.unstable_NormalPriority,KN=bi.unstable_LowPriority,k3=bi.unstable_IdlePriority,vv=null,Js=null;function XN(t){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(vv,t,void 0,(t.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:qN,YN=Math.log,QN=Math.LN2;function qN(t){return t>>>=0,t===0?32:31-(YN(t)/QN|0)|0}var Mm=64,Cm=4194304;function Id(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function A0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Id(a):(s&=o,s!==0&&(r=Id(s)))}else o=n&~i,o!==0?r=Id(o):s!==0&&(r=Id(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gs(e),i=1<<n,r|=t[n],e&=~i;return r}function ZN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function k_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O3(){var t=Mm;return Mm<<=1,!(Mm&4194240)&&(Mm=64),t}function Fx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gs(e),t[e]=n}function t4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var jt=0;function F3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N3,eS,z3,U3,G3,O_=!1,Em=[],Ea=null,Ta=null,Ra=null,ah=new Map,lh=new Map,wa=[],n4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fE(t,e){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(e.pointerId)}}function td(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jh(e),e!==null&&eS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function r4(t,e,n,r,i){switch(e){case"focusin":return Ea=td(Ea,t,e,n,r,i),!0;case"dragenter":return Ta=td(Ta,t,e,n,r,i),!0;case"mouseover":return Ra=td(Ra,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ah.set(s,td(ah.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lh.set(s,td(lh.get(s)||null,t,e,n,r,i)),!0}return!1}function H3(t){var e=Pl(t.target);if(e!==null){var n=dc(e);if(n!==null){if(e=n.tag,e===13){if(e=P3(n),e!==null){t.blockedOn=e,G3(t.priority,function(){z3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=F_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B_=r,n.target.dispatchEvent(r),B_=null}else return e=Jh(n),e!==null&&eS(e),t.blockedOn=n,!1;e.shift()}return!0}function dE(t,e,n){jg(t)&&n.delete(e)}function i4(){O_=!1,Ea!==null&&jg(Ea)&&(Ea=null),Ta!==null&&jg(Ta)&&(Ta=null),Ra!==null&&jg(Ra)&&(Ra=null),ah.forEach(dE),lh.forEach(dE)}function nd(t,e){t.blockedOn===e&&(t.blockedOn=null,O_||(O_=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,i4)))}function ch(t){function e(i){return nd(i,t)}if(0<Em.length){nd(Em[0],t);for(var n=1;n<Em.length;n++){var r=Em[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ea!==null&&nd(Ea,t),Ta!==null&&nd(Ta,t),Ra!==null&&nd(Ra,t),ah.forEach(e),lh.forEach(e),n=0;n<wa.length;n++)r=wa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wa.length&&(n=wa[0],n.blockedOn===null);)H3(n),n.blockedOn===null&&wa.shift()}var Bu=Jo.ReactCurrentBatchConfig,M0=!0;function s4(t,e,n,r){var i=jt,s=Bu.transition;Bu.transition=null;try{jt=1,tS(t,e,n,r)}finally{jt=i,Bu.transition=s}}function o4(t,e,n,r){var i=jt,s=Bu.transition;Bu.transition=null;try{jt=4,tS(t,e,n,r)}finally{jt=i,Bu.transition=s}}function tS(t,e,n,r){if(M0){var i=F_(t,e,n,r);if(i===null)Jx(t,e,r,C0,n),fE(t,r);else if(r4(i,t,e,n,r))r.stopPropagation();else if(fE(t,r),e&4&&-1<n4.indexOf(t)){for(;i!==null;){var s=Jh(i);if(s!==null&&N3(s),s=F_(t,e,n,r),s===null&&Jx(t,e,r,C0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jx(t,e,r,null,n)}}var C0=null;function F_(t,e,n,r){if(C0=null,t=Qb(r),t=Pl(t),t!==null)if(e=dc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return C0=t,null}function $3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JN()){case qb:return 1;case D3:return 4;case S0:case KN:return 16;case k3:return 536870912;default:return 16}default:return 16}}var Sa=null,nS=null,Jg=null;function V3(){if(Jg)return Jg;var t,e=nS,n=e.length,r,i="value"in Sa?Sa.value:Sa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jg=i.slice(t,1<r?1-r:void 0)}function Kg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tm(){return!0}function hE(){return!1}function Ci(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tm:hE,this.isPropagationStopped=hE,this}return Sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),e}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rS=Ci(pf),jh=Sn({},pf,{view:0,detail:0}),a4=Ci(jh),Nx,zx,rd,yv=Sn({},jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rd&&(rd&&t.type==="mousemove"?(Nx=t.screenX-rd.screenX,zx=t.screenY-rd.screenY):zx=Nx=0,rd=t),Nx)},movementY:function(t){return"movementY"in t?t.movementY:zx}}),pE=Ci(yv),l4=Sn({},yv,{dataTransfer:0}),c4=Ci(l4),u4=Sn({},jh,{relatedTarget:0}),Ux=Ci(u4),f4=Sn({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),d4=Ci(f4),h4=Sn({},pf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p4=Ci(h4),m4=Sn({},pf,{data:0}),mE=Ci(m4),g4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y4[t])?!!e[t]:!1}function iS(){return x4}var _4=Sn({},jh,{key:function(t){if(t.key){var e=g4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iS,charCode:function(t){return t.type==="keypress"?Kg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),w4=Ci(_4),b4=Sn({},yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gE=Ci(b4),S4=Sn({},jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iS}),A4=Ci(S4),M4=Sn({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),C4=Ci(M4),E4=Sn({},yv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T4=Ci(E4),R4=[9,13,27,32],sS=Fo&&"CompositionEvent"in window,zd=null;Fo&&"documentMode"in document&&(zd=document.documentMode);var P4=Fo&&"TextEvent"in window&&!zd,W3=Fo&&(!sS||zd&&8<zd&&11>=zd),vE=String.fromCharCode(32),yE=!1;function j3(t,e){switch(t){case"keyup":return R4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pu=!1;function B4(t,e){switch(t){case"compositionend":return J3(e);case"keypress":return e.which!==32?null:(yE=!0,vE);case"textInput":return t=e.data,t===vE&&yE?null:t;default:return null}}function I4(t,e){if(pu)return t==="compositionend"||!sS&&j3(t,e)?(t=V3(),Jg=nS=Sa=null,pu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W3&&e.locale!=="ko"?null:e.data;default:return null}}var L4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L4[t.type]:e==="textarea"}function K3(t,e,n,r){M3(r),e=E0(e,"onChange"),0<e.length&&(n=new rS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ud=null,uh=null;function D4(t){sB(t,0)}function xv(t){var e=vu(t);if(y3(e))return t}function k4(t,e){if(t==="change")return e}var X3=!1;if(Fo){var Gx;if(Fo){var Hx="oninput"in document;if(!Hx){var _E=document.createElement("div");_E.setAttribute("oninput","return;"),Hx=typeof _E.oninput=="function"}Gx=Hx}else Gx=!1;X3=Gx&&(!document.documentMode||9<document.documentMode)}function wE(){Ud&&(Ud.detachEvent("onpropertychange",Y3),uh=Ud=null)}function Y3(t){if(t.propertyName==="value"&&xv(uh)){var e=[];K3(e,uh,t,Qb(t)),R3(D4,e)}}function O4(t,e,n){t==="focusin"?(wE(),Ud=e,uh=n,Ud.attachEvent("onpropertychange",Y3)):t==="focusout"&&wE()}function F4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xv(uh)}function N4(t,e){if(t==="click")return xv(e)}function z4(t,e){if(t==="input"||t==="change")return xv(e)}function U4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _s=typeof Object.is=="function"?Object.is:U4;function fh(t,e){if(_s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!x_.call(e,i)||!_s(t[i],e[i]))return!1}return!0}function bE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SE(t,e){var n=bE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bE(n)}}function Q3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q3(){for(var t=window,e=_0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_0(t.document)}return e}function oS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G4(t){var e=q3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q3(n.ownerDocument.documentElement,n)){if(r!==null&&oS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=SE(n,s);var o=SE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var H4=Fo&&"documentMode"in document&&11>=document.documentMode,mu=null,N_=null,Gd=null,z_=!1;function AE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;z_||mu==null||mu!==_0(r)||(r=mu,"selectionStart"in r&&oS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gd&&fh(Gd,r)||(Gd=r,r=E0(N_,"onSelect"),0<r.length&&(e=new rS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mu)))}function Rm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gu={animationend:Rm("Animation","AnimationEnd"),animationiteration:Rm("Animation","AnimationIteration"),animationstart:Rm("Animation","AnimationStart"),transitionend:Rm("Transition","TransitionEnd")},$x={},Z3={};Fo&&(Z3=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function _v(t){if($x[t])return $x[t];if(!gu[t])return t;var e=gu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z3)return $x[t]=e[n];return t}var eB=_v("animationend"),tB=_v("animationiteration"),nB=_v("animationstart"),rB=_v("transitionend"),iB=new Map,ME="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(t,e){iB.set(t,e),fc(e,[t])}for(var Vx=0;Vx<ME.length;Vx++){var Wx=ME[Vx],$4=Wx.toLowerCase(),V4=Wx[0].toUpperCase()+Wx.slice(1);Xa($4,"on"+V4)}Xa(eB,"onAnimationEnd");Xa(tB,"onAnimationIteration");Xa(nB,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(rB,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function CE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$N(r,e,void 0,t),t.currentTarget=null}function sB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;CE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;CE(i,a,c),s=l}}}if(b0)throw t=D_,b0=!1,D_=null,t}function rn(t,e){var n=e[V_];n===void 0&&(n=e[V_]=new Set);var r=t+"__bubble";n.has(r)||(oB(e,t,2,!1),n.add(r))}function jx(t,e,n){var r=0;e&&(r|=4),oB(n,t,r,e)}var Pm="_reactListening"+Math.random().toString(36).slice(2);function dh(t){if(!t[Pm]){t[Pm]=!0,h3.forEach(function(n){n!=="selectionchange"&&(W4.has(n)||jx(n,!1,t),jx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pm]||(e[Pm]=!0,jx("selectionchange",!1,e))}}function oB(t,e,n,r){switch($3(e)){case 1:var i=s4;break;case 4:i=o4;break;default:i=tS}n=i.bind(null,e,n,t),i=void 0,!L_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jx(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}R3(function(){var c=s,f=Qb(n),h=[];e:{var p=iB.get(t);if(p!==void 0){var m=rS,v=t;switch(t){case"keypress":if(Kg(n)===0)break e;case"keydown":case"keyup":m=w4;break;case"focusin":v="focus",m=Ux;break;case"focusout":v="blur",m=Ux;break;case"beforeblur":case"afterblur":m=Ux;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=c4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=A4;break;case eB:case tB:case nB:m=d4;break;case rB:m=C4;break;case"scroll":m=a4;break;case"wheel":m=T4;break;case"copy":case"cut":case"paste":m=p4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gE}var g=(e&4)!==0,y=!g&&t==="scroll",_=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,b;w!==null;){b=w;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,_!==null&&(A=oh(w,_),A!=null&&g.push(hh(w,A,b)))),y)break;w=w.return}0<g.length&&(p=new m(p,v,null,n,f),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==B_&&(v=n.relatedTarget||n.fromElement)&&(Pl(v)||v[No]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Pl(v):null,v!==null&&(y=dc(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=pE,A="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=gE,A="onPointerLeave",_="onPointerEnter",w="pointer"),y=m==null?p:vu(m),b=v==null?p:vu(v),p=new g(A,w+"leave",m,n,f),p.target=y,p.relatedTarget=b,A=null,Pl(f)===c&&(g=new g(_,w+"enter",v,n,f),g.target=b,g.relatedTarget=y,A=g),y=A,m&&v)t:{for(g=m,_=v,w=0,b=g;b;b=kc(b))w++;for(b=0,A=_;A;A=kc(A))b++;for(;0<w-b;)g=kc(g),w--;for(;0<b-w;)_=kc(_),b--;for(;w--;){if(g===_||_!==null&&g===_.alternate)break t;g=kc(g),_=kc(_)}g=null}else g=null;m!==null&&EE(h,p,m,g,!1),v!==null&&y!==null&&EE(h,y,v,g,!0)}}e:{if(p=c?vu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=k4;else if(xE(p))if(X3)C=z4;else{C=F4;var E=O4}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=N4);if(C&&(C=C(t,c))){K3(h,C,n,f);break e}E&&E(t,p,c),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&C_(p,"number",p.value)}switch(E=c?vu(c):window,t){case"focusin":(xE(E)||E.contentEditable==="true")&&(mu=E,N_=c,Gd=null);break;case"focusout":Gd=N_=mu=null;break;case"mousedown":z_=!0;break;case"contextmenu":case"mouseup":case"dragend":z_=!1,AE(h,n,f);break;case"selectionchange":if(H4)break;case"keydown":case"keyup":AE(h,n,f)}var B;if(sS)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pu?j3(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(W3&&n.locale!=="ko"&&(pu||T!=="onCompositionStart"?T==="onCompositionEnd"&&pu&&(B=V3()):(Sa=f,nS="value"in Sa?Sa.value:Sa.textContent,pu=!0)),E=E0(c,T),0<E.length&&(T=new mE(T,t,null,n,f),h.push({event:T,listeners:E}),B?T.data=B:(B=J3(n),B!==null&&(T.data=B)))),(B=P4?B4(t,n):I4(t,n))&&(c=E0(c,"onBeforeInput"),0<c.length&&(f=new mE("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=B))}sB(h,e)})}function hh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function E0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=oh(t,n),s!=null&&r.unshift(hh(t,s,i)),s=oh(t,e),s!=null&&r.push(hh(t,s,i))),t=t.return}return r}function kc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function EE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=oh(n,s),l!=null&&o.unshift(hh(n,l,a))):i||(l=oh(n,s),l!=null&&o.push(hh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j4=/\r\n?/g,J4=/\u0000|\uFFFD/g;function TE(t){return(typeof t=="string"?t:""+t).replace(j4,`
`).replace(J4,"")}function Bm(t,e,n){if(e=TE(e),TE(t)!==e&&n)throw Error(Re(425))}function T0(){}var U_=null,G_=null;function H_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $_=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,RE=typeof Promise=="function"?Promise:void 0,X4=typeof queueMicrotask=="function"?queueMicrotask:typeof RE<"u"?function(t){return RE.resolve(null).then(t).catch(Y4)}:$_;function Y4(t){setTimeout(function(){throw t})}function Kx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ch(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ch(e)}function Pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mf=Math.random().toString(36).slice(2),$s="__reactFiber$"+mf,ph="__reactProps$"+mf,No="__reactContainer$"+mf,V_="__reactEvents$"+mf,Q4="__reactListeners$"+mf,q4="__reactHandles$"+mf;function Pl(t){var e=t[$s];if(e)return e;for(var n=t.parentNode;n;){if(e=n[No]||n[$s]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=PE(t);t!==null;){if(n=t[$s])return n;t=PE(t)}return e}t=n,n=t.parentNode}return null}function Jh(t){return t=t[$s]||t[No],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function wv(t){return t[ph]||null}var W_=[],yu=-1;function Ya(t){return{current:t}}function on(t){0>yu||(t.current=W_[yu],W_[yu]=null,yu--)}function nn(t,e){yu++,W_[yu]=t.current,t.current=e}var Na={},Br=Ya(Na),ni=Ya(!1),Zl=Na;function $u(t,e){var n=t.type.contextTypes;if(!n)return Na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ri(t){return t=t.childContextTypes,t!=null}function R0(){on(ni),on(Br)}function BE(t,e,n){if(Br.current!==Na)throw Error(Re(168));nn(Br,e),nn(ni,n)}function aB(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Re(108,ON(t)||"Unknown",i));return Sn({},n,r)}function P0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Na,Zl=Br.current,nn(Br,t),nn(ni,ni.current),!0}function IE(t,e,n){var r=t.stateNode;if(!r)throw Error(Re(169));n?(t=aB(t,e,Zl),r.__reactInternalMemoizedMergedChildContext=t,on(ni),on(Br),nn(Br,t)):on(ni),nn(ni,n)}var Ao=null,bv=!1,Xx=!1;function lB(t){Ao===null?Ao=[t]:Ao.push(t)}function Z4(t){bv=!0,lB(t)}function Qa(){if(!Xx&&Ao!==null){Xx=!0;var t=0,e=jt;try{var n=Ao;for(jt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ao=null,bv=!1}catch(i){throw Ao!==null&&(Ao=Ao.slice(t+1)),L3(qb,Qa),i}finally{jt=e,Xx=!1}}return null}var xu=[],_u=0,B0=null,I0=0,$i=[],Vi=0,ec=null,Ro=1,Po="";function bl(t,e){xu[_u++]=I0,xu[_u++]=B0,B0=t,I0=e}function cB(t,e,n){$i[Vi++]=Ro,$i[Vi++]=Po,$i[Vi++]=ec,ec=t;var r=Ro;t=Po;var i=32-gs(r)-1;r&=~(1<<i),n+=1;var s=32-gs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ro=1<<32-gs(e)+i|n<<i|r,Po=s+t}else Ro=1<<s|n<<i|r,Po=t}function aS(t){t.return!==null&&(bl(t,1),cB(t,1,0))}function lS(t){for(;t===B0;)B0=xu[--_u],xu[_u]=null,I0=xu[--_u],xu[_u]=null;for(;t===ec;)ec=$i[--Vi],$i[Vi]=null,Po=$i[--Vi],$i[Vi]=null,Ro=$i[--Vi],$i[Vi]=null}var yi=null,gi=null,un=!1,hs=null;function uB(t,e){var n=Ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yi=t,gi=Pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yi=t,gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ec!==null?{id:Ro,overflow:Po}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yi=t,gi=null,!0):!1;default:return!1}}function j_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J_(t){if(un){var e=gi;if(e){var n=e;if(!LE(t,e)){if(j_(t))throw Error(Re(418));e=Pa(n.nextSibling);var r=yi;e&&LE(t,e)?uB(r,n):(t.flags=t.flags&-4097|2,un=!1,yi=t)}}else{if(j_(t))throw Error(Re(418));t.flags=t.flags&-4097|2,un=!1,yi=t}}}function DE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yi=t}function Im(t){if(t!==yi)return!1;if(!un)return DE(t),un=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H_(t.type,t.memoizedProps)),e&&(e=gi)){if(j_(t))throw fB(),Error(Re(418));for(;e;)uB(t,e),e=Pa(e.nextSibling)}if(DE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gi=Pa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gi=null}}else gi=yi?Pa(t.stateNode.nextSibling):null;return!0}function fB(){for(var t=gi;t;)t=Pa(t.nextSibling)}function Vu(){gi=yi=null,un=!1}function cS(t){hs===null?hs=[t]:hs.push(t)}var e5=Jo.ReactCurrentBatchConfig;function us(t,e){if(t&&t.defaultProps){e=Sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var L0=Ya(null),D0=null,wu=null,uS=null;function fS(){uS=wu=D0=null}function dS(t){var e=L0.current;on(L0),t._currentValue=e}function K_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Iu(t,e){D0=t,uS=wu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ei=!0),t.firstContext=null)}function Qi(t){var e=t._currentValue;if(uS!==t)if(t={context:t,memoizedValue:e,next:null},wu===null){if(D0===null)throw Error(Re(308));wu=t,D0.dependencies={lanes:0,firstContext:t}}else wu=wu.next=t;return e}var Bl=null;function hS(t){Bl===null?Bl=[t]:Bl.push(t)}function dB(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hS(e)):(n.next=i.next,i.next=n),e.interleaved=n,zo(t,r)}function zo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ya=!1;function pS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Do(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zo(t,n)}return i=r.interleaved,i===null?(e.next=e,hS(r)):(e.next=i.next,i.next=e),r.interleaved=e,zo(t,n)}function Xg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zb(t,n)}}function kE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function k0(t,e,n,r){var i=t.updateQueue;ya=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(p=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Sn({},h,p);break e;case 2:ya=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nc|=o,t.lanes=o,t.memoizedState=h}}function OE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var pB=new d3.Component().refs;function X_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sv={isMounted:function(t){return(t=t._reactInternals)?dc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$r(),i=La(t),s=Do(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ba(t,s,i),e!==null&&(vs(e,t,i,r),Xg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$r(),i=La(t),s=Do(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ba(t,s,i),e!==null&&(vs(e,t,i,r),Xg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$r(),r=La(t),i=Do(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ba(t,i,r),e!==null&&(vs(e,t,r,n),Xg(e,t,r))}};function FE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fh(n,r)||!fh(i,s):!0}function mB(t,e,n){var r=!1,i=Na,s=e.contextType;return typeof s=="object"&&s!==null?s=Qi(s):(i=ri(e)?Zl:Br.current,r=e.contextTypes,s=(r=r!=null)?$u(t,i):Na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function NE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sv.enqueueReplaceState(e,e.state,null)}function Y_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=pB,pS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qi(s):(s=ri(e)?Zl:Br.current,i.context=$u(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(X_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sv.enqueueReplaceState(i,i.state,null),k0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function id(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===pB&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,t))}return t}function Lm(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zE(t){var e=t._init;return e(t._payload)}function gB(t){function e(_,w){if(t){var b=_.deletions;b===null?(_.deletions=[w],_.flags|=16):b.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Da(_,w),_.index=0,_.sibling=null,_}function s(_,w,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<w?(_.flags|=2,w):b):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,b,A){return w===null||w.tag!==6?(w=n1(b,_.mode,A),w.return=_,w):(w=i(w,b),w.return=_,w)}function l(_,w,b,A){var C=b.type;return C===hu?f(_,w,b.props.children,A,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===va&&zE(C)===w.type)?(A=i(w,b.props),A.ref=id(_,w,b),A.return=_,A):(A=t0(b.type,b.key,b.props,null,_.mode,A),A.ref=id(_,w,b),A.return=_,A)}function c(_,w,b,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=r1(b,_.mode,A),w.return=_,w):(w=i(w,b.children||[]),w.return=_,w)}function f(_,w,b,A,C){return w===null||w.tag!==7?(w=$l(b,_.mode,A,C),w.return=_,w):(w=i(w,b),w.return=_,w)}function h(_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=n1(""+w,_.mode,b),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bm:return b=t0(w.type,w.key,w.props,null,_.mode,b),b.ref=id(_,null,w),b.return=_,b;case du:return w=r1(w,_.mode,b),w.return=_,w;case va:var A=w._init;return h(_,A(w._payload),b)}if(Bd(w)||Zf(w))return w=$l(w,_.mode,b,null),w.return=_,w;Lm(_,w)}return null}function p(_,w,b,A){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(_,w,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bm:return b.key===C?l(_,w,b,A):null;case du:return b.key===C?c(_,w,b,A):null;case va:return C=b._init,p(_,w,C(b._payload),A)}if(Bd(b)||Zf(b))return C!==null?null:f(_,w,b,A,null);Lm(_,b)}return null}function m(_,w,b,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(b)||null,a(w,_,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bm:return _=_.get(A.key===null?b:A.key)||null,l(w,_,A,C);case du:return _=_.get(A.key===null?b:A.key)||null,c(w,_,A,C);case va:var E=A._init;return m(_,w,b,E(A._payload),C)}if(Bd(A)||Zf(A))return _=_.get(b)||null,f(w,_,A,C,null);Lm(w,A)}return null}function v(_,w,b,A){for(var C=null,E=null,B=w,T=w=0,I=null;B!==null&&T<b.length;T++){B.index>T?(I=B,B=null):I=B.sibling;var L=p(_,B,b[T],A);if(L===null){B===null&&(B=I);break}t&&B&&L.alternate===null&&e(_,B),w=s(L,w,T),E===null?C=L:E.sibling=L,E=L,B=I}if(T===b.length)return n(_,B),un&&bl(_,T),C;if(B===null){for(;T<b.length;T++)B=h(_,b[T],A),B!==null&&(w=s(B,w,T),E===null?C=B:E.sibling=B,E=B);return un&&bl(_,T),C}for(B=r(_,B);T<b.length;T++)I=m(B,_,T,b[T],A),I!==null&&(t&&I.alternate!==null&&B.delete(I.key===null?T:I.key),w=s(I,w,T),E===null?C=I:E.sibling=I,E=I);return t&&B.forEach(function(k){return e(_,k)}),un&&bl(_,T),C}function g(_,w,b,A){var C=Zf(b);if(typeof C!="function")throw Error(Re(150));if(b=C.call(b),b==null)throw Error(Re(151));for(var E=C=null,B=w,T=w=0,I=null,L=b.next();B!==null&&!L.done;T++,L=b.next()){B.index>T?(I=B,B=null):I=B.sibling;var k=p(_,B,L.value,A);if(k===null){B===null&&(B=I);break}t&&B&&k.alternate===null&&e(_,B),w=s(k,w,T),E===null?C=k:E.sibling=k,E=k,B=I}if(L.done)return n(_,B),un&&bl(_,T),C;if(B===null){for(;!L.done;T++,L=b.next())L=h(_,L.value,A),L!==null&&(w=s(L,w,T),E===null?C=L:E.sibling=L,E=L);return un&&bl(_,T),C}for(B=r(_,B);!L.done;T++,L=b.next())L=m(B,_,T,L.value,A),L!==null&&(t&&L.alternate!==null&&B.delete(L.key===null?T:L.key),w=s(L,w,T),E===null?C=L:E.sibling=L,E=L);return t&&B.forEach(function(G){return e(_,G)}),un&&bl(_,T),C}function y(_,w,b,A){if(typeof b=="object"&&b!==null&&b.type===hu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bm:e:{for(var C=b.key,E=w;E!==null;){if(E.key===C){if(C=b.type,C===hu){if(E.tag===7){n(_,E.sibling),w=i(E,b.props.children),w.return=_,_=w;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===va&&zE(C)===E.type){n(_,E.sibling),w=i(E,b.props),w.ref=id(_,E,b),w.return=_,_=w;break e}n(_,E);break}else e(_,E);E=E.sibling}b.type===hu?(w=$l(b.props.children,_.mode,A,b.key),w.return=_,_=w):(A=t0(b.type,b.key,b.props,null,_.mode,A),A.ref=id(_,w,b),A.return=_,_=A)}return o(_);case du:e:{for(E=b.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(_,w.sibling),w=i(w,b.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=r1(b,_.mode,A),w.return=_,_=w}return o(_);case va:return E=b._init,y(_,w,E(b._payload),A)}if(Bd(b))return v(_,w,b,A);if(Zf(b))return g(_,w,b,A);Lm(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,b),w.return=_,_=w):(n(_,w),w=n1(b,_.mode,A),w.return=_,_=w),o(_)):n(_,w)}return y}var Wu=gB(!0),vB=gB(!1),Kh={},Ks=Ya(Kh),mh=Ya(Kh),gh=Ya(Kh);function Il(t){if(t===Kh)throw Error(Re(174));return t}function mS(t,e){switch(nn(gh,e),nn(mh,t),nn(Ks,Kh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:T_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=T_(e,t)}on(Ks),nn(Ks,e)}function ju(){on(Ks),on(mh),on(gh)}function yB(t){Il(gh.current);var e=Il(Ks.current),n=T_(e,t.type);e!==n&&(nn(mh,t),nn(Ks,n))}function gS(t){mh.current===t&&(on(Ks),on(mh))}var gn=Ya(0);function O0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yx=[];function vS(){for(var t=0;t<Yx.length;t++)Yx[t]._workInProgressVersionPrimary=null;Yx.length=0}var Yg=Jo.ReactCurrentDispatcher,Qx=Jo.ReactCurrentBatchConfig,tc=0,bn=null,Kn=null,sr=null,F0=!1,Hd=!1,vh=0,t5=0;function Sr(){throw Error(Re(321))}function yS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_s(t[n],e[n]))return!1;return!0}function xS(t,e,n,r,i,s){if(tc=s,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yg.current=t===null||t.memoizedState===null?s5:o5,t=n(r,i),Hd){s=0;do{if(Hd=!1,vh=0,25<=s)throw Error(Re(301));s+=1,sr=Kn=null,e.updateQueue=null,Yg.current=a5,t=n(r,i)}while(Hd)}if(Yg.current=N0,e=Kn!==null&&Kn.next!==null,tc=0,sr=Kn=bn=null,F0=!1,e)throw Error(Re(300));return t}function _S(){var t=vh!==0;return vh=0,t}function zs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?bn.memoizedState=sr=t:sr=sr.next=t,sr}function qi(){if(Kn===null){var t=bn.alternate;t=t!==null?t.memoizedState:null}else t=Kn.next;var e=sr===null?bn.memoizedState:sr.next;if(e!==null)sr=e,Kn=t;else{if(t===null)throw Error(Re(310));Kn=t,t={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},sr===null?bn.memoizedState=sr=t:sr=sr.next=t}return sr}function yh(t,e){return typeof e=="function"?e(t):e}function qx(t){var e=qi(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=Kn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((tc&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,bn.lanes|=f,nc|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,_s(r,e.memoizedState)||(ei=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bn.lanes|=s,nc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zx(t){var e=qi(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_s(s,e.memoizedState)||(ei=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xB(){}function _B(t,e){var n=bn,r=qi(),i=e(),s=!_s(r.memoizedState,i);if(s&&(r.memoizedState=i,ei=!0),r=r.queue,wS(SB.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||sr!==null&&sr.memoizedState.tag&1){if(n.flags|=2048,xh(9,bB.bind(null,n,r,i,e),void 0,null),lr===null)throw Error(Re(349));tc&30||wB(n,e,i)}return i}function wB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bB(t,e,n,r){e.value=n,e.getSnapshot=r,AB(e)&&MB(t)}function SB(t,e,n){return n(function(){AB(e)&&MB(t)})}function AB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_s(t,n)}catch{return!0}}function MB(t){var e=zo(t,1);e!==null&&vs(e,t,1,-1)}function UE(t){var e=zs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},e.queue=t,t=t.dispatch=i5.bind(null,bn,t),[e.memoizedState,t]}function xh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CB(){return qi().memoizedState}function Qg(t,e,n,r){var i=zs();bn.flags|=t,i.memoizedState=xh(1|e,n,void 0,r===void 0?null:r)}function Av(t,e,n,r){var i=qi();r=r===void 0?null:r;var s=void 0;if(Kn!==null){var o=Kn.memoizedState;if(s=o.destroy,r!==null&&yS(r,o.deps)){i.memoizedState=xh(e,n,s,r);return}}bn.flags|=t,i.memoizedState=xh(1|e,n,s,r)}function GE(t,e){return Qg(8390656,8,t,e)}function wS(t,e){return Av(2048,8,t,e)}function EB(t,e){return Av(4,2,t,e)}function TB(t,e){return Av(4,4,t,e)}function RB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PB(t,e,n){return n=n!=null?n.concat([t]):null,Av(4,4,RB.bind(null,e,t),n)}function bS(){}function BB(t,e){var n=qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IB(t,e){var n=qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LB(t,e,n){return tc&21?(_s(n,e)||(n=O3(),bn.lanes|=n,nc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ei=!0),t.memoizedState=n)}function n5(t,e){var n=jt;jt=n!==0&&4>n?n:4,t(!0);var r=Qx.transition;Qx.transition={};try{t(!1),e()}finally{jt=n,Qx.transition=r}}function DB(){return qi().memoizedState}function r5(t,e,n){var r=La(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kB(t))OB(e,n);else if(n=dB(t,e,n,r),n!==null){var i=$r();vs(n,t,r,i),FB(n,e,r)}}function i5(t,e,n){var r=La(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kB(t))OB(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_s(a,o)){var l=e.interleaved;l===null?(i.next=i,hS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dB(t,e,i,r),n!==null&&(i=$r(),vs(n,t,r,i),FB(n,e,r))}}function kB(t){var e=t.alternate;return t===bn||e!==null&&e===bn}function OB(t,e){Hd=F0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FB(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zb(t,n)}}var N0={readContext:Qi,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},s5={readContext:Qi,useCallback:function(t,e){return zs().memoizedState=[t,e===void 0?null:e],t},useContext:Qi,useEffect:GE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qg(4194308,4,RB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qg(4,2,t,e)},useMemo:function(t,e){var n=zs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r5.bind(null,bn,t),[r.memoizedState,t]},useRef:function(t){var e=zs();return t={current:t},e.memoizedState=t},useState:UE,useDebugValue:bS,useDeferredValue:function(t){return zs().memoizedState=t},useTransition:function(){var t=UE(!1),e=t[0];return t=n5.bind(null,t[1]),zs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bn,i=zs();if(un){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=e(),lr===null)throw Error(Re(349));tc&30||wB(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,GE(SB.bind(null,r,s,t),[t]),r.flags|=2048,xh(9,bB.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zs(),e=lr.identifierPrefix;if(un){var n=Po,r=Ro;n=(r&~(1<<32-gs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o5={readContext:Qi,useCallback:BB,useContext:Qi,useEffect:wS,useImperativeHandle:PB,useInsertionEffect:EB,useLayoutEffect:TB,useMemo:IB,useReducer:qx,useRef:CB,useState:function(){return qx(yh)},useDebugValue:bS,useDeferredValue:function(t){var e=qi();return LB(e,Kn.memoizedState,t)},useTransition:function(){var t=qx(yh)[0],e=qi().memoizedState;return[t,e]},useMutableSource:xB,useSyncExternalStore:_B,useId:DB,unstable_isNewReconciler:!1},a5={readContext:Qi,useCallback:BB,useContext:Qi,useEffect:wS,useImperativeHandle:PB,useInsertionEffect:EB,useLayoutEffect:TB,useMemo:IB,useReducer:Zx,useRef:CB,useState:function(){return Zx(yh)},useDebugValue:bS,useDeferredValue:function(t){var e=qi();return Kn===null?e.memoizedState=t:LB(e,Kn.memoizedState,t)},useTransition:function(){var t=Zx(yh)[0],e=qi().memoizedState;return[t,e]},useMutableSource:xB,useSyncExternalStore:_B,useId:DB,unstable_isNewReconciler:!1};function Ju(t,e){try{var n="",r=e;do n+=kN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function e1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Q_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l5=typeof WeakMap=="function"?WeakMap:Map;function NB(t,e,n){n=Do(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){U0||(U0=!0,aw=r),Q_(t,e)},n}function zB(t,e,n){n=Do(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Q_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Q_(t,e),typeof r!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function HE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b5.bind(null,t,e,n),e.then(t,t))}function $E(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Do(-1,1),e.tag=2,Ba(n,e,1))),n.lanes|=1),t)}var c5=Jo.ReactCurrentOwner,ei=!1;function Ur(t,e,n,r){e.child=t===null?vB(e,null,n,r):Wu(e,t.child,n,r)}function WE(t,e,n,r,i){n=n.render;var s=e.ref;return Iu(e,i),r=xS(t,e,n,r,s,i),n=_S(),t!==null&&!ei?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uo(t,e,i)):(un&&n&&aS(e),e.flags|=1,Ur(t,e,r,i),e.child)}function jE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!PS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,UB(t,e,s,r,i)):(t=t0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(o,r)&&t.ref===e.ref)return Uo(t,e,i)}return e.flags|=1,t=Da(s,r),t.ref=e.ref,t.return=e,e.child=t}function UB(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fh(s,r)&&t.ref===e.ref)if(ei=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ei=!0);else return e.lanes=t.lanes,Uo(t,e,i)}return q_(t,e,n,r,i)}function GB(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(Su,hi),hi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nn(Su,hi),hi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nn(Su,hi),hi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nn(Su,hi),hi|=r;return Ur(t,e,i,n),e.child}function HB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function q_(t,e,n,r,i){var s=ri(n)?Zl:Br.current;return s=$u(e,s),Iu(e,i),n=xS(t,e,n,r,s,i),r=_S(),t!==null&&!ei?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uo(t,e,i)):(un&&r&&aS(e),e.flags|=1,Ur(t,e,n,i),e.child)}function JE(t,e,n,r,i){if(ri(n)){var s=!0;P0(e)}else s=!1;if(Iu(e,i),e.stateNode===null)qg(t,e),mB(e,n,r),Y_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qi(c):(c=ri(n)?Zl:Br.current,c=$u(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&NE(e,o,r,c),ya=!1;var p=e.memoizedState;o.state=p,k0(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ni.current||ya?(typeof f=="function"&&(X_(e,n,f,r),l=e.memoizedState),(a=ya||FE(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hB(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:us(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qi(l):(l=ri(n)?Zl:Br.current,l=$u(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&NE(e,o,r,l),ya=!1,p=e.memoizedState,o.state=p,k0(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||ni.current||ya?(typeof m=="function"&&(X_(e,n,m,r),v=e.memoizedState),(c=ya||FE(e,n,c,r,p,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Z_(t,e,n,r,s,i)}function Z_(t,e,n,r,i,s){HB(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&IE(e,n,!1),Uo(t,e,s);r=e.stateNode,c5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wu(e,t.child,null,s),e.child=Wu(e,null,a,s)):Ur(t,e,a,s),e.memoizedState=r.state,i&&IE(e,n,!0),e.child}function $B(t){var e=t.stateNode;e.pendingContext?BE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BE(t,e.context,!1),mS(t,e.containerInfo)}function KE(t,e,n,r,i){return Vu(),cS(i),e.flags|=256,Ur(t,e,n,r),e.child}var ew={dehydrated:null,treeContext:null,retryLane:0};function tw(t){return{baseLanes:t,cachePool:null,transitions:null}}function VB(t,e,n){var r=e.pendingProps,i=gn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nn(gn,i&1),t===null)return J_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ev(o,r,0,null),t=$l(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tw(n),e.memoizedState=ew,t):SS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return u5(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Da(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Da(a,s):(s=$l(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ew,r}return s=t.child,t=s.sibling,r=Da(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function SS(t,e){return e=Ev({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dm(t,e,n,r){return r!==null&&cS(r),Wu(e,t.child,null,n),t=SS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u5(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=e1(Error(Re(422))),Dm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ev({mode:"visible",children:r.children},i,0,null),s=$l(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wu(e,t.child,null,o),e.child.memoizedState=tw(o),e.memoizedState=ew,s);if(!(e.mode&1))return Dm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Re(419)),r=e1(s,r,void 0),Dm(t,e,o,r)}if(a=(o&t.childLanes)!==0,ei||a){if(r=lr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zo(t,i),vs(r,t,i,-1))}return RS(),r=e1(Error(Re(421))),Dm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=S5.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gi=Pa(i.nextSibling),yi=e,un=!0,hs=null,t!==null&&($i[Vi++]=Ro,$i[Vi++]=Po,$i[Vi++]=ec,Ro=t.id,Po=t.overflow,ec=e),e=SS(e,r.children),e.flags|=4096,e)}function XE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),K_(t.return,e,n)}function t1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WB(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ur(t,e,r.children,n),r=gn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XE(t,n,e);else if(t.tag===19)XE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nn(gn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&O0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),t1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&O0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}t1(e,!0,n,null,s);break;case"together":t1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Uo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,n=Da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f5(t,e,n){switch(e.tag){case 3:$B(e),Vu();break;case 5:yB(e);break;case 1:ri(e.type)&&P0(e);break;case 4:mS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nn(L0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nn(gn,gn.current&1),e.flags|=128,null):n&e.child.childLanes?VB(t,e,n):(nn(gn,gn.current&1),t=Uo(t,e,n),t!==null?t.sibling:null);nn(gn,gn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WB(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nn(gn,gn.current),r)break;return null;case 22:case 23:return e.lanes=0,GB(t,e,n)}return Uo(t,e,n)}var jB,nw,JB,KB;jB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nw=function(){};JB=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Il(Ks.current);var s=null;switch(n){case"input":i=A_(t,i),r=A_(t,r),s=[];break;case"select":i=Sn({},i,{value:void 0}),r=Sn({},r,{value:void 0}),s=[];break;case"textarea":i=E_(t,i),r=E_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=T0)}R_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ih.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ih.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};KB=function(t,e,n,r){n!==r&&(e.flags|=4)};function sd(t,e){if(!un)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d5(t,e,n){var r=e.pendingProps;switch(lS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(e),null;case 1:return ri(e.type)&&R0(),Ar(e),null;case 3:return r=e.stateNode,ju(),on(ni),on(Br),vS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Im(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(uw(hs),hs=null))),nw(t,e),Ar(e),null;case 5:gS(e);var i=Il(gh.current);if(n=e.type,t!==null&&e.stateNode!=null)JB(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return Ar(e),null}if(t=Il(Ks.current),Im(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$s]=e,r[ph]=s,t=(e.mode&1)!==0,n){case"dialog":rn("cancel",r),rn("close",r);break;case"iframe":case"object":case"embed":rn("load",r);break;case"video":case"audio":for(i=0;i<Ld.length;i++)rn(Ld[i],r);break;case"source":rn("error",r);break;case"img":case"image":case"link":rn("error",r),rn("load",r);break;case"details":rn("toggle",r);break;case"input":iE(r,s),rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rn("invalid",r);break;case"textarea":oE(r,s),rn("invalid",r)}R_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bm(r.textContent,a,t),i=["children",""+a]):ih.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rn("scroll",r)}switch(n){case"input":Sm(r),sE(r,s,!0);break;case"textarea":Sm(r),aE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=T0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$s]=e,t[ph]=r,jB(t,e,!1,!1),e.stateNode=t;e:{switch(o=P_(n,r),n){case"dialog":rn("cancel",t),rn("close",t),i=r;break;case"iframe":case"object":case"embed":rn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ld.length;i++)rn(Ld[i],t);i=r;break;case"source":rn("error",t),i=r;break;case"img":case"image":case"link":rn("error",t),rn("load",t),i=r;break;case"details":rn("toggle",t),i=r;break;case"input":iE(t,r),i=A_(t,r),rn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Sn({},r,{value:void 0}),rn("invalid",t);break;case"textarea":oE(t,r),i=E_(t,r),rn("invalid",t);break;default:i=r}R_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sh(t,l):typeof l=="number"&&sh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ih.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rn("scroll",t):l!=null&&Jb(t,s,l,o))}switch(n){case"input":Sm(t),sE(t,r,!1);break;case"textarea":Sm(t),aE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Tu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Tu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=T0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ar(e),null;case 6:if(t&&e.stateNode!=null)KB(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Re(166));if(n=Il(gh.current),Il(Ks.current),Im(e)){if(r=e.stateNode,n=e.memoizedProps,r[$s]=e,(s=r.nodeValue!==n)&&(t=yi,t!==null))switch(t.tag){case 3:Bm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$s]=e,e.stateNode=r}return Ar(e),null;case 13:if(on(gn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(un&&gi!==null&&e.mode&1&&!(e.flags&128))fB(),Vu(),e.flags|=98560,s=!1;else if(s=Im(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Re(317));s[$s]=e}else Vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ar(e),s=!1}else hs!==null&&(uw(hs),hs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gn.current&1?Xn===0&&(Xn=3):RS())),e.updateQueue!==null&&(e.flags|=4),Ar(e),null);case 4:return ju(),nw(t,e),t===null&&dh(e.stateNode.containerInfo),Ar(e),null;case 10:return dS(e.type._context),Ar(e),null;case 17:return ri(e.type)&&R0(),Ar(e),null;case 19:if(on(gn),s=e.memoizedState,s===null)return Ar(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sd(s,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=O0(t),o!==null){for(e.flags|=128,sd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nn(gn,gn.current&1|2),e.child}t=t.sibling}s.tail!==null&&On()>Ku&&(e.flags|=128,r=!0,sd(s,!1),e.lanes=4194304)}else{if(!r)if(t=O0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!un)return Ar(e),null}else 2*On()-s.renderingStartTime>Ku&&n!==1073741824&&(e.flags|=128,r=!0,sd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=On(),e.sibling=null,n=gn.current,nn(gn,r?n&1|2:n&1),e):(Ar(e),null);case 22:case 23:return TS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hi&1073741824&&(Ar(e),e.subtreeFlags&6&&(e.flags|=8192)):Ar(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function h5(t,e){switch(lS(e),e.tag){case 1:return ri(e.type)&&R0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ju(),on(ni),on(Br),vS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gS(e),null;case 13:if(on(gn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));Vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(gn),null;case 4:return ju(),null;case 10:return dS(e.type._context),null;case 22:case 23:return TS(),null;case 24:return null;default:return null}}var km=!1,Tr=!1,p5=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function bu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(t,e,r)}else n.current=null}function rw(t,e,n){try{n()}catch(r){Pn(t,e,r)}}var YE=!1;function m5(t,e){if(U_=M0,t=q3(),oS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++f===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(G_={focusedElem:t,selectionRange:n},M0=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:us(e.type,g),y);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(A){Pn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return v=YE,YE=!1,v}function $d(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rw(e,n,s)}i=i.next}while(i!==r)}}function Mv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XB(t){var e=t.alternate;e!==null&&(t.alternate=null,XB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$s],delete e[ph],delete e[V_],delete e[Q4],delete e[q4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YB(t){return t.tag===5||t.tag===3||t.tag===4}function QE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=T0));else if(r!==4&&(t=t.child,t!==null))for(sw(t,e,n),t=t.sibling;t!==null;)sw(t,e,n),t=t.sibling}function ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ow(t,e,n),t=t.sibling;t!==null;)ow(t,e,n),t=t.sibling}var dr=null,fs=!1;function la(t,e,n){for(n=n.child;n!==null;)QB(t,e,n),n=n.sibling}function QB(t,e,n){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(vv,n)}catch{}switch(n.tag){case 5:Tr||bu(n,e);case 6:var r=dr,i=fs;dr=null,la(t,e,n),dr=r,fs=i,dr!==null&&(fs?(t=dr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dr.removeChild(n.stateNode));break;case 18:dr!==null&&(fs?(t=dr,n=n.stateNode,t.nodeType===8?Kx(t.parentNode,n):t.nodeType===1&&Kx(t,n),ch(t)):Kx(dr,n.stateNode));break;case 4:r=dr,i=fs,dr=n.stateNode.containerInfo,fs=!0,la(t,e,n),dr=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rw(n,e,o),i=i.next}while(i!==r)}la(t,e,n);break;case 1:if(!Tr&&(bu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pn(n,e,a)}la(t,e,n);break;case 21:la(t,e,n);break;case 22:n.mode&1?(Tr=(r=Tr)||n.memoizedState!==null,la(t,e,n),Tr=r):la(t,e,n);break;default:la(t,e,n)}}function qE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p5),e.forEach(function(r){var i=A5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function os(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dr=a.stateNode,fs=!1;break e;case 3:dr=a.stateNode.containerInfo,fs=!0;break e;case 4:dr=a.stateNode.containerInfo,fs=!0;break e}a=a.return}if(dr===null)throw Error(Re(160));QB(s,o,i),dr=null,fs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Pn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qB(e,t),e=e.sibling}function qB(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(os(e,t),Fs(t),r&4){try{$d(3,t,t.return),Mv(3,t)}catch(g){Pn(t,t.return,g)}try{$d(5,t,t.return)}catch(g){Pn(t,t.return,g)}}break;case 1:os(e,t),Fs(t),r&512&&n!==null&&bu(n,n.return);break;case 5:if(os(e,t),Fs(t),r&512&&n!==null&&bu(n,n.return),t.flags&32){var i=t.stateNode;try{sh(i,"")}catch(g){Pn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&x3(i,s),P_(a,o);var c=P_(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?A3(i,h):f==="dangerouslySetInnerHTML"?b3(i,h):f==="children"?sh(i,h):Jb(i,f,h,c)}switch(a){case"input":M_(i,s);break;case"textarea":_3(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Tu(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Tu(i,!!s.multiple,s.defaultValue,!0):Tu(i,!!s.multiple,s.multiple?[]:"",!1))}i[ph]=s}catch(g){Pn(t,t.return,g)}}break;case 6:if(os(e,t),Fs(t),r&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Pn(t,t.return,g)}}break;case 3:if(os(e,t),Fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ch(e.containerInfo)}catch(g){Pn(t,t.return,g)}break;case 4:os(e,t),Fs(t);break;case 13:os(e,t),Fs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(CS=On())),r&4&&qE(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Tr=(c=Tr)||f,os(e,t),Tr=c):os(e,t),Fs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Ye=t,f=t.child;f!==null;){for(h=Ye=f;Ye!==null;){switch(p=Ye,m=p.child,p.tag){case 0:case 11:case 14:case 15:$d(4,p,p.return);break;case 1:bu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Pn(r,n,g)}}break;case 5:bu(p,p.return);break;case 22:if(p.memoizedState!==null){eT(h);continue}}m!==null?(m.return=p,Ye=m):eT(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=S3("display",o))}catch(g){Pn(t,t.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Pn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:os(e,t),Fs(t),r&4&&qE(t);break;case 21:break;default:os(e,t),Fs(t)}}function Fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YB(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sh(i,""),r.flags&=-33);var s=QE(t);ow(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=QE(t);sw(t,a,o);break;default:throw Error(Re(161))}}catch(l){Pn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g5(t,e,n){Ye=t,ZB(t)}function ZB(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||km;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Tr;a=km;var c=Tr;if(km=o,(Tr=l)&&!c)for(Ye=i;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?tT(i):l!==null?(l.return=o,Ye=l):tT(i);for(;s!==null;)Ye=s,ZB(s),s=s.sibling;Ye=i,km=a,Tr=c}ZE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):ZE(t)}}function ZE(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tr||Mv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:us(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&OE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ch(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Tr||e.flags&512&&iw(e)}catch(p){Pn(e,e.return,p)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function eT(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function tT(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mv(4,e)}catch(l){Pn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pn(e,i,l)}}var s=e.return;try{iw(e)}catch(l){Pn(e,s,l)}break;case 5:var o=e.return;try{iw(e)}catch(l){Pn(e,o,l)}}}catch(l){Pn(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var v5=Math.ceil,z0=Jo.ReactCurrentDispatcher,AS=Jo.ReactCurrentOwner,Xi=Jo.ReactCurrentBatchConfig,kt=0,lr=null,Vn=null,gr=0,hi=0,Su=Ya(0),Xn=0,_h=null,nc=0,Cv=0,MS=0,Vd=null,qr=null,CS=0,Ku=1/0,So=null,U0=!1,aw=null,Ia=null,Om=!1,Aa=null,G0=0,Wd=0,lw=null,Zg=-1,e0=0;function $r(){return kt&6?On():Zg!==-1?Zg:Zg=On()}function La(t){return t.mode&1?kt&2&&gr!==0?gr&-gr:e5.transition!==null?(e0===0&&(e0=O3()),e0):(t=jt,t!==0||(t=window.event,t=t===void 0?16:$3(t.type)),t):1}function vs(t,e,n,r){if(50<Wd)throw Wd=0,lw=null,Error(Re(185));Wh(t,n,r),(!(kt&2)||t!==lr)&&(t===lr&&(!(kt&2)&&(Cv|=n),Xn===4&&ba(t,gr)),ii(t,r),n===1&&kt===0&&!(e.mode&1)&&(Ku=On()+500,bv&&Qa()))}function ii(t,e){var n=t.callbackNode;e4(t,e);var r=A0(t,t===lr?gr:0);if(r===0)n!==null&&uE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uE(n),e===1)t.tag===0?Z4(nT.bind(null,t)):lB(nT.bind(null,t)),X4(function(){!(kt&6)&&Qa()}),n=null;else{switch(F3(r)){case 1:n=qb;break;case 4:n=D3;break;case 16:n=S0;break;case 536870912:n=k3;break;default:n=S0}n=aI(n,eI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eI(t,e){if(Zg=-1,e0=0,kt&6)throw Error(Re(327));var n=t.callbackNode;if(Lu()&&t.callbackNode!==n)return null;var r=A0(t,t===lr?gr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=H0(t,r);else{e=r;var i=kt;kt|=2;var s=nI();(lr!==t||gr!==e)&&(So=null,Ku=On()+500,Hl(t,e));do try{_5();break}catch(a){tI(t,a)}while(1);fS(),z0.current=s,kt=i,Vn!==null?e=0:(lr=null,gr=0,e=Xn)}if(e!==0){if(e===2&&(i=k_(t),i!==0&&(r=i,e=cw(t,i))),e===1)throw n=_h,Hl(t,0),ba(t,r),ii(t,On()),n;if(e===6)ba(t,r);else{if(i=t.current.alternate,!(r&30)&&!y5(i)&&(e=H0(t,r),e===2&&(s=k_(t),s!==0&&(r=s,e=cw(t,s))),e===1))throw n=_h,Hl(t,0),ba(t,r),ii(t,On()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Re(345));case 2:Sl(t,qr,So);break;case 3:if(ba(t,r),(r&130023424)===r&&(e=CS+500-On(),10<e)){if(A0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$_(Sl.bind(null,t,qr,So),e);break}Sl(t,qr,So);break;case 4:if(ba(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v5(r/1960))-r,10<r){t.timeoutHandle=$_(Sl.bind(null,t,qr,So),r);break}Sl(t,qr,So);break;case 5:Sl(t,qr,So);break;default:throw Error(Re(329))}}}return ii(t,On()),t.callbackNode===n?eI.bind(null,t):null}function cw(t,e){var n=Vd;return t.current.memoizedState.isDehydrated&&(Hl(t,e).flags|=256),t=H0(t,e),t!==2&&(e=qr,qr=n,e!==null&&uw(e)),t}function uw(t){qr===null?qr=t:qr.push.apply(qr,t)}function y5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_s(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(t,e){for(e&=~MS,e&=~Cv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gs(e),r=1<<n;t[n]=-1,e&=~r}}function nT(t){if(kt&6)throw Error(Re(327));Lu();var e=A0(t,0);if(!(e&1))return ii(t,On()),null;var n=H0(t,e);if(t.tag!==0&&n===2){var r=k_(t);r!==0&&(e=r,n=cw(t,r))}if(n===1)throw n=_h,Hl(t,0),ba(t,e),ii(t,On()),n;if(n===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sl(t,qr,So),ii(t,On()),null}function ES(t,e){var n=kt;kt|=1;try{return t(e)}finally{kt=n,kt===0&&(Ku=On()+500,bv&&Qa())}}function rc(t){Aa!==null&&Aa.tag===0&&!(kt&6)&&Lu();var e=kt;kt|=1;var n=Xi.transition,r=jt;try{if(Xi.transition=null,jt=1,t)return t()}finally{jt=r,Xi.transition=n,kt=e,!(kt&6)&&Qa()}}function TS(){hi=Su.current,on(Su)}function Hl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K4(n)),Vn!==null)for(n=Vn.return;n!==null;){var r=n;switch(lS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&R0();break;case 3:ju(),on(ni),on(Br),vS();break;case 5:gS(r);break;case 4:ju();break;case 13:on(gn);break;case 19:on(gn);break;case 10:dS(r.type._context);break;case 22:case 23:TS()}n=n.return}if(lr=t,Vn=t=Da(t.current,null),gr=hi=e,Xn=0,_h=null,MS=Cv=nc=0,qr=Vd=null,Bl!==null){for(e=0;e<Bl.length;e++)if(n=Bl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bl=null}return t}function tI(t,e){do{var n=Vn;try{if(fS(),Yg.current=N0,F0){for(var r=bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}F0=!1}if(tc=0,sr=Kn=bn=null,Hd=!1,vh=0,AS.current=null,n===null||n.return===null){Xn=1,_h=e,Vn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=$E(o);if(m!==null){m.flags&=-257,VE(m,o,a,s,e),m.mode&1&&HE(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){HE(s,c,e),RS();break e}l=Error(Re(426))}}else if(un&&a.mode&1){var y=$E(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),VE(y,o,a,s,e),cS(Ju(l,a));break e}}s=l=Ju(l,a),Xn!==4&&(Xn=2),Vd===null?Vd=[s]:Vd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=NB(s,l,e);kE(s,_);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ia===null||!Ia.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=zB(s,a,e);kE(s,A);break e}}s=s.return}while(s!==null)}iI(n)}catch(C){e=C,Vn===n&&n!==null&&(Vn=n=n.return);continue}break}while(1)}function nI(){var t=z0.current;return z0.current=N0,t===null?N0:t}function RS(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),lr===null||!(nc&268435455)&&!(Cv&268435455)||ba(lr,gr)}function H0(t,e){var n=kt;kt|=2;var r=nI();(lr!==t||gr!==e)&&(So=null,Hl(t,e));do try{x5();break}catch(i){tI(t,i)}while(1);if(fS(),kt=n,z0.current=r,Vn!==null)throw Error(Re(261));return lr=null,gr=0,Xn}function x5(){for(;Vn!==null;)rI(Vn)}function _5(){for(;Vn!==null&&!WN();)rI(Vn)}function rI(t){var e=oI(t.alternate,t,hi);t.memoizedProps=t.pendingProps,e===null?iI(t):Vn=e,AS.current=null}function iI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h5(n,e),n!==null){n.flags&=32767,Vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,Vn=null;return}}else if(n=d5(n,e,hi),n!==null){Vn=n;return}if(e=e.sibling,e!==null){Vn=e;return}Vn=e=t}while(e!==null);Xn===0&&(Xn=5)}function Sl(t,e,n){var r=jt,i=Xi.transition;try{Xi.transition=null,jt=1,w5(t,e,n,r)}finally{Xi.transition=i,jt=r}return null}function w5(t,e,n,r){do Lu();while(Aa!==null);if(kt&6)throw Error(Re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(t4(t,s),t===lr&&(Vn=lr=null,gr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Om||(Om=!0,aI(S0,function(){return Lu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xi.transition,Xi.transition=null;var o=jt;jt=1;var a=kt;kt|=4,AS.current=null,m5(t,n),qB(n,t),G4(G_),M0=!!U_,G_=U_=null,t.current=n,g5(n),jN(),kt=a,jt=o,Xi.transition=s}else t.current=n;if(Om&&(Om=!1,Aa=t,G0=i),s=t.pendingLanes,s===0&&(Ia=null),XN(n.stateNode),ii(t,On()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(U0)throw U0=!1,t=aw,aw=null,t;return G0&1&&t.tag!==0&&Lu(),s=t.pendingLanes,s&1?t===lw?Wd++:(Wd=0,lw=t):Wd=0,Qa(),null}function Lu(){if(Aa!==null){var t=F3(G0),e=Xi.transition,n=jt;try{if(Xi.transition=null,jt=16>t?16:t,Aa===null)var r=!1;else{if(t=Aa,Aa=null,G0=0,kt&6)throw Error(Re(331));var i=kt;for(kt|=4,Ye=t.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ye=c;Ye!==null;){var f=Ye;switch(f.tag){case 0:case 11:case 15:$d(8,f,s)}var h=f.child;if(h!==null)h.return=f,Ye=h;else for(;Ye!==null;){f=Ye;var p=f.sibling,m=f.return;if(XB(f),f===c){Ye=null;break}if(p!==null){p.return=m,Ye=p;break}Ye=m}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$d(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ye=_;break e}Ye=s.return}}var w=t.current;for(Ye=w;Ye!==null;){o=Ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ye=b;else e:for(o=w;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mv(9,a)}}catch(C){Pn(a,a.return,C)}if(a===o){Ye=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Ye=A;break e}Ye=a.return}}if(kt=i,Qa(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(vv,t)}catch{}r=!0}return r}finally{jt=n,Xi.transition=e}}return!1}function rT(t,e,n){e=Ju(n,e),e=NB(t,e,1),t=Ba(t,e,1),e=$r(),t!==null&&(Wh(t,1,e),ii(t,e))}function Pn(t,e,n){if(t.tag===3)rT(t,t,n);else for(;e!==null;){if(e.tag===3){rT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ia===null||!Ia.has(r))){t=Ju(n,t),t=zB(e,t,1),e=Ba(e,t,1),t=$r(),e!==null&&(Wh(e,1,t),ii(e,t));break}}e=e.return}}function b5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&n,lr===t&&(gr&n)===n&&(Xn===4||Xn===3&&(gr&130023424)===gr&&500>On()-CS?Hl(t,0):MS|=n),ii(t,e)}function sI(t,e){e===0&&(t.mode&1?(e=Cm,Cm<<=1,!(Cm&130023424)&&(Cm=4194304)):e=1);var n=$r();t=zo(t,e),t!==null&&(Wh(t,e,n),ii(t,n))}function S5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sI(t,n)}function A5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(e),sI(t,n)}var oI;oI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ni.current)ei=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ei=!1,f5(t,e,n);ei=!!(t.flags&131072)}else ei=!1,un&&e.flags&1048576&&cB(e,I0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qg(t,e),t=e.pendingProps;var i=$u(e,Br.current);Iu(e,n),i=xS(null,e,r,t,i,n);var s=_S();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ri(r)?(s=!0,P0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pS(e),i.updater=Sv,e.stateNode=i,i._reactInternals=e,Y_(e,r,t,n),e=Z_(null,e,r,!0,s,n)):(e.tag=0,un&&s&&aS(e),Ur(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=C5(r),t=us(r,t),i){case 0:e=q_(null,e,r,t,n);break e;case 1:e=JE(null,e,r,t,n);break e;case 11:e=WE(null,e,r,t,n);break e;case 14:e=jE(null,e,r,us(r.type,t),n);break e}throw Error(Re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),q_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),JE(t,e,r,i,n);case 3:e:{if($B(e),t===null)throw Error(Re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hB(t,e),k0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ju(Error(Re(423)),e),e=KE(t,e,r,n,i);break e}else if(r!==i){i=Ju(Error(Re(424)),e),e=KE(t,e,r,n,i);break e}else for(gi=Pa(e.stateNode.containerInfo.firstChild),yi=e,un=!0,hs=null,n=vB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vu(),r===i){e=Uo(t,e,n);break e}Ur(t,e,r,n)}e=e.child}return e;case 5:return yB(e),t===null&&J_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,H_(r,i)?o=null:s!==null&&H_(r,s)&&(e.flags|=32),HB(t,e),Ur(t,e,o,n),e.child;case 6:return t===null&&J_(e),null;case 13:return VB(t,e,n);case 4:return mS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wu(e,null,r,n):Ur(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),WE(t,e,r,i,n);case 7:return Ur(t,e,e.pendingProps,n),e.child;case 8:return Ur(t,e,e.pendingProps.children,n),e.child;case 12:return Ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nn(L0,r._currentValue),r._currentValue=o,s!==null)if(_s(s.value,o)){if(s.children===i.children&&!ni.current){e=Uo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Do(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),K_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),K_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ur(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Iu(e,n),i=Qi(i),r=r(i),e.flags|=1,Ur(t,e,r,n),e.child;case 14:return r=e.type,i=us(r,e.pendingProps),i=us(r.type,i),jE(t,e,r,i,n);case 15:return UB(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),qg(t,e),e.tag=1,ri(r)?(t=!0,P0(e)):t=!1,Iu(e,n),mB(e,r,i),Y_(e,r,i,n),Z_(null,e,r,!0,t,n);case 19:return WB(t,e,n);case 22:return GB(t,e,n)}throw Error(Re(156,e.tag))};function aI(t,e){return L3(t,e)}function M5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,e,n,r){return new M5(t,e,n,r)}function PS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C5(t){if(typeof t=="function")return PS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xb)return 11;if(t===Yb)return 14}return 2}function Da(t,e){var n=t.alternate;return n===null?(n=Ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function t0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")PS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hu:return $l(n.children,i,s,e);case Kb:o=8,i|=8;break;case __:return t=Ji(12,n,e,i|2),t.elementType=__,t.lanes=s,t;case w_:return t=Ji(13,n,e,i),t.elementType=w_,t.lanes=s,t;case b_:return t=Ji(19,n,e,i),t.elementType=b_,t.lanes=s,t;case g3:return Ev(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p3:o=10;break e;case m3:o=9;break e;case Xb:o=11;break e;case Yb:o=14;break e;case va:o=16,r=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=Ji(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $l(t,e,n,r){return t=Ji(7,t,r,e),t.lanes=n,t}function Ev(t,e,n,r){return t=Ji(22,t,r,e),t.elementType=g3,t.lanes=n,t.stateNode={isHidden:!1},t}function n1(t,e,n){return t=Ji(6,t,null,e),t.lanes=n,t}function r1(t,e,n){return e=Ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function E5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fx(0),this.expirationTimes=Fx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BS(t,e,n,r,i,s,o,a,l){return t=new E5(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ji(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pS(s),t}function T5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lI(t){if(!t)return Na;t=t._reactInternals;e:{if(dc(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var n=t.type;if(ri(n))return aB(t,n,e)}return e}function cI(t,e,n,r,i,s,o,a,l){return t=BS(n,r,!0,t,i,s,o,a,l),t.context=lI(null),n=t.current,r=$r(),i=La(n),s=Do(r,i),s.callback=e??null,Ba(n,s,i),t.current.lanes=i,Wh(t,i,r),ii(t,r),t}function Tv(t,e,n,r){var i=e.current,s=$r(),o=La(i);return n=lI(n),e.context===null?e.context=n:e.pendingContext=n,e=Do(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ba(i,e,o),t!==null&&(vs(t,i,o,s),Xg(t,i,o)),o}function $0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function IS(t,e){iT(t,e),(t=t.alternate)&&iT(t,e)}function R5(){return null}var uI=typeof reportError=="function"?reportError:function(t){console.error(t)};function LS(t){this._internalRoot=t}Rv.prototype.render=LS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));Tv(t,e,null,null)};Rv.prototype.unmount=LS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rc(function(){Tv(null,t,null,null)}),e[No]=null}};function Rv(t){this._internalRoot=t}Rv.prototype.unstable_scheduleHydration=function(t){if(t){var e=U3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wa.length&&e!==0&&e<wa[n].priority;n++);wa.splice(n,0,t),n===0&&H3(t)}};function DS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sT(){}function P5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=$0(o);s.call(c)}}var o=cI(e,r,t,0,null,!1,!1,"",sT);return t._reactRootContainer=o,t[No]=o.current,dh(t.nodeType===8?t.parentNode:t),rc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=$0(l);a.call(c)}}var l=BS(t,0,!1,null,null,!1,!1,"",sT);return t._reactRootContainer=l,t[No]=l.current,dh(t.nodeType===8?t.parentNode:t),rc(function(){Tv(e,l,n,r)}),l}function Bv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$0(o);a.call(l)}}Tv(e,o,t,i)}else o=P5(n,e,t,i,r);return $0(o)}N3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Id(e.pendingLanes);n!==0&&(Zb(e,n|1),ii(e,On()),!(kt&6)&&(Ku=On()+500,Qa()))}break;case 13:rc(function(){var r=zo(t,1);if(r!==null){var i=$r();vs(r,t,1,i)}}),IS(t,1)}};eS=function(t){if(t.tag===13){var e=zo(t,134217728);if(e!==null){var n=$r();vs(e,t,134217728,n)}IS(t,134217728)}};z3=function(t){if(t.tag===13){var e=La(t),n=zo(t,e);if(n!==null){var r=$r();vs(n,t,e,r)}IS(t,e)}};U3=function(){return jt};G3=function(t,e){var n=jt;try{return jt=t,e()}finally{jt=n}};I_=function(t,e,n){switch(e){case"input":if(M_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wv(r);if(!i)throw Error(Re(90));y3(r),M_(r,i)}}}break;case"textarea":_3(t,n);break;case"select":e=n.value,e!=null&&Tu(t,!!n.multiple,e,!1)}};E3=ES;T3=rc;var B5={usingClientEntryPoint:!1,Events:[Jh,vu,wv,M3,C3,ES]},od={findFiberByHostInstance:Pl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},I5={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B3(t),t===null?null:t.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||R5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{vv=Fm.inject(I5),Js=Fm}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B5;Mi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DS(e))throw Error(Re(200));return T5(t,e,null,n)};Mi.createRoot=function(t,e){if(!DS(t))throw Error(Re(299));var n=!1,r="",i=uI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BS(t,1,!1,null,null,n,!1,r,i),t[No]=e.current,dh(t.nodeType===8?t.parentNode:t),new LS(e)};Mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=B3(e),t=t===null?null:t.stateNode,t};Mi.flushSync=function(t){return rc(t)};Mi.hydrate=function(t,e,n){if(!Pv(e))throw Error(Re(200));return Bv(null,t,e,!0,n)};Mi.hydrateRoot=function(t,e,n){if(!DS(t))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cI(e,null,t,1,n??null,i,!1,s,o),t[No]=e.current,dh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rv(e)};Mi.render=function(t,e,n){if(!Pv(e))throw Error(Re(200));return Bv(null,t,e,!1,n)};Mi.unmountComponentAtNode=function(t){if(!Pv(t))throw Error(Re(40));return t._reactRootContainer?(rc(function(){Bv(null,null,t,!1,function(){t._reactRootContainer=null,t[No]=null})}),!0):!1};Mi.unstable_batchedUpdates=ES;Mi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pv(n))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return Bv(t,e,n,!1,r)};Mi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Mi})(RN);const fI=mv(ql);var oT=ql;v_.createRoot=oT.createRoot,v_.hydrateRoot=oT.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xh="149",Al={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ml={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},dI=0,fw=1,hI=2,L5=3,pI=0,Iv=1,jd=2,Ll=3,qs=0,si=1,Ws=2,D5=2,ko=0,Vl=1,dw=2,hw=3,pw=4,mI=5,El=100,gI=101,vI=102,mw=103,gw=104,yI=200,xI=201,_I=202,wI=203,kS=204,OS=205,bI=206,SI=207,AI=208,MI=209,CI=210,EI=0,TI=1,RI=2,V0=3,PI=4,BI=5,II=6,LI=7,Yh=0,DI=1,kI=2,ys=0,OI=1,FI=2,NI=3,FS=4,zI=5,Lv=300,za=301,Ua=302,wh=303,bh=304,gf=306,Ga=1e3,mr=1001,Xu=1002,Bn=1003,Sh=1004,k5=1004,Du=1005,O5=1005,yn=1006,Dv=1007,F5=1007,Zs=1008,N5=1008,Go=1009,UI=1010,GI=1011,NS=1012,HI=1013,Ma=1014,Bo=1015,Yu=1016,$I=1017,VI=1018,Wl=1020,WI=1021,Zr=1023,jI=1024,JI=1025,ka=1026,ic=1027,KI=1028,XI=1029,YI=1030,QI=1031,qI=1033,n0=33776,r0=33777,i0=33778,s0=33779,vw=35840,yw=35841,xw=35842,_w=35843,ZI=36196,ww=37492,bw=37496,Sw=37808,Aw=37809,Mw=37810,Cw=37811,Ew=37812,Tw=37813,Rw=37814,Pw=37815,Bw=37816,Iw=37817,Lw=37818,Dw=37819,kw=37820,Ow=37821,o0=36492,eL=36283,Fw=36284,Nw=36285,zw=36286,tL=2200,nL=2201,rL=2202,Qu=2300,sc=2301,a0=2302,Dl=2400,kl=2401,Ah=2402,kv=2500,zS=2501,iL=0,US=1,W0=2,Ha=3e3,tn=3001,sL=3200,oL=3201,qa=0,aL=1,z5="",ds="srgb",qu="srgb-linear",U5=0,l0=7680,G5=7681,H5=7682,$5=7683,V5=34055,W5=34056,j5=5386,J5=512,K5=513,X5=514,Y5=515,Q5=516,q5=517,Z5=518,lL=519,Mh=35044,ez=35048,tz=35040,nz=35045,rz=35049,iz=35041,sz=35046,oz=35050,az=35042,lz="100",Uw="300 es",j0=1035;class no{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Mr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let aT=1234567;const jl=Math.PI/180,Ch=180/Math.PI;function xi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Mr[t&255]+Mr[t>>8&255]+Mr[t>>16&255]+Mr[t>>24&255]+"-"+Mr[e&255]+Mr[e>>8&255]+"-"+Mr[e>>16&15|64]+Mr[e>>24&255]+"-"+Mr[n&63|128]+Mr[n>>8&255]+"-"+Mr[n>>16&255]+Mr[n>>24&255]+Mr[r&255]+Mr[r>>8&255]+Mr[r>>16&255]+Mr[r>>24&255]).toLowerCase()}function Fn(t,e,n){return Math.max(e,Math.min(n,t))}function GS(t,e){return(t%e+e)%e}function cz(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function uz(t,e,n){return t!==e?(n-t)/(e-t):0}function Jd(t,e,n){return(1-n)*t+n*e}function fz(t,e,n,r){return Jd(t,e,1-Math.exp(-n*r))}function dz(t,e=1){return e-Math.abs(GS(t,e*2)-e)}function hz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function pz(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function mz(t,e){return t+Math.floor(Math.random()*(e-t+1))}function gz(t,e){return t+Math.random()*(e-t)}function vz(t){return t*(.5-Math.random())}function yz(t){t!==void 0&&(aT=t);let e=aT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function xz(t){return t*jl}function _z(t){return t*Ch}function Gw(t){return(t&t-1)===0&&t!==0}function cL(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function J0(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function wz(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),f=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*f,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*f,a*c);break;case"XZX":t.set(a*f,l*v,l*m,a*c);break;case"YXY":t.set(l*m,a*f,l*v,a*c);break;case"ZYZ":t.set(l*v,l*m,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Io(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Zt(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var uL=Object.freeze({__proto__:null,DEG2RAD:jl,RAD2DEG:Ch,ceilPowerOfTwo:cL,clamp:Fn,damp:fz,degToRad:xz,denormalize:Io,euclideanModulo:GS,floorPowerOfTwo:J0,generateUUID:xi,inverseLerp:uz,isPowerOfTwo:Gw,lerp:Jd,mapLinear:cz,normalize:Zt,pingpong:dz,radToDeg:_z,randFloat:gz,randFloatSpread:vz,randInt:mz,seededRandom:yz,setQuaternionFromProperEuler:wz,smootherstep:pz,smoothstep:hz});class we{constructor(e=0,n=0){we.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hr{constructor(){Hr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],f=r[4],h=r[7],p=r[2],m=r[5],v=r[8],g=i[0],y=i[3],_=i[6],w=i[1],b=i[4],A=i[7],C=i[2],E=i[5],B=i[8];return s[0]=o*g+a*w+l*C,s[3]=o*y+a*b+l*E,s[6]=o*_+a*A+l*B,s[1]=c*g+f*w+h*C,s[4]=c*y+f*b+h*E,s[7]=c*_+f*A+h*B,s[2]=p*g+m*w+v*C,s[5]=p*y+m*b+v*E,s[8]=p*_+m*A+v*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return n*o*f-n*a*c-r*s*f+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=f*o-a*c,p=a*l-f*s,m=c*s-o*l,v=n*h+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/v;return e[0]=h*g,e[1]=(i*c-f*r)*g,e[2]=(a*r-i*o)*g,e[3]=p*g,e[4]=(f*n-i*l)*g,e[5]=(i*s-a*n)*g,e[6]=m*g,e[7]=(r*l-c*n)*g,e[8]=(o*n-r*s)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(i1.makeScale(e,n)),this}rotate(e){return this.premultiply(i1.makeRotation(-e)),this}translate(e,n){return this.premultiply(i1.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const i1=new Hr;function fL(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const bz={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Au(t,e){return new bz[t](e)}function Eh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Jl(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function c0(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const s1={[ds]:{[qu]:Jl},[qu]:{[ds]:c0}},Cr={legacyMode:!0,get workingColorSpace(){return qu},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(s1[e]&&s1[e][n]!==void 0){const r=s1[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},dL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Jn={r:0,g:0,b:0},as={h:0,s:0,l:0},Nm={h:0,s:0,l:0};function o1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function zm(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}let He=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ds){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Cr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Cr.workingColorSpace){return this.r=e,this.g=n,this.b=r,Cr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Cr.workingColorSpace){if(e=GS(e,1),n=Fn(n,0,1),r=Fn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=o1(o,s,e+1/3),this.g=o1(o,s,e),this.b=o1(o,s,e-1/3)}return Cr.toWorkingColorSpace(this,i),this}setStyle(e,n=ds){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Cr.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Cr.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,f=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,f,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Cr.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Cr.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=ds){const r=dL[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jl(e.r),this.g=Jl(e.g),this.b=Jl(e.b),this}copyLinearToSRGB(e){return this.r=c0(e.r),this.g=c0(e.g),this.b=c0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ds){return Cr.fromWorkingColorSpace(zm(this,Jn),e),Fn(Jn.r*255,0,255)<<16^Fn(Jn.g*255,0,255)<<8^Fn(Jn.b*255,0,255)<<0}getHexString(e=ds){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Cr.workingColorSpace){Cr.fromWorkingColorSpace(zm(this,Jn),n);const r=Jn.r,i=Jn.g,s=Jn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const f=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=f<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,n=Cr.workingColorSpace){return Cr.fromWorkingColorSpace(zm(this,Jn),n),e.r=Jn.r,e.g=Jn.g,e.b=Jn.b,e}getStyle(e=ds){return Cr.fromWorkingColorSpace(zm(this,Jn),e),e!==ds?`color(${e} ${Jn.r} ${Jn.g} ${Jn.b})`:`rgb(${Jn.r*255|0},${Jn.g*255|0},${Jn.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(as),as.h+=e,as.s+=n,as.l+=r,this.setHSL(as.h,as.s,as.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(as),e.getHSL(Nm);const r=Jd(as.h,Nm.h,n),i=Jd(as.s,Nm.s,n),s=Jd(as.l,Nm.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};He.NAMES=dL;let Oc;class HS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Oc===void 0&&(Oc=Eh("canvas")),Oc.width=e.width,Oc.height=e.height;const r=Oc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Oc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Eh("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Jl(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Jl(n[r]/255)*255):n[r]=Jl(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ol{constructor(e=null){this.isSource=!0,this.uuid=xi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(a1(i[o].image)):s.push(a1(i[o]))}else s=a1(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function a1(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?HS.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sz=0;class fn extends no{constructor(e=fn.DEFAULT_IMAGE,n=fn.DEFAULT_MAPPING,r=mr,i=mr,s=yn,o=Zs,a=Zr,l=Go,c=fn.DEFAULT_ANISOTROPY,f=Ha){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sz++}),this.uuid=xi(),this.name="",this.source=new Ol(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new we(0,0),this.repeat=new we(1,1),this.center=new we(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Lv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ga:e.x=e.x-Math.floor(e.x);break;case mr:e.x=e.x<0?0:1;break;case Xu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ga:e.y=e.y-Math.floor(e.y);break;case mr:e.y=e.y<0?0:1;break;case Xu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}fn.DEFAULT_IMAGE=null;fn.DEFAULT_MAPPING=Lv;fn.DEFAULT_ANISOTROPY=1;class Wt{constructor(e=0,n=0,r=0,i=1){Wt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],f=l[4],h=l[8],p=l[1],m=l[5],v=l[9],g=l[2],y=l[6],_=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-g)<.01&&Math.abs(v-y)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+g)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,A=(m+1)/2,C=(_+1)/2,E=(f+p)/4,B=(h+g)/4,T=(v+y)/4;return b>A&&b>C?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=E/r,s=B/r):A>C?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=E/i,s=T/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=B/s,i=T/s),this.set(r,i,s,n),this}let w=Math.sqrt((y-v)*(y-v)+(h-g)*(h-g)+(p-f)*(p-f));return Math.abs(w)<.001&&(w=1),this.x=(y-v)/w,this.y=(h-g)/w,this.z=(p-f)/w,this.w=Math.acos((c+m+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Si extends no{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Wt(0,0,e,n),this.scissorTest=!1,this.viewport=new Wt(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new fn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:yn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ol(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ov extends fn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Az extends Si{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ov(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class $S extends fn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Mz extends Si{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new $S(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Cz extends Si{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class cr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],f=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],g=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=f,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=g;return}if(h!==g||l!==p||c!==m||f!==v){let y=1-a;const _=l*p+c*m+f*v+h*g,w=_>=0?1:-1,b=1-_*_;if(b>Number.EPSILON){const C=Math.sqrt(b),E=Math.atan2(C,_*w);y=Math.sin(y*E)/C,a=Math.sin(a*E)/C}const A=a*w;if(l=l*y+p*A,c=c*y+m*A,f=f*y+v*A,h=h*y+g*A,y===1-a){const C=1/Math.sqrt(l*l+c*c+f*f+h*h);l*=C,c*=C,f*=C,h*=C}}e[n]=l,e[n+1]=c,e[n+2]=f,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],f=r[i+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+f*h+l*m-c*p,e[n+1]=l*v+f*p+c*h-a*m,e[n+2]=c*v+f*m+a*p-l*h,e[n+3]=f*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),f=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"YXZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"ZXY":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"ZYX":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"YZX":this._x=p*f*h+c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h-p*m*v;break;case"XZY":this._x=p*f*h-c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],f=n[6],h=n[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(f-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,f=n._w;return this._x=r*f+o*a+i*c-s*l,this._y=i*f+o*l+s*a-r*c,this._z=s*f+o*c+r*l-i*a,this._w=o*f-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),h=Math.sin((1-n)*f)/c,p=Math.sin(n*f)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,n=0,r=0){N.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(lT.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(lT.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,f=l*r+a*n-s*i,h=l*i+s*r-o*n,p=-s*n-o*r-a*i;return this.x=c*l+p*-s+f*-a-h*-o,this.y=f*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return l1.copy(this).projectOnVector(e),this.sub(l1)}reflect(e){return this.sub(l1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Fn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const l1=new N,lT=new cr;class Ko{constructor(e=new N(1/0,1/0,1/0),n=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const f=e[l],h=e[l+1],p=e[l+2];f<n&&(n=f),h<r&&(r=h),p<i&&(i=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const f=e.getX(l),h=e.getY(l),p=e.getZ(l);f<n&&(n=f),h<r&&(r=h),p<i&&(i=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=fl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)fl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fl)}else r.boundingBox===null&&r.computeBoundingBox(),c1.copy(r.boundingBox),c1.applyMatrix4(e.matrixWorld),this.union(c1);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fl),fl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ad),Um.subVectors(this.max,ad),Fc.subVectors(e.a,ad),Nc.subVectors(e.b,ad),zc.subVectors(e.c,ad),ca.subVectors(Nc,Fc),ua.subVectors(zc,Nc),dl.subVectors(Fc,zc);let n=[0,-ca.z,ca.y,0,-ua.z,ua.y,0,-dl.z,dl.y,ca.z,0,-ca.x,ua.z,0,-ua.x,dl.z,0,-dl.x,-ca.y,ca.x,0,-ua.y,ua.x,0,-dl.y,dl.x,0];return!u1(n,Fc,Nc,zc,Um)||(n=[1,0,0,0,1,0,0,0,1],!u1(n,Fc,Nc,zc,Um))?!1:(Gm.crossVectors(ca,ua),n=[Gm.x,Gm.y,Gm.z],u1(n,Fc,Nc,zc,Um))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(fl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(go[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),go[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),go[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),go[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),go[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),go[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),go[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),go[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(go),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const go=[new N,new N,new N,new N,new N,new N,new N,new N],fl=new N,c1=new Ko,Fc=new N,Nc=new N,zc=new N,ca=new N,ua=new N,dl=new N,ad=new N,Um=new N,Gm=new N,hl=new N;function u1(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){hl.fromArray(t,s);const a=i.x*Math.abs(hl.x)+i.y*Math.abs(hl.y)+i.z*Math.abs(hl.z),l=e.dot(hl),c=n.dot(hl),f=r.dot(hl);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const Ez=new Ko,ld=new N,f1=new N;class Xo{constructor(e=new N,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Ez.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ld.subVectors(e,this.center);const n=ld.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ld,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(f1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ld.copy(e.center).add(f1)),this.expandByPoint(ld.copy(e.center).sub(f1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vo=new N,d1=new N,Hm=new N,fa=new N,h1=new N,$m=new N,p1=new N;class vf{constructor(e=new N,n=new N(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=vo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(vo.copy(this.direction).multiplyScalar(n).add(this.origin),vo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){d1.copy(e).add(n).multiplyScalar(.5),Hm.copy(n).sub(e).normalize(),fa.copy(this.origin).sub(d1);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Hm),a=fa.dot(this.direction),l=-fa.dot(Hm),c=fa.lengthSq(),f=Math.abs(1-o*o);let h,p,m,v;if(f>0)if(h=o*l-a,p=o*a-l,v=s*f,h>=0)if(p>=-v)if(p<=v){const g=1/f;h*=g,p*=g,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Hm).multiplyScalar(p).add(d1),m}intersectSphere(e,n){vo.subVectors(e.center,this.origin);const r=vo.dot(this.direction),i=vo.dot(vo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,vo)!==null}intersectTriangle(e,n,r,i,s){h1.subVectors(n,e),$m.subVectors(r,e),p1.crossVectors(h1,$m);let o=this.direction.dot(p1),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;fa.subVectors(this.origin,e);const l=a*this.direction.dot($m.crossVectors(fa,$m));if(l<0)return null;const c=a*this.direction.dot(h1.cross(fa));if(c<0||l+c>o)return null;const f=-a*fa.dot(p1);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(){ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,c,f,h,p,m,v,g,y){const _=this.elements;return _[0]=e,_[4]=n,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=f,_[10]=h,_[14]=p,_[3]=m,_[7]=v,_[11]=g,_[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Uc.setFromMatrixColumn(e,0).length(),s=1/Uc.setFromMatrixColumn(e,1).length(),o=1/Uc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*h,v=a*f,g=a*h;n[0]=l*f,n[4]=-l*h,n[8]=c,n[1]=m+v*c,n[5]=p-g*c,n[9]=-a*l,n[2]=g-p*c,n[6]=v+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*h,v=c*f,g=c*h;n[0]=p+g*a,n[4]=v*a-m,n[8]=o*c,n[1]=o*h,n[5]=o*f,n[9]=-a,n[2]=m*a-v,n[6]=g+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*h,v=c*f,g=c*h;n[0]=p-g*a,n[4]=-o*h,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*f,n[9]=g-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*h,v=a*f,g=a*h;n[0]=l*f,n[4]=v*c-m,n[8]=p*c+g,n[1]=l*h,n[5]=g*c+p,n[9]=m*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,g=a*c;n[0]=l*f,n[4]=g-p*h,n[8]=v*h+m,n[1]=h,n[5]=o*f,n[9]=-a*f,n[2]=-c*f,n[6]=m*h+v,n[10]=p-g*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,g=a*c;n[0]=l*f,n[4]=-h,n[8]=c*f,n[1]=p*h+g,n[5]=o*f,n[9]=m*h-v,n[2]=v*h-m,n[6]=a*f,n[10]=g*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Tz,e,Rz)}lookAt(e,n,r){const i=this.elements;return fi.subVectors(e,n),fi.lengthSq()===0&&(fi.z=1),fi.normalize(),da.crossVectors(r,fi),da.lengthSq()===0&&(Math.abs(r.z)===1?fi.x+=1e-4:fi.z+=1e-4,fi.normalize(),da.crossVectors(r,fi)),da.normalize(),Vm.crossVectors(fi,da),i[0]=da.x,i[4]=Vm.x,i[8]=fi.x,i[1]=da.y,i[5]=Vm.y,i[9]=fi.y,i[2]=da.z,i[6]=Vm.z,i[10]=fi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],f=r[1],h=r[5],p=r[9],m=r[13],v=r[2],g=r[6],y=r[10],_=r[14],w=r[3],b=r[7],A=r[11],C=r[15],E=i[0],B=i[4],T=i[8],I=i[12],L=i[1],k=i[5],G=i[9],z=i[13],F=i[2],J=i[6],q=i[10],ne=i[14],O=i[3],W=i[7],X=i[11],se=i[15];return s[0]=o*E+a*L+l*F+c*O,s[4]=o*B+a*k+l*J+c*W,s[8]=o*T+a*G+l*q+c*X,s[12]=o*I+a*z+l*ne+c*se,s[1]=f*E+h*L+p*F+m*O,s[5]=f*B+h*k+p*J+m*W,s[9]=f*T+h*G+p*q+m*X,s[13]=f*I+h*z+p*ne+m*se,s[2]=v*E+g*L+y*F+_*O,s[6]=v*B+g*k+y*J+_*W,s[10]=v*T+g*G+y*q+_*X,s[14]=v*I+g*z+y*ne+_*se,s[3]=w*E+b*L+A*F+C*O,s[7]=w*B+b*k+A*J+C*W,s[11]=w*T+b*G+A*q+C*X,s[15]=w*I+b*z+A*ne+C*se,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],f=e[2],h=e[6],p=e[10],m=e[14],v=e[3],g=e[7],y=e[11],_=e[15];return v*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*m-r*l*m)+g*(+n*l*m-n*c*p+s*o*p-i*o*m+i*c*f-s*l*f)+y*(+n*c*h-n*a*m-s*o*h+r*o*m+s*a*f-r*c*f)+_*(-i*a*f-n*l*h+n*a*p+i*o*h-r*o*p+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],m=e[11],v=e[12],g=e[13],y=e[14],_=e[15],w=h*y*c-g*p*c+g*l*m-a*y*m-h*l*_+a*p*_,b=v*p*c-f*y*c-v*l*m+o*y*m+f*l*_-o*p*_,A=f*g*c-v*h*c+v*a*m-o*g*m-f*a*_+o*h*_,C=v*h*l-f*g*l-v*a*p+o*g*p+f*a*y-o*h*y,E=n*w+r*b+i*A+s*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/E;return e[0]=w*B,e[1]=(g*p*s-h*y*s-g*i*m+r*y*m+h*i*_-r*p*_)*B,e[2]=(a*y*s-g*l*s+g*i*c-r*y*c-a*i*_+r*l*_)*B,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*m-r*l*m)*B,e[4]=b*B,e[5]=(f*y*s-v*p*s+v*i*m-n*y*m-f*i*_+n*p*_)*B,e[6]=(v*l*s-o*y*s-v*i*c+n*y*c+o*i*_-n*l*_)*B,e[7]=(o*p*s-f*l*s+f*i*c-n*p*c-o*i*m+n*l*m)*B,e[8]=A*B,e[9]=(v*h*s-f*g*s-v*r*m+n*g*m+f*r*_-n*h*_)*B,e[10]=(o*g*s-v*a*s+v*r*c-n*g*c-o*r*_+n*a*_)*B,e[11]=(f*a*s-o*h*s-f*r*c+n*h*c+o*r*m-n*a*m)*B,e[12]=C*B,e[13]=(f*g*i-v*h*i+v*r*p-n*g*p-f*r*y+n*h*y)*B,e[14]=(v*a*i-o*g*i-v*r*l+n*g*l+o*r*y-n*a*y)*B,e[15]=(o*h*i-f*a*i+f*r*l-n*h*l-o*r*p+n*a*p)*B,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,f=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,f*a+r,f*l-i*o,0,c*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,f=o+o,h=a+a,p=s*c,m=s*f,v=s*h,g=o*f,y=o*h,_=a*h,w=l*c,b=l*f,A=l*h,C=r.x,E=r.y,B=r.z;return i[0]=(1-(g+_))*C,i[1]=(m+A)*C,i[2]=(v-b)*C,i[3]=0,i[4]=(m-A)*E,i[5]=(1-(p+_))*E,i[6]=(y+w)*E,i[7]=0,i[8]=(v+b)*B,i[9]=(y-w)*B,i[10]=(1-(p+g))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Uc.set(i[0],i[1],i[2]).length();const o=Uc.set(i[4],i[5],i[6]).length(),a=Uc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ls.copy(this);const c=1/s,f=1/o,h=1/a;return ls.elements[0]*=c,ls.elements[1]*=c,ls.elements[2]*=c,ls.elements[4]*=f,ls.elements[5]*=f,ls.elements[6]*=f,ls.elements[8]*=h,ls.elements[9]*=h,ls.elements[10]*=h,n.setFromRotationMatrix(ls),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),c=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),c=1/(r-i),f=1/(o-s),h=(n+e)*l,p=(r+i)*c,m=(o+s)*f;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Uc=new N,ls=new ht,Tz=new N(0,0,0),Rz=new N(1,1,1),da=new N,Vm=new N,fi=new N,cT=new ht,uT=new cr;class Qh{constructor(e=0,n=0,r=0,i=Qh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],f=i[9],h=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Fn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Fn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Fn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Fn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Fn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return cT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cT,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return uT.setFromEuler(this),this.setFromQuaternion(uT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Qh.DEFAULT_ORDER="XYZ";class Kl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Pz=0;const fT=new N,Gc=new cr,yo=new ht,Wm=new N,cd=new N,Bz=new N,Iz=new cr,dT=new N(1,0,0),hT=new N(0,1,0),pT=new N(0,0,1),Lz={type:"added"},mT={type:"removed"};class Lt extends no{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Pz++}),this.uuid=xi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Lt.DEFAULT_UP.clone();const e=new N,n=new Qh,r=new cr,i=new N(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ht},normalMatrix:{value:new Hr}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=Lt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Kl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Gc.setFromAxisAngle(e,n),this.quaternion.multiply(Gc),this}rotateOnWorldAxis(e,n){return Gc.setFromAxisAngle(e,n),this.quaternion.premultiply(Gc),this}rotateX(e){return this.rotateOnAxis(dT,e)}rotateY(e){return this.rotateOnAxis(hT,e)}rotateZ(e){return this.rotateOnAxis(pT,e)}translateOnAxis(e,n){return fT.copy(e).applyQuaternion(this.quaternion),this.position.add(fT.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(dT,e)}translateY(e){return this.translateOnAxis(hT,e)}translateZ(e){return this.translateOnAxis(pT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Wm.copy(e):Wm.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),cd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yo.lookAt(cd,Wm,this.up):yo.lookAt(Wm,cd,this.up),this.quaternion.setFromRotationMatrix(yo),i&&(yo.extractRotation(i.matrixWorld),Gc.setFromRotationMatrix(yo),this.quaternion.premultiply(Gc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Lz)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(mT)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(mT)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),yo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yo.multiply(e.parent.matrixWorld)),e.applyMatrix4(yo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cd,e,Bz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cd,Iz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Lt.DEFAULT_UP=new N(0,1,0);Lt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const cs=new N,xo=new N,m1=new N,_o=new N,Hc=new N,$c=new N,gT=new N,g1=new N,v1=new N,y1=new N;class ji{constructor(e=new N,n=new N,r=new N){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),cs.subVectors(e,n),i.cross(cs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){cs.subVectors(i,n),xo.subVectors(r,n),m1.subVectors(e,n);const o=cs.dot(cs),a=cs.dot(xo),l=cs.dot(m1),c=xo.dot(xo),f=xo.dot(m1),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*f)*p,v=(o*f-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,_o),_o.x>=0&&_o.y>=0&&_o.x+_o.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,_o),l.set(0,0),l.addScaledVector(s,_o.x),l.addScaledVector(o,_o.y),l.addScaledVector(a,_o.z),l}static isFrontFacing(e,n,r,i){return cs.subVectors(r,n),xo.subVectors(e,n),cs.cross(xo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return cs.subVectors(this.c,this.b),xo.subVectors(this.a,this.b),cs.cross(xo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ji.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ji.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return ji.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return ji.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ji.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Hc.subVectors(i,r),$c.subVectors(s,r),g1.subVectors(e,r);const l=Hc.dot(g1),c=$c.dot(g1);if(l<=0&&c<=0)return n.copy(r);v1.subVectors(e,i);const f=Hc.dot(v1),h=$c.dot(v1);if(f>=0&&h<=f)return n.copy(i);const p=l*h-f*c;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(Hc,o);y1.subVectors(e,s);const m=Hc.dot(y1),v=$c.dot(y1);if(v>=0&&m<=v)return n.copy(s);const g=m*c-l*v;if(g<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector($c,a);const y=f*v-m*h;if(y<=0&&h-f>=0&&m-v>=0)return gT.subVectors(s,i),a=(h-f)/(h-f+(m-v)),n.copy(i).addScaledVector(gT,a);const _=1/(y+g+p);return o=g*_,a=p*_,n.copy(r).addScaledVector(Hc,o).addScaledVector($c,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Dz=0;class Wn extends no{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Dz++}),this.uuid=xi(),this.name="",this.type="Material",this.blending=Vl,this.side=qs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=kS,this.blendDst=OS,this.blendEquation=El,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=V0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=lL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=l0,this.stencilZFail=l0,this.stencilZPass=l0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Vl&&(r.blending=this.blending),this.side!==qs&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class vi extends Wn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hn=new N,jm=new we;class Ut{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Mh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)jm.fromBufferAttribute(this,n),jm.applyMatrix3(e),this.setXY(n,jm.x,jm.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyMatrix3(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyMatrix4(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyNormalMatrix(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.transformDirection(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Io(n,this.array)),n}setX(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Io(n,this.array)),n}setY(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Io(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Io(n,this.array)),n}setW(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),r=Zt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),r=Zt(r,this.array),i=Zt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),r=Zt(r,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Mh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class kz extends Ut{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Oz extends Ut{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Fz extends Ut{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Nz extends Ut{constructor(e,n,r){super(new Int16Array(e),n,r)}}class VS extends Ut{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class zz extends Ut{constructor(e,n,r){super(new Int32Array(e),n,r)}}class WS extends Ut{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Uz extends Ut{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class it extends Ut{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Gz extends Ut{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Hz=0;const zi=new ht,x1=new Lt,Vc=new N,di=new Ko,ud=new Ko,ir=new N;class xt extends no{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Hz++}),this.uuid=xi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(fL(e)?WS:VS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Hr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zi.makeRotationFromQuaternion(e),this.applyMatrix4(zi),this}rotateX(e){return zi.makeRotationX(e),this.applyMatrix4(zi),this}rotateY(e){return zi.makeRotationY(e),this.applyMatrix4(zi),this}rotateZ(e){return zi.makeRotationZ(e),this.applyMatrix4(zi),this}translate(e,n,r){return zi.makeTranslation(e,n,r),this.applyMatrix4(zi),this}scale(e,n,r){return zi.makeScale(e,n,r),this.applyMatrix4(zi),this}lookAt(e){return x1.lookAt(e),x1.updateMatrix(),this.applyMatrix4(x1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vc).negate(),this.translate(Vc.x,Vc.y,Vc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new it(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ko);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];di.setFromBufferAttribute(s),this.morphTargetsRelative?(ir.addVectors(this.boundingBox.min,di.min),this.boundingBox.expandByPoint(ir),ir.addVectors(this.boundingBox.max,di.max),this.boundingBox.expandByPoint(ir)):(this.boundingBox.expandByPoint(di.min),this.boundingBox.expandByPoint(di.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Xo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){const r=this.boundingSphere.center;if(di.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];ud.setFromBufferAttribute(a),this.morphTargetsRelative?(ir.addVectors(di.min,ud.min),di.expandByPoint(ir),ir.addVectors(di.max,ud.max),di.expandByPoint(ir)):(di.expandByPoint(ud.min),di.expandByPoint(ud.max))}di.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ir.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ir));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)ir.fromBufferAttribute(a,c),l&&(Vc.fromBufferAttribute(e,c),ir.add(Vc)),i=Math.max(i,r.distanceToSquared(ir))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ut(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],f=[];for(let L=0;L<a;L++)c[L]=new N,f[L]=new N;const h=new N,p=new N,m=new N,v=new we,g=new we,y=new we,_=new N,w=new N;function b(L,k,G){h.fromArray(i,L*3),p.fromArray(i,k*3),m.fromArray(i,G*3),v.fromArray(o,L*2),g.fromArray(o,k*2),y.fromArray(o,G*2),p.sub(h),m.sub(h),g.sub(v),y.sub(v);const z=1/(g.x*y.y-y.x*g.y);isFinite(z)&&(_.copy(p).multiplyScalar(y.y).addScaledVector(m,-g.y).multiplyScalar(z),w.copy(m).multiplyScalar(g.x).addScaledVector(p,-y.x).multiplyScalar(z),c[L].add(_),c[k].add(_),c[G].add(_),f[L].add(w),f[k].add(w),f[G].add(w))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let L=0,k=A.length;L<k;++L){const G=A[L],z=G.start,F=G.count;for(let J=z,q=z+F;J<q;J+=3)b(r[J+0],r[J+1],r[J+2])}const C=new N,E=new N,B=new N,T=new N;function I(L){B.fromArray(s,L*3),T.copy(B);const k=c[L];C.copy(k),C.sub(B.multiplyScalar(B.dot(k))).normalize(),E.crossVectors(T,k);const z=E.dot(f[L])<0?-1:1;l[L*4]=C.x,l[L*4+1]=C.y,l[L*4+2]=C.z,l[L*4+3]=z}for(let L=0,k=A.length;L<k;++L){const G=A[L],z=G.start,F=G.count;for(let J=z,q=z+F;J<q;J+=3)I(r[J+0]),I(r[J+1]),I(r[J+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ut(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new N,s=new N,o=new N,a=new N,l=new N,c=new N,f=new N,h=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),g=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,g),o.fromBufferAttribute(n,y),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,y),a.add(f),l.add(f),c.add(f),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ir.fromBufferAttribute(e,n),ir.normalize(),e.setXYZ(n,ir.x,ir.y,ir.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,h=a.normalized,p=new c.constructor(l.length*f);let m=0,v=0;for(let g=0,y=l.length;g<y;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*f;for(let _=0;_<f;_++)p[v++]=c[m++]}return new Ut(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new xt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let f=0,h=c.length;f<h;f++){const p=c[f],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];f.push(m.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(n))}const s=e.morphAttributes;for(const c in s){const f=[],h=s[c];for(let p=0,m=h.length;p<m;p++)f.push(h[p].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const vT=new ht,Wc=new vf,_1=new Xo,fd=new N,dd=new N,hd=new N,w1=new N,Jm=new N,Km=new we,Xm=new we,Ym=new we,b1=new N,Qm=new N;class Yn extends Lt{constructor(e=new xt,n=new vi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Jm.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=a[l],h=s[l];f!==0&&(w1.fromBufferAttribute(h,e),o?Jm.addScaledVector(w1,f):Jm.addScaledVector(w1.sub(n),f))}n.add(Jm)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),_1.copy(r.boundingSphere),_1.applyMatrix4(s),e.ray.intersectsSphere(_1)===!1)||(vT.copy(s).invert(),Wc.copy(e.ray).applyMatrix4(vT),r.boundingBox!==null&&Wc.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,f=r.attributes.uv2,h=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],y=i[g.materialIndex],_=Math.max(g.start,p.start),w=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let b=_,A=w;b<A;b+=3){const C=a.getX(b),E=a.getX(b+1),B=a.getX(b+2);o=qm(this,y,e,Wc,c,f,C,E,B),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=g.materialIndex,n.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let g=m,y=v;g<y;g+=3){const _=a.getX(g),w=a.getX(g+1),b=a.getX(g+2);o=qm(this,i,e,Wc,c,f,_,w,b),o&&(o.faceIndex=Math.floor(g/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],y=i[g.materialIndex],_=Math.max(g.start,p.start),w=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let b=_,A=w;b<A;b+=3){const C=b,E=b+1,B=b+2;o=qm(this,y,e,Wc,c,f,C,E,B),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=g.materialIndex,n.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let g=m,y=v;g<y;g+=3){const _=g,w=g+1,b=g+2;o=qm(this,i,e,Wc,c,f,_,w,b),o&&(o.faceIndex=Math.floor(g/3),n.push(o))}}}}function $z(t,e,n,r,i,s,o,a){let l;if(e.side===si?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===qs,a),l===null)return null;Qm.copy(a),Qm.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Qm);return c<n.near||c>n.far?null:{distance:c,point:Qm.clone(),object:t}}function qm(t,e,n,r,i,s,o,a,l){t.getVertexPosition(o,fd),t.getVertexPosition(a,dd),t.getVertexPosition(l,hd);const c=$z(t,e,n,r,fd,dd,hd,b1);if(c){i&&(Km.fromBufferAttribute(i,o),Xm.fromBufferAttribute(i,a),Ym.fromBufferAttribute(i,l),c.uv=ji.getUV(b1,fd,dd,hd,Km,Xm,Ym,new we)),s&&(Km.fromBufferAttribute(s,o),Xm.fromBufferAttribute(s,a),Ym.fromBufferAttribute(s,l),c.uv2=ji.getUV(b1,fd,dd,hd,Km,Xm,Ym,new we));const f={a:o,b:a,c:l,normal:new N,materialIndex:0};ji.getNormal(fd,dd,hd,f.normal),c.face=f}return c}class Yo extends xt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],f=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new it(c,3)),this.setAttribute("normal",new it(f,3)),this.setAttribute("uv",new it(h,2));function v(g,y,_,w,b,A,C,E,B,T,I){const L=A/B,k=C/T,G=A/2,z=C/2,F=E/2,J=B+1,q=T+1;let ne=0,O=0;const W=new N;for(let X=0;X<q;X++){const se=X*k-z;for(let Q=0;Q<J;Q++){const re=Q*L-G;W[g]=re*w,W[y]=se*b,W[_]=F,c.push(W.x,W.y,W.z),W[g]=0,W[y]=0,W[_]=E>0?1:-1,f.push(W.x,W.y,W.z),h.push(Q/B),h.push(1-X/T),ne+=1}}for(let X=0;X<T;X++)for(let se=0;se<B;se++){const Q=p+se+J*X,re=p+se+J*(X+1),_e=p+(se+1)+J*(X+1),be=p+(se+1)+J*X;l.push(Q,re,be),l.push(re,_e,be),O+=6}a.addGroup(m,O,I),m+=O,p+=ne}}static fromJSON(e){return new Yo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Zu(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function zr(t){const e={};for(let n=0;n<t.length;n++){const r=Zu(t[n]);for(const i in r)e[i]=r[i]}return e}function Vz(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function hL(t){return t.getRenderTarget()===null&&t.outputEncoding===tn?ds:qu}const pL={clone:Zu,merge:zr};var Wz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Zi extends Wn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Wz,this.fragmentShader=jz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zu(e.uniforms),this.uniformsGroups=Vz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class qh extends Lt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class xn extends qh{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Ch*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(jl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ch*2*Math.atan(Math.tan(jl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(jl*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const jc=-90,Jc=1;class mL extends Lt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new xn(jc,Jc,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new xn(jc,Jc,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new xn(jc,Jc,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new xn(jc,Jc,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new xn(jc,Jc,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new xn(jc,Jc,e,n);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,f=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=ys,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Zh extends fn{constructor(e,n,r,i,s,o,a,l,c,f){e=e!==void 0?e:[],n=n!==void 0?n:za,super(e,n,r,i,s,o,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gL extends Si{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Zh(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:yn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Yo(5,5,5),s=new Zi({name:"CubemapFromEquirect",uniforms:Zu(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:si,blending:ko});s.uniforms.tEquirect.value=n;const o=new Yn(i,s),a=n.minFilter;return n.minFilter===Zs&&(n.minFilter=yn),new mL(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const S1=new N,Jz=new N,Kz=new Hr;class Mo{constructor(e=new N(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=S1.subVectors(r,n).cross(Jz.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(S1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Kz.getNormalMatrix(e),i=this.coplanarPoint(S1).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kc=new Xo,Zm=new N;class Fv{constructor(e=new Mo,n=new Mo,r=new Mo,i=new Mo,s=new Mo,o=new Mo){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],f=r[6],h=r[7],p=r[8],m=r[9],v=r[10],g=r[11],y=r[12],_=r[13],w=r[14],b=r[15];return n[0].setComponents(a-i,h-l,g-p,b-y).normalize(),n[1].setComponents(a+i,h+l,g+p,b+y).normalize(),n[2].setComponents(a+s,h+c,g+m,b+_).normalize(),n[3].setComponents(a-s,h-c,g-m,b-_).normalize(),n[4].setComponents(a-o,h-f,g-v,b-w).normalize(),n[5].setComponents(a+o,h+f,g+v,b+w).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Kc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Kc)}intersectsSprite(e){return Kc.center.set(0,0,0),Kc.radius=.7071067811865476,Kc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Kc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Zm.x=i.normal.x>0?e.max.x:e.min.x,Zm.y=i.normal.y>0?e.max.y:e.min.y,Zm.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Zm)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function vL(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Xz(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,f){const h=c.array,p=c.usage,m=t.createBuffer();t.bindBuffer(f,m),t.bufferData(f,h,p),c.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,f,h){const p=f.array,m=f.updateRange;t.bindBuffer(h,c),m.count===-1?t.bufferSubData(h,0,p):(n?t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),f.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f&&(t.deleteBuffer(f.buffer),r.delete(c))}function l(c,f){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,f)):h.version<c.version&&(s(h.buffer,c,f),h.version=c.version)}return{get:o,remove:a,update:l}}class hc extends xt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,f=l+1,h=e/a,p=n/l,m=[],v=[],g=[],y=[];for(let _=0;_<f;_++){const w=_*p-o;for(let b=0;b<c;b++){const A=b*h-s;v.push(A,-w,0),g.push(0,0,1),y.push(b/a),y.push(1-_/l)}}for(let _=0;_<l;_++)for(let w=0;w<a;w++){const b=w+c*_,A=w+c*(_+1),C=w+1+c*(_+1),E=w+1+c*_;m.push(b,A,E),m.push(A,C,E)}this.setIndex(m),this.setAttribute("position",new it(v,3)),this.setAttribute("normal",new it(g,3)),this.setAttribute("uv",new it(y,2))}static fromJSON(e){return new hc(e.width,e.height,e.widthSegments,e.heightSegments)}}var Yz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Qz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Zz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,eU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nU="vec3 transformed = vec3( position );",rU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,iU=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,sU=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,oU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,aU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,lU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,cU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,fU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,dU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,hU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,pU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,mU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,gU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,vU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,yU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,xU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,_U=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,wU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,bU="gl_FragColor = linearToOutputTexel( gl_FragColor );",SU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,AU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,MU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,CU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,EU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,TU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,RU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,PU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,BU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,IU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,LU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,DU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,kU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,OU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,FU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,NU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,zU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,UU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,GU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,HU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,$U=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,VU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,WU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,JU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,KU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,XU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,YU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,qU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ZU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,e9=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,t9=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,n9=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,r9=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,i9=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,s9=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,o9=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,a9=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,l9=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,c9=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,u9=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,f9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,d9=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,h9=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,p9=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,m9=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,g9=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,v9=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,y9=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,x9=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_9=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,w9=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,b9=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,S9=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,A9=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,M9=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,C9=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,E9=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,T9=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,R9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,P9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,B9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,I9=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,L9=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,D9=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,k9=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,O9=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,F9=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,N9=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,z9=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,U9=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,G9=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,H9=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,$9=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,V9=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,W9=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,j9=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,J9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const K9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,X9=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Y9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Q9=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,q9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z9=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,eG=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,tG=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,nG=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,rG=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,iG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,sG=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,oG=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,aG=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,lG=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,cG=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uG=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fG=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dG=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,hG=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pG=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,mG=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,gG=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vG=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yG=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xG=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_G=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wG=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bG=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,SG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,AG=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,CG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,At={alphamap_fragment:Yz,alphamap_pars_fragment:Qz,alphatest_fragment:qz,alphatest_pars_fragment:Zz,aomap_fragment:eU,aomap_pars_fragment:tU,begin_vertex:nU,beginnormal_vertex:rU,bsdfs:iU,iridescence_fragment:sU,bumpmap_pars_fragment:oU,clipping_planes_fragment:aU,clipping_planes_pars_fragment:lU,clipping_planes_pars_vertex:cU,clipping_planes_vertex:uU,color_fragment:fU,color_pars_fragment:dU,color_pars_vertex:hU,color_vertex:pU,common:mU,cube_uv_reflection_fragment:gU,defaultnormal_vertex:vU,displacementmap_pars_vertex:yU,displacementmap_vertex:xU,emissivemap_fragment:_U,emissivemap_pars_fragment:wU,encodings_fragment:bU,encodings_pars_fragment:SU,envmap_fragment:AU,envmap_common_pars_fragment:MU,envmap_pars_fragment:CU,envmap_pars_vertex:EU,envmap_physical_pars_fragment:zU,envmap_vertex:TU,fog_vertex:RU,fog_pars_vertex:PU,fog_fragment:BU,fog_pars_fragment:IU,gradientmap_pars_fragment:LU,lightmap_fragment:DU,lightmap_pars_fragment:kU,lights_lambert_fragment:OU,lights_lambert_pars_fragment:FU,lights_pars_begin:NU,lights_toon_fragment:UU,lights_toon_pars_fragment:GU,lights_phong_fragment:HU,lights_phong_pars_fragment:$U,lights_physical_fragment:VU,lights_physical_pars_fragment:WU,lights_fragment_begin:jU,lights_fragment_maps:JU,lights_fragment_end:KU,logdepthbuf_fragment:XU,logdepthbuf_pars_fragment:YU,logdepthbuf_pars_vertex:QU,logdepthbuf_vertex:qU,map_fragment:ZU,map_pars_fragment:e9,map_particle_fragment:t9,map_particle_pars_fragment:n9,metalnessmap_fragment:r9,metalnessmap_pars_fragment:i9,morphcolor_vertex:s9,morphnormal_vertex:o9,morphtarget_pars_vertex:a9,morphtarget_vertex:l9,normal_fragment_begin:c9,normal_fragment_maps:u9,normal_pars_fragment:f9,normal_pars_vertex:d9,normal_vertex:h9,normalmap_pars_fragment:p9,clearcoat_normal_fragment_begin:m9,clearcoat_normal_fragment_maps:g9,clearcoat_pars_fragment:v9,iridescence_pars_fragment:y9,output_fragment:x9,packing:_9,premultiplied_alpha_fragment:w9,project_vertex:b9,dithering_fragment:S9,dithering_pars_fragment:A9,roughnessmap_fragment:M9,roughnessmap_pars_fragment:C9,shadowmap_pars_fragment:E9,shadowmap_pars_vertex:T9,shadowmap_vertex:R9,shadowmask_pars_fragment:P9,skinbase_vertex:B9,skinning_pars_vertex:I9,skinning_vertex:L9,skinnormal_vertex:D9,specularmap_fragment:k9,specularmap_pars_fragment:O9,tonemapping_fragment:F9,tonemapping_pars_fragment:N9,transmission_fragment:z9,transmission_pars_fragment:U9,uv_pars_fragment:G9,uv_pars_vertex:H9,uv_vertex:$9,uv2_pars_fragment:V9,uv2_pars_vertex:W9,uv2_vertex:j9,worldpos_vertex:J9,background_vert:K9,background_frag:X9,backgroundCube_vert:Y9,backgroundCube_frag:Q9,cube_vert:q9,cube_frag:Z9,depth_vert:eG,depth_frag:tG,distanceRGBA_vert:nG,distanceRGBA_frag:rG,equirect_vert:iG,equirect_frag:sG,linedashed_vert:oG,linedashed_frag:aG,meshbasic_vert:lG,meshbasic_frag:cG,meshlambert_vert:uG,meshlambert_frag:fG,meshmatcap_vert:dG,meshmatcap_frag:hG,meshnormal_vert:pG,meshnormal_frag:mG,meshphong_vert:gG,meshphong_frag:vG,meshphysical_vert:yG,meshphysical_frag:xG,meshtoon_vert:_G,meshtoon_frag:wG,points_vert:bG,points_frag:SG,shadow_vert:AG,shadow_frag:MG,sprite_vert:CG,sprite_frag:EG},Ue={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Hr},uv2Transform:{value:new Hr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new we(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Hr}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new we(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Hr}}},ps={basic:{uniforms:zr([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:zr([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:zr([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:zr([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:zr([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new He(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:zr([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:zr([Ue.points,Ue.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:zr([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:zr([Ue.common,Ue.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:zr([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:zr([Ue.sprite,Ue.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new Hr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:zr([Ue.common,Ue.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:zr([Ue.lights,Ue.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};ps.physical={uniforms:zr([ps.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new we(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new we},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};const eg={r:0,b:0,g:0};function TG(t,e,n,r,i,s,o){const a=new He(0);let l=s===!0?0:1,c,f,h=null,p=0,m=null;function v(y,_){let w=!1,b=_.isScene===!0?_.background:null;b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b));const A=t.xr,C=A.getSession&&A.getSession();C&&C.environmentBlendMode==="additive"&&(b=null),b===null?g(a,l):b&&b.isColor&&(g(b,1),w=!0),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===gf)?(f===void 0&&(f=new Yn(new Yo(1,1,1),new Zi({name:"BackgroundCubeMaterial",uniforms:Zu(ps.backgroundCube.uniforms),vertexShader:ps.backgroundCube.vertexShader,fragmentShader:ps.backgroundCube.fragmentShader,side:si,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(E,B,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),f.material.uniforms.envMap.value=b,f.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,f.material.toneMapped=b.encoding!==tn,(h!==b||p!==b.version||m!==t.toneMapping)&&(f.material.needsUpdate=!0,h=b,p=b.version,m=t.toneMapping),f.layers.enableAll(),y.unshift(f,f.geometry,f.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Yn(new hc(2,2),new Zi({name:"BackgroundMaterial",uniforms:Zu(ps.background.uniforms),vertexShader:ps.background.vertexShader,fragmentShader:ps.background.fragmentShader,side:qs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=b.encoding!==tn,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(h!==b||p!==b.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,h=b,p=b.version,m=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function g(y,_){y.getRGB(eg,hL(t)),r.buffers.color.setClear(eg.r,eg.g,eg.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(y,_=1){a.set(y),l=_,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(a,l)},render:v}}function RG(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,f=!1;function h(F,J,q,ne,O){let W=!1;if(o){const X=g(ne,q,J);c!==X&&(c=X,m(c.object)),W=_(F,ne,q,O),W&&w(F,ne,q,O)}else{const X=J.wireframe===!0;(c.geometry!==ne.id||c.program!==q.id||c.wireframe!==X)&&(c.geometry=ne.id,c.program=q.id,c.wireframe=X,W=!0)}O!==null&&n.update(O,34963),(W||f)&&(f=!1,T(F,J,q,ne),O!==null&&t.bindBuffer(34963,n.get(O).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(F){return r.isWebGL2?t.bindVertexArray(F):s.bindVertexArrayOES(F)}function v(F){return r.isWebGL2?t.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function g(F,J,q){const ne=q.wireframe===!0;let O=a[F.id];O===void 0&&(O={},a[F.id]=O);let W=O[J.id];W===void 0&&(W={},O[J.id]=W);let X=W[ne];return X===void 0&&(X=y(p()),W[ne]=X),X}function y(F){const J=[],q=[],ne=[];for(let O=0;O<i;O++)J[O]=0,q[O]=0,ne[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:q,attributeDivisors:ne,object:F,attributes:{},index:null}}function _(F,J,q,ne){const O=c.attributes,W=J.attributes;let X=0;const se=q.getAttributes();for(const Q in se)if(se[Q].location>=0){const _e=O[Q];let be=W[Q];if(be===void 0&&(Q==="instanceMatrix"&&F.instanceMatrix&&(be=F.instanceMatrix),Q==="instanceColor"&&F.instanceColor&&(be=F.instanceColor)),_e===void 0||_e.attribute!==be||be&&_e.data!==be.data)return!0;X++}return c.attributesNum!==X||c.index!==ne}function w(F,J,q,ne){const O={},W=J.attributes;let X=0;const se=q.getAttributes();for(const Q in se)if(se[Q].location>=0){let _e=W[Q];_e===void 0&&(Q==="instanceMatrix"&&F.instanceMatrix&&(_e=F.instanceMatrix),Q==="instanceColor"&&F.instanceColor&&(_e=F.instanceColor));const be={};be.attribute=_e,_e&&_e.data&&(be.data=_e.data),O[Q]=be,X++}c.attributes=O,c.attributesNum=X,c.index=ne}function b(){const F=c.newAttributes;for(let J=0,q=F.length;J<q;J++)F[J]=0}function A(F){C(F,0)}function C(F,J){const q=c.newAttributes,ne=c.enabledAttributes,O=c.attributeDivisors;q[F]=1,ne[F]===0&&(t.enableVertexAttribArray(F),ne[F]=1),O[F]!==J&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,J),O[F]=J)}function E(){const F=c.newAttributes,J=c.enabledAttributes;for(let q=0,ne=J.length;q<ne;q++)J[q]!==F[q]&&(t.disableVertexAttribArray(q),J[q]=0)}function B(F,J,q,ne,O,W){r.isWebGL2===!0&&(q===5124||q===5125)?t.vertexAttribIPointer(F,J,q,O,W):t.vertexAttribPointer(F,J,q,ne,O,W)}function T(F,J,q,ne){if(r.isWebGL2===!1&&(F.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const O=ne.attributes,W=q.getAttributes(),X=J.defaultAttributeValues;for(const se in W){const Q=W[se];if(Q.location>=0){let re=O[se];if(re===void 0&&(se==="instanceMatrix"&&F.instanceMatrix&&(re=F.instanceMatrix),se==="instanceColor"&&F.instanceColor&&(re=F.instanceColor)),re!==void 0){const _e=re.normalized,be=re.itemSize,te=n.get(re);if(te===void 0)continue;const De=te.buffer,Fe=te.type,Ie=te.bytesPerElement;if(re.isInterleavedBufferAttribute){const Te=re.data,Qe=Te.stride,me=re.offset;if(Te.isInstancedInterleavedBuffer){for(let le=0;le<Q.locationSize;le++)C(Q.location+le,Te.meshPerAttribute);F.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let le=0;le<Q.locationSize;le++)A(Q.location+le);t.bindBuffer(34962,De);for(let le=0;le<Q.locationSize;le++)B(Q.location+le,be/Q.locationSize,Fe,_e,Qe*Ie,(me+be/Q.locationSize*le)*Ie)}else{if(re.isInstancedBufferAttribute){for(let Te=0;Te<Q.locationSize;Te++)C(Q.location+Te,re.meshPerAttribute);F.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Te=0;Te<Q.locationSize;Te++)A(Q.location+Te);t.bindBuffer(34962,De);for(let Te=0;Te<Q.locationSize;Te++)B(Q.location+Te,be/Q.locationSize,Fe,_e,be*Ie,be/Q.locationSize*Te*Ie)}}else if(X!==void 0){const _e=X[se];if(_e!==void 0)switch(_e.length){case 2:t.vertexAttrib2fv(Q.location,_e);break;case 3:t.vertexAttrib3fv(Q.location,_e);break;case 4:t.vertexAttrib4fv(Q.location,_e);break;default:t.vertexAttrib1fv(Q.location,_e)}}}}E()}function I(){G();for(const F in a){const J=a[F];for(const q in J){const ne=J[q];for(const O in ne)v(ne[O].object),delete ne[O];delete J[q]}delete a[F]}}function L(F){if(a[F.id]===void 0)return;const J=a[F.id];for(const q in J){const ne=J[q];for(const O in ne)v(ne[O].object),delete ne[O];delete J[q]}delete a[F.id]}function k(F){for(const J in a){const q=a[J];if(q[F.id]===void 0)continue;const ne=q[F.id];for(const O in ne)v(ne[O].object),delete ne[O];delete q[F.id]}}function G(){z(),f=!0,c!==l&&(c=l,m(c.object))}function z(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:G,resetDefaultState:z,dispose:I,releaseStatesOfGeometry:L,releaseStatesOfProgram:k,initAttributes:b,enableAttribute:A,disableUnusedAttributes:E}}function PG(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,f){t.drawArrays(s,c,f),n.update(f,s,1)}function l(c,f,h){if(h===0)return;let p,m;if(i)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,f,h),n.update(f,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function BG(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(B){if(B==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";B="mediump"}return B==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),f=n.logarithmicDepthBuffer===!0,h=t.getParameter(34930),p=t.getParameter(35660),m=t.getParameter(3379),v=t.getParameter(34076),g=t.getParameter(34921),y=t.getParameter(36347),_=t.getParameter(36348),w=t.getParameter(36349),b=p>0,A=o||e.has("OES_texture_float"),C=b&&A,E=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:A,floatVertexTextures:C,maxSamples:E}}function IG(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Mo,a=new Hr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||r!==0||i;return i=p,r=h.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=f(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,g=h.clipIntersection,y=h.clipShadows,_=t.get(h);if(!i||v===null||v.length===0||s&&!y)s?f(null):c();else{const w=s?0:r,b=w*4;let A=_.clippingState||null;l.value=A,A=f(v,p,b,m);for(let C=0;C!==b;++C)A[C]=n[C];_.clippingState=A,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(h,p,m,v){const g=h!==null?h.length:0;let y=null;if(g!==0){if(y=l.value,v!==!0||y===null){const _=m+g*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<_)&&(y=new Float32Array(_));for(let b=0,A=m;b!==g;++b,A+=4)o.copy(h[b]).applyMatrix4(w,a),o.normal.toArray(y,A),y[A+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function LG(t){let e=new WeakMap;function n(o,a){return a===wh?o.mapping=za:a===bh&&(o.mapping=Ua),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===wh||a===bh)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new gL(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class js extends qh{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Mu=4,yT=[.125,.215,.35,.446,.526,.582],Tl=20,A1=new js,xT=new He;let M1=null;const Cl=(1+Math.sqrt(5))/2,Xc=1/Cl,_T=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Cl,Xc),new N(0,Cl,-Xc),new N(Xc,0,Cl),new N(-Xc,0,Cl),new N(Cl,Xc,0),new N(-Cl,Xc,0)];class Hw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){M1=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ST(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(M1),e.scissorTest=!1,tg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===za||e.mapping===Ua?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),M1=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:yn,minFilter:yn,generateMipmaps:!1,type:Yu,format:Zr,encoding:Ha,depthBuffer:!1},i=wT(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=wT(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=DG(s)),this._blurMaterial=kG(s,e,n)}return i}_compileMaterial(e){const n=new Yn(this._lodPlanes[0],e);this._renderer.compile(n,A1)}_sceneToCubeUV(e,n,r,i){const a=new xn(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(xT),f.toneMapping=ys,f.autoClear=!1;const m=new vi({name:"PMREM.Background",side:si,depthWrite:!1,depthTest:!1}),v=new Yn(new Yo,m);let g=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,g=!0):(m.color.copy(xT),g=!0);for(let _=0;_<6;_++){const w=_%3;w===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):w===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const b=this._cubeSize;tg(i,w*b,_>2?b:0,b,b),f.setRenderTarget(i),g&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===za||e.mapping===Ua;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ST()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bT());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Yn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;tg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,A1)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=_T[(i-1)%_T.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new Yn(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Tl-1),g=s/v,y=isFinite(s)?1+Math.floor(f*g):Tl;y>Tl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Tl}`);const _=[];let w=0;for(let B=0;B<Tl;++B){const T=B/g,I=Math.exp(-T*T/2);_.push(I),B===0?w+=I:B<y&&(w+=2*I)}for(let B=0;B<_.length;B++)_[B]=_[B]/w;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=v,p.mipInt.value=b-r;const A=this._sizeLods[i],C=3*A*(i>b-Mu?i-b+Mu:0),E=4*(this._cubeSize-A);tg(n,C,E,3*A,2*A),l.setRenderTarget(n),l.render(h,A1)}}function DG(t){const e=[],n=[],r=[];let i=t;const s=t-Mu+1+yT.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Mu?l=yT[o-t+Mu-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),f=-c,h=1+c,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,v=6,g=3,y=2,_=1,w=new Float32Array(g*v*m),b=new Float32Array(y*v*m),A=new Float32Array(_*v*m);for(let E=0;E<m;E++){const B=E%3*2/3-1,T=E>2?0:-1,I=[B,T,0,B+2/3,T,0,B+2/3,T+1,0,B,T,0,B+2/3,T+1,0,B,T+1,0];w.set(I,g*v*E),b.set(p,y*v*E);const L=[E,E,E,E,E,E];A.set(L,_*v*E)}const C=new xt;C.setAttribute("position",new Ut(w,g)),C.setAttribute("uv",new Ut(b,y)),C.setAttribute("faceIndex",new Ut(A,_)),e.push(C),i>Mu&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function wT(t,e,n){const r=new Si(t,e,n);return r.texture.mapping=gf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function tg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function kG(t,e,n){const r=new Float32Array(Tl),i=new N(0,1,0);return new Zi({name:"SphericalGaussianBlur",defines:{n:Tl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function bT(){return new Zi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function ST(){return new Zi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function jS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function OG(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===wh||l===bh,f=l===za||l===Ua;if(c||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new Hw(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||f&&h&&i(h)){n===null&&(n=new Hw(t));const p=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function FG(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function NG(t,e,n,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const m=h.morphAttributes;for(const v in m){const g=m[v];for(let y=0,_=g.length;y<_;y++)e.update(g[y],34962)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let g=0;if(m!==null){const w=m.array;g=m.version;for(let b=0,A=w.length;b<A;b+=3){const C=w[b+0],E=w[b+1],B=w[b+2];p.push(C,E,E,B,B,C)}}else{const w=v.array;g=v.version;for(let b=0,A=w.length/3-1;b<A;b+=3){const C=b+0,E=b+1,B=b+2;p.push(C,E,E,B,B,C)}}const y=new(fL(p)?WS:VS)(p,1);y.version=g;const _=s.get(h);_&&e.remove(_),s.set(h,y)}function f(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function zG(t,e,n,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function f(p,m){t.drawElements(s,m,a,p*l),n.update(m,s,1)}function h(p,m,v){if(v===0)return;let g,y;if(i)g=t,y="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,m,a,p*l,v),n.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=f,this.renderInstances=h}function UG(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function GG(t,e){return t[0]-e[0]}function HG(t,e){return Math.abs(e[1])-Math.abs(t[1])}function $G(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Wt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,f,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,y=g!==void 0?g.length:0;let _=s.get(f);if(_===void 0||_.count!==y){let q=function(){F.dispose(),s.delete(f),f.removeEventListener("dispose",q)};var v=q;_!==void 0&&_.texture.dispose();const A=f.morphAttributes.position!==void 0,C=f.morphAttributes.normal!==void 0,E=f.morphAttributes.color!==void 0,B=f.morphAttributes.position||[],T=f.morphAttributes.normal||[],I=f.morphAttributes.color||[];let L=0;A===!0&&(L=1),C===!0&&(L=2),E===!0&&(L=3);let k=f.attributes.position.count*L,G=1;k>e.maxTextureSize&&(G=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const z=new Float32Array(k*G*4*y),F=new Ov(z,k,G,y);F.type=Bo,F.needsUpdate=!0;const J=L*4;for(let ne=0;ne<y;ne++){const O=B[ne],W=T[ne],X=I[ne],se=k*G*4*ne;for(let Q=0;Q<O.count;Q++){const re=Q*J;A===!0&&(o.fromBufferAttribute(O,Q),z[se+re+0]=o.x,z[se+re+1]=o.y,z[se+re+2]=o.z,z[se+re+3]=0),C===!0&&(o.fromBufferAttribute(W,Q),z[se+re+4]=o.x,z[se+re+5]=o.y,z[se+re+6]=o.z,z[se+re+7]=0),E===!0&&(o.fromBufferAttribute(X,Q),z[se+re+8]=o.x,z[se+re+9]=o.y,z[se+re+10]=o.z,z[se+re+11]=X.itemSize===4?o.w:1)}}_={count:y,texture:F,size:new we(k,G)},s.set(f,_),f.addEventListener("dispose",q)}let w=0;for(let A=0;A<m.length;A++)w+=m[A];const b=f.morphTargetsRelative?1:1-w;p.getUniforms().setValue(t,"morphTargetBaseInfluence",b),p.getUniforms().setValue(t,"morphTargetInfluences",m),p.getUniforms().setValue(t,"morphTargetsTexture",_.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",_.size)}else{const g=m===void 0?0:m.length;let y=r[f.id];if(y===void 0||y.length!==g){y=[];for(let C=0;C<g;C++)y[C]=[C,0];r[f.id]=y}for(let C=0;C<g;C++){const E=y[C];E[0]=C,E[1]=m[C]}y.sort(HG);for(let C=0;C<8;C++)C<g&&y[C][1]?(a[C][0]=y[C][0],a[C][1]=y[C][1]):(a[C][0]=Number.MAX_SAFE_INTEGER,a[C][1]=0);a.sort(GG);const _=f.morphAttributes.position,w=f.morphAttributes.normal;let b=0;for(let C=0;C<8;C++){const E=a[C],B=E[0],T=E[1];B!==Number.MAX_SAFE_INTEGER&&T?(_&&f.getAttribute("morphTarget"+C)!==_[B]&&f.setAttribute("morphTarget"+C,_[B]),w&&f.getAttribute("morphNormal"+C)!==w[B]&&f.setAttribute("morphNormal"+C,w[B]),i[C]=T,b+=T):(_&&f.hasAttribute("morphTarget"+C)===!0&&f.deleteAttribute("morphTarget"+C),w&&f.hasAttribute("morphNormal"+C)===!0&&f.deleteAttribute("morphNormal"+C),i[C]=0)}const A=f.morphTargetsRelative?1:1-b;p.getUniforms().setValue(t,"morphTargetBaseInfluence",A),p.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function VG(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,f=l.geometry,h=e.get(l,f);return i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const yL=new fn,xL=new Ov,_L=new $S,wL=new Zh,AT=[],MT=[],CT=new Float32Array(16),ET=new Float32Array(9),TT=new Float32Array(4);function yf(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=AT[i];if(s===void 0&&(s=new Float32Array(i),AT[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Qn(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function qn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Nv(t,e){let n=MT[e];n===void 0&&(n=new Int32Array(e),MT[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function WG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function jG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qn(n,e))return;t.uniform2fv(this.addr,e),qn(n,e)}}function JG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Qn(n,e))return;t.uniform3fv(this.addr,e),qn(n,e)}}function KG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qn(n,e))return;t.uniform4fv(this.addr,e),qn(n,e)}}function XG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),qn(n,e)}else{if(Qn(n,r))return;TT.set(r),t.uniformMatrix2fv(this.addr,!1,TT),qn(n,r)}}function YG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),qn(n,e)}else{if(Qn(n,r))return;ET.set(r),t.uniformMatrix3fv(this.addr,!1,ET),qn(n,r)}}function QG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),qn(n,e)}else{if(Qn(n,r))return;CT.set(r),t.uniformMatrix4fv(this.addr,!1,CT),qn(n,r)}}function qG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ZG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qn(n,e))return;t.uniform2iv(this.addr,e),qn(n,e)}}function eH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Qn(n,e))return;t.uniform3iv(this.addr,e),qn(n,e)}}function tH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qn(n,e))return;t.uniform4iv(this.addr,e),qn(n,e)}}function nH(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function rH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qn(n,e))return;t.uniform2uiv(this.addr,e),qn(n,e)}}function iH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Qn(n,e))return;t.uniform3uiv(this.addr,e),qn(n,e)}}function sH(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qn(n,e))return;t.uniform4uiv(this.addr,e),qn(n,e)}}function oH(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||yL,i)}function aH(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||_L,i)}function lH(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||wL,i)}function cH(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||xL,i)}function uH(t){switch(t){case 5126:return WG;case 35664:return jG;case 35665:return JG;case 35666:return KG;case 35674:return XG;case 35675:return YG;case 35676:return QG;case 5124:case 35670:return qG;case 35667:case 35671:return ZG;case 35668:case 35672:return eH;case 35669:case 35673:return tH;case 5125:return nH;case 36294:return rH;case 36295:return iH;case 36296:return sH;case 35678:case 36198:case 36298:case 36306:case 35682:return oH;case 35679:case 36299:case 36307:return aH;case 35680:case 36300:case 36308:case 36293:return lH;case 36289:case 36303:case 36311:case 36292:return cH}}function fH(t,e){t.uniform1fv(this.addr,e)}function dH(t,e){const n=yf(e,this.size,2);t.uniform2fv(this.addr,n)}function hH(t,e){const n=yf(e,this.size,3);t.uniform3fv(this.addr,n)}function pH(t,e){const n=yf(e,this.size,4);t.uniform4fv(this.addr,n)}function mH(t,e){const n=yf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function gH(t,e){const n=yf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function vH(t,e){const n=yf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function yH(t,e){t.uniform1iv(this.addr,e)}function xH(t,e){t.uniform2iv(this.addr,e)}function _H(t,e){t.uniform3iv(this.addr,e)}function wH(t,e){t.uniform4iv(this.addr,e)}function bH(t,e){t.uniform1uiv(this.addr,e)}function SH(t,e){t.uniform2uiv(this.addr,e)}function AH(t,e){t.uniform3uiv(this.addr,e)}function MH(t,e){t.uniform4uiv(this.addr,e)}function CH(t,e,n){const r=this.cache,i=e.length,s=Nv(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),qn(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||yL,s[o])}function EH(t,e,n){const r=this.cache,i=e.length,s=Nv(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),qn(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||_L,s[o])}function TH(t,e,n){const r=this.cache,i=e.length,s=Nv(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),qn(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||wL,s[o])}function RH(t,e,n){const r=this.cache,i=e.length,s=Nv(n,i);Qn(r,s)||(t.uniform1iv(this.addr,s),qn(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||xL,s[o])}function PH(t){switch(t){case 5126:return fH;case 35664:return dH;case 35665:return hH;case 35666:return pH;case 35674:return mH;case 35675:return gH;case 35676:return vH;case 5124:case 35670:return yH;case 35667:case 35671:return xH;case 35668:case 35672:return _H;case 35669:case 35673:return wH;case 5125:return bH;case 36294:return SH;case 36295:return AH;case 36296:return MH;case 35678:case 36198:case 36298:case 36306:case 35682:return CH;case 35679:case 36299:case 36307:return EH;case 35680:case 36300:case 36308:case 36293:return TH;case 36289:case 36303:case 36311:case 36292:return RH}}class BH{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=uH(n.type)}}class IH{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=PH(n.type)}}class LH{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const C1=/(\w+)(\])?(\[|\.)?/g;function RT(t,e){t.seq.push(e),t.map[e.id]=e}function DH(t,e,n){const r=t.name,i=r.length;for(C1.lastIndex=0;;){const s=C1.exec(r),o=C1.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){RT(n,c===void 0?new BH(a,t,e):new IH(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new LH(a),RT(n,h)),n=h}}}class u0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);DH(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function PT(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let kH=0;function OH(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function FH(t){switch(t){case Ha:return["Linear","( value )"];case tn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function BT(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+OH(t.getShaderSource(e),o)}else return i}function NH(t,e){const n=FH(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function zH(t,e){let n;switch(e){case OI:n="Linear";break;case FI:n="Reinhard";break;case NI:n="OptimizedCineon";break;case FS:n="ACESFilmic";break;case zI:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function UH(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Dd).join(`
`)}function GH(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function HH(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Dd(t){return t!==""}function IT(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function LT(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const $H=/^[ \t]*#include +<([\w\d./]+)>/gm;function $w(t){return t.replace($H,VH)}function VH(t,e){const n=At[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return $w(n)}const WH=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DT(t){return t.replace(WH,jH)}function jH(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function kT(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function JH(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Iv?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===jd?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ll&&(e="SHADOWMAP_TYPE_VSM"),e}function KH(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case za:case Ua:e="ENVMAP_TYPE_CUBE";break;case gf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function XH(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ua:e="ENVMAP_MODE_REFRACTION";break}return e}function YH(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Yh:e="ENVMAP_BLENDING_MULTIPLY";break;case DI:e="ENVMAP_BLENDING_MIX";break;case kI:e="ENVMAP_BLENDING_ADD";break}return e}function QH(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function qH(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=JH(n),c=KH(n),f=XH(n),h=YH(n),p=QH(n),m=n.isWebGL2?"":UH(n),v=GH(s),g=i.createProgram();let y,_,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[v].filter(Dd).join(`
`),y.length>0&&(y+=`
`),_=[m,v].filter(Dd).join(`
`),_.length>0&&(_+=`
`)):(y=[kT(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Dd).join(`
`),_=[m,kT(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ys?"#define TONE_MAPPING":"",n.toneMapping!==ys?At.tonemapping_pars_fragment:"",n.toneMapping!==ys?zH("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",At.encodings_pars_fragment,NH("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Dd).join(`
`)),o=$w(o),o=IT(o,n),o=LT(o,n),a=$w(a),a=IT(a,n),a=LT(a,n),o=DT(o),a=DT(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,_=["#define varying in",n.glslVersion===Uw?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Uw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const b=w+y+o,A=w+_+a,C=PT(i,35633,b),E=PT(i,35632,A);if(i.attachShader(g,C),i.attachShader(g,E),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),t.debug.checkShaderErrors){const I=i.getProgramInfoLog(g).trim(),L=i.getShaderInfoLog(C).trim(),k=i.getShaderInfoLog(E).trim();let G=!0,z=!0;if(i.getProgramParameter(g,35714)===!1){G=!1;const F=BT(i,C,"vertex"),J=BT(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+I+`
`+F+`
`+J)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(L===""||k==="")&&(z=!1);z&&(this.diagnostics={runnable:G,programLog:I,vertexShader:{log:L,prefix:y},fragmentShader:{log:k,prefix:_}})}i.deleteShader(C),i.deleteShader(E);let B;this.getUniforms=function(){return B===void 0&&(B=new u0(i,g)),B};let T;return this.getAttributes=function(){return T===void 0&&(T=HH(i,g)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=kH++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=C,this.fragmentShader=E,this}let ZH=0;class e6{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new t6(e),n.set(e,r)),r}}class t6{constructor(e){this.id=ZH++,this.code=e,this.usedTimes=0}}function n6(t,e,n,r,i,s,o){const a=new Kl,l=new e6,c=[],f=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(T,I,L,k,G){const z=k.fog,F=G.geometry,J=T.isMeshStandardMaterial?k.environment:null,q=(T.isMeshStandardMaterial?n:e).get(T.envMap||J),ne=q&&q.mapping===gf?q.image.height:null,O=v[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const W=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,X=W!==void 0?W.length:0;let se=0;F.morphAttributes.position!==void 0&&(se=1),F.morphAttributes.normal!==void 0&&(se=2),F.morphAttributes.color!==void 0&&(se=3);let Q,re,_e,be;if(O){const Qe=ps[O];Q=Qe.vertexShader,re=Qe.fragmentShader}else Q=T.vertexShader,re=T.fragmentShader,l.update(T),_e=l.getVertexShaderID(T),be=l.getFragmentShaderID(T);const te=t.getRenderTarget(),De=T.alphaTest>0,Fe=T.clearcoat>0,Ie=T.iridescence>0;return{isWebGL2:f,shaderID:O,shaderName:T.type,vertexShader:Q,fragmentShader:re,defines:T.defines,customVertexShaderID:_e,customFragmentShaderID:be,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:G.isInstancedMesh===!0,instancingColor:G.isInstancedMesh===!0&&G.instanceColor!==null,supportsVertexTextures:p,outputEncoding:te===null?t.outputEncoding:te.isXRRenderTarget===!0?te.texture.encoding:Ha,map:!!T.map,matcap:!!T.matcap,envMap:!!q,envMapMode:q&&q.mapping,envMapCubeUVHeight:ne,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===aL,tangentSpaceNormalMap:T.normalMapType===qa,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===tn,clearcoat:Fe,clearcoatMap:Fe&&!!T.clearcoatMap,clearcoatRoughnessMap:Fe&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:Fe&&!!T.clearcoatNormalMap,iridescence:Ie,iridescenceMap:Ie&&!!T.iridescenceMap,iridescenceThicknessMap:Ie&&!!T.iridescenceThicknessMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===Vl,alphaMap:!!T.alphaMap,alphaTest:De,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!F.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.iridescenceMap||!!T.iridescenceThicknessMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.iridescenceMap||T.iridescenceThicknessMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularColorMap||T.sheen>0||T.sheenColorMap||T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!z,useFog:T.fog===!0,fogExp2:z&&z.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:h,skinning:G.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:se,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:T.toneMapped?t.toneMapping:ys,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Ws,flipSided:T.side===si,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function y(T){const I=[];if(T.shaderID?I.push(T.shaderID):(I.push(T.customVertexShaderID),I.push(T.customFragmentShaderID)),T.defines!==void 0)for(const L in T.defines)I.push(L),I.push(T.defines[L]);return T.isRawShaderMaterial===!1&&(_(I,T),w(I,T),I.push(t.outputEncoding)),I.push(T.customProgramCacheKey),I.join()}function _(T,I){T.push(I.precision),T.push(I.outputEncoding),T.push(I.envMapMode),T.push(I.envMapCubeUVHeight),T.push(I.combine),T.push(I.vertexUvs),T.push(I.fogExp2),T.push(I.sizeAttenuation),T.push(I.morphTargetsCount),T.push(I.morphAttributeCount),T.push(I.numDirLights),T.push(I.numPointLights),T.push(I.numSpotLights),T.push(I.numSpotLightMaps),T.push(I.numHemiLights),T.push(I.numRectAreaLights),T.push(I.numDirLightShadows),T.push(I.numPointLightShadows),T.push(I.numSpotLightShadows),T.push(I.numSpotLightShadowsWithMaps),T.push(I.shadowMapType),T.push(I.toneMapping),T.push(I.numClippingPlanes),T.push(I.numClipIntersection),T.push(I.depthPacking)}function w(T,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.map&&a.enable(4),I.matcap&&a.enable(5),I.envMap&&a.enable(6),I.lightMap&&a.enable(7),I.aoMap&&a.enable(8),I.emissiveMap&&a.enable(9),I.bumpMap&&a.enable(10),I.normalMap&&a.enable(11),I.objectSpaceNormalMap&&a.enable(12),I.tangentSpaceNormalMap&&a.enable(13),I.clearcoat&&a.enable(14),I.clearcoatMap&&a.enable(15),I.clearcoatRoughnessMap&&a.enable(16),I.clearcoatNormalMap&&a.enable(17),I.iridescence&&a.enable(18),I.iridescenceMap&&a.enable(19),I.iridescenceThicknessMap&&a.enable(20),I.displacementMap&&a.enable(21),I.specularMap&&a.enable(22),I.roughnessMap&&a.enable(23),I.metalnessMap&&a.enable(24),I.gradientMap&&a.enable(25),I.alphaMap&&a.enable(26),I.alphaTest&&a.enable(27),I.vertexColors&&a.enable(28),I.vertexAlphas&&a.enable(29),I.vertexUvs&&a.enable(30),I.vertexTangents&&a.enable(31),I.uvsVertexOnly&&a.enable(32),T.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.physicallyCorrectLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.specularIntensityMap&&a.enable(15),I.specularColorMap&&a.enable(16),I.transmission&&a.enable(17),I.transmissionMap&&a.enable(18),I.thicknessMap&&a.enable(19),I.sheen&&a.enable(20),I.sheenColorMap&&a.enable(21),I.sheenRoughnessMap&&a.enable(22),I.decodeVideoTexture&&a.enable(23),I.opaque&&a.enable(24),T.push(a.mask)}function b(T){const I=v[T.type];let L;if(I){const k=ps[I];L=pL.clone(k.uniforms)}else L=T.uniforms;return L}function A(T,I){let L;for(let k=0,G=c.length;k<G;k++){const z=c[k];if(z.cacheKey===I){L=z,++L.usedTimes;break}}return L===void 0&&(L=new qH(t,I,T,s),c.push(L)),L}function C(T){if(--T.usedTimes===0){const I=c.indexOf(T);c[I]=c[c.length-1],c.pop(),T.destroy()}}function E(T){l.remove(T)}function B(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:b,acquireProgram:A,releaseProgram:C,releaseShaderCache:E,programs:c,dispose:B}}function r6(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function i6(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function OT(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function FT(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,p,m,v,g,y){let _=t[e];return _===void 0?(_={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:g,group:y},t[e]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=m,_.groupOrder=v,_.renderOrder=h.renderOrder,_.z=g,_.group=y),e++,_}function a(h,p,m,v,g,y){const _=o(h,p,m,v,g,y);m.transmission>0?r.push(_):m.transparent===!0?i.push(_):n.push(_)}function l(h,p,m,v,g,y){const _=o(h,p,m,v,g,y);m.transmission>0?r.unshift(_):m.transparent===!0?i.unshift(_):n.unshift(_)}function c(h,p){n.length>1&&n.sort(h||i6),r.length>1&&r.sort(p||OT),i.length>1&&i.sort(p||OT)}function f(){for(let h=e,p=t.length;h<p;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:c}}function s6(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new FT,t.set(r,[o])):i>=s.length?(o=new FT,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function o6(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new N,color:new He};break;case"SpotLight":n={position:new N,direction:new N,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new N,color:new He,distance:0,decay:0};break;case"HemisphereLight":n={direction:new N,skyColor:new He,groundColor:new He};break;case"RectAreaLight":n={color:new He,position:new N,halfWidth:new N,halfHeight:new N};break}return t[e.id]=n,n}}}function a6(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let l6=0;function c6(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function u6(t,e){const n=new o6,r=a6(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)i.probe.push(new N);const s=new N,o=new ht,a=new ht;function l(f,h){let p=0,m=0,v=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let g=0,y=0,_=0,w=0,b=0,A=0,C=0,E=0,B=0,T=0;f.sort(c6);const I=h!==!0?Math.PI:1;for(let k=0,G=f.length;k<G;k++){const z=f[k],F=z.color,J=z.intensity,q=z.distance,ne=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)p+=F.r*J*I,m+=F.g*J*I,v+=F.b*J*I;else if(z.isLightProbe)for(let O=0;O<9;O++)i.probe[O].addScaledVector(z.sh.coefficients[O],J);else if(z.isDirectionalLight){const O=n.get(z);if(O.color.copy(z.color).multiplyScalar(z.intensity*I),z.castShadow){const W=z.shadow,X=r.get(z);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,i.directionalShadow[g]=X,i.directionalShadowMap[g]=ne,i.directionalShadowMatrix[g]=z.shadow.matrix,A++}i.directional[g]=O,g++}else if(z.isSpotLight){const O=n.get(z);O.position.setFromMatrixPosition(z.matrixWorld),O.color.copy(F).multiplyScalar(J*I),O.distance=q,O.coneCos=Math.cos(z.angle),O.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),O.decay=z.decay,i.spot[_]=O;const W=z.shadow;if(z.map&&(i.spotLightMap[B]=z.map,B++,W.updateMatrices(z),z.castShadow&&T++),i.spotLightMatrix[_]=W.matrix,z.castShadow){const X=r.get(z);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,i.spotShadow[_]=X,i.spotShadowMap[_]=ne,E++}_++}else if(z.isRectAreaLight){const O=n.get(z);O.color.copy(F).multiplyScalar(J),O.halfWidth.set(z.width*.5,0,0),O.halfHeight.set(0,z.height*.5,0),i.rectArea[w]=O,w++}else if(z.isPointLight){const O=n.get(z);if(O.color.copy(z.color).multiplyScalar(z.intensity*I),O.distance=z.distance,O.decay=z.decay,z.castShadow){const W=z.shadow,X=r.get(z);X.shadowBias=W.bias,X.shadowNormalBias=W.normalBias,X.shadowRadius=W.radius,X.shadowMapSize=W.mapSize,X.shadowCameraNear=W.camera.near,X.shadowCameraFar=W.camera.far,i.pointShadow[y]=X,i.pointShadowMap[y]=ne,i.pointShadowMatrix[y]=z.shadow.matrix,C++}i.point[y]=O,y++}else if(z.isHemisphereLight){const O=n.get(z);O.skyColor.copy(z.color).multiplyScalar(J*I),O.groundColor.copy(z.groundColor).multiplyScalar(J*I),i.hemi[b]=O,b++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ue.LTC_FLOAT_1,i.rectAreaLTC2=Ue.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ue.LTC_HALF_1,i.rectAreaLTC2=Ue.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const L=i.hash;(L.directionalLength!==g||L.pointLength!==y||L.spotLength!==_||L.rectAreaLength!==w||L.hemiLength!==b||L.numDirectionalShadows!==A||L.numPointShadows!==C||L.numSpotShadows!==E||L.numSpotMaps!==B)&&(i.directional.length=g,i.spot.length=_,i.rectArea.length=w,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=E+B-T,i.spotLightMap.length=B,i.numSpotLightShadowsWithMaps=T,L.directionalLength=g,L.pointLength=y,L.spotLength=_,L.rectAreaLength=w,L.hemiLength=b,L.numDirectionalShadows=A,L.numPointShadows=C,L.numSpotShadows=E,L.numSpotMaps=B,i.version=l6++)}function c(f,h){let p=0,m=0,v=0,g=0,y=0;const _=h.matrixWorldInverse;for(let w=0,b=f.length;w<b;w++){const A=f[w];if(A.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),p++}else if(A.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(_),C.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(_),v++}else if(A.isRectAreaLight){const C=i.rectArea[g];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(_),a.identity(),o.copy(A.matrixWorld),o.premultiply(_),a.extractRotation(o),C.halfWidth.set(A.width*.5,0,0),C.halfHeight.set(0,A.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),g++}else if(A.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(_),m++}else if(A.isHemisphereLight){const C=i.hemi[y];C.direction.setFromMatrixPosition(A.matrixWorld),C.direction.transformDirection(_),y++}}}return{setup:l,setupView:c,state:i}}function NT(t,e){const n=new u6(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){n.setup(r,h)}function c(h){n.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function f6(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new NT(t,e),n.set(s,[l])):o>=a.length?(l=new NT(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class zv extends Wn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=sL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class JS extends Wn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new N,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const d6=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,h6=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function p6(t,e,n){let r=new Fv;const i=new we,s=new we,o=new Wt,a=new zv({depthPacking:oL}),l=new JS,c={},f=n.maxTextureSize,h={[qs]:si,[si]:qs,[Ws]:Ws},p=new Zi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new we},radius:{value:4}},vertexShader:d6,fragmentShader:h6}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new xt;v.setAttribute("position",new Ut(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Yn(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Iv,this.render=function(A,C,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const B=t.getRenderTarget(),T=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),L=t.state;L.setBlending(ko),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let k=0,G=A.length;k<G;k++){const z=A[k],F=z.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const J=F.getFrameExtents();if(i.multiply(J),s.copy(F.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/J.x),i.x=s.x*J.x,F.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/J.y),i.y=s.y*J.y,F.mapSize.y=s.y)),F.map===null){const ne=this.type!==Ll?{minFilter:Bn,magFilter:Bn}:{};F.map=new Si(i.x,i.y,ne),F.map.texture.name=z.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const q=F.getViewportCount();for(let ne=0;ne<q;ne++){const O=F.getViewport(ne);o.set(s.x*O.x,s.y*O.y,s.x*O.z,s.y*O.w),L.viewport(o),F.updateMatrices(z,ne),r=F.getFrustum(),b(C,E,F.camera,z,this.type)}F.isPointLightShadow!==!0&&this.type===Ll&&_(F,E),F.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(B,T,I)};function _(A,C){const E=e.update(g);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Si(i.x,i.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(C,null,E,p,g,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(C,null,E,m,g,null)}function w(A,C,E,B,T,I){let L=null;const k=E.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(k!==void 0)L=k;else if(L=E.isPointLight===!0?l:a,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const G=L.uuid,z=C.uuid;let F=c[G];F===void 0&&(F={},c[G]=F);let J=F[z];J===void 0&&(J=L.clone(),F[z]=J),L=J}return L.visible=C.visible,L.wireframe=C.wireframe,I===Ll?L.side=C.shadowSide!==null?C.shadowSide:C.side:L.side=C.shadowSide!==null?C.shadowSide:h[C.side],L.alphaMap=C.alphaMap,L.alphaTest=C.alphaTest,L.map=C.map,L.clipShadows=C.clipShadows,L.clippingPlanes=C.clippingPlanes,L.clipIntersection=C.clipIntersection,L.displacementMap=C.displacementMap,L.displacementScale=C.displacementScale,L.displacementBias=C.displacementBias,L.wireframeLinewidth=C.wireframeLinewidth,L.linewidth=C.linewidth,E.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(E.matrixWorld),L.nearDistance=B,L.farDistance=T),L}function b(A,C,E,B,T){if(A.visible===!1)return;if(A.layers.test(C.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&T===Ll)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,A.matrixWorld);const k=e.update(A),G=A.material;if(Array.isArray(G)){const z=k.groups;for(let F=0,J=z.length;F<J;F++){const q=z[F],ne=G[q.materialIndex];if(ne&&ne.visible){const O=w(A,ne,B,E.near,E.far,T);t.renderBufferDirect(E,null,k,O,A,q)}}}else if(G.visible){const z=w(A,G,B,E.near,E.far,T);t.renderBufferDirect(E,null,k,z,A,null)}}const L=A.children;for(let k=0,G=L.length;k<G;k++)b(L[k],C,E,B,T)}}function m6(t,e,n){const r=n.isWebGL2;function i(){let K=!1;const fe=new Wt;let Me=null;const ke=new Wt(0,0,0,0);return{setMask:function(rt){Me!==rt&&!K&&(t.colorMask(rt,rt,rt,rt),Me=rt)},setLocked:function(rt){K=rt},setClear:function(rt,wt,Dt,Ot,Nn){Nn===!0&&(rt*=Ot,wt*=Ot,Dt*=Ot),fe.set(rt,wt,Dt,Ot),ke.equals(fe)===!1&&(t.clearColor(rt,wt,Dt,Ot),ke.copy(fe))},reset:function(){K=!1,Me=null,ke.set(-1,0,0,0)}}}function s(){let K=!1,fe=null,Me=null,ke=null;return{setTest:function(rt){rt?De(2929):Fe(2929)},setMask:function(rt){fe!==rt&&!K&&(t.depthMask(rt),fe=rt)},setFunc:function(rt){if(Me!==rt){switch(rt){case EI:t.depthFunc(512);break;case TI:t.depthFunc(519);break;case RI:t.depthFunc(513);break;case V0:t.depthFunc(515);break;case PI:t.depthFunc(514);break;case BI:t.depthFunc(518);break;case II:t.depthFunc(516);break;case LI:t.depthFunc(517);break;default:t.depthFunc(515)}Me=rt}},setLocked:function(rt){K=rt},setClear:function(rt){ke!==rt&&(t.clearDepth(rt),ke=rt)},reset:function(){K=!1,fe=null,Me=null,ke=null}}}function o(){let K=!1,fe=null,Me=null,ke=null,rt=null,wt=null,Dt=null,Ot=null,Nn=null;return{setTest:function(Ct){K||(Ct?De(2960):Fe(2960))},setMask:function(Ct){fe!==Ct&&!K&&(t.stencilMask(Ct),fe=Ct)},setFunc:function(Ct,zn,Ln){(Me!==Ct||ke!==zn||rt!==Ln)&&(t.stencilFunc(Ct,zn,Ln),Me=Ct,ke=zn,rt=Ln)},setOp:function(Ct,zn,Ln){(wt!==Ct||Dt!==zn||Ot!==Ln)&&(t.stencilOp(Ct,zn,Ln),wt=Ct,Dt=zn,Ot=Ln)},setLocked:function(Ct){K=Ct},setClear:function(Ct){Nn!==Ct&&(t.clearStencil(Ct),Nn=Ct)},reset:function(){K=!1,fe=null,Me=null,ke=null,rt=null,wt=null,Dt=null,Ot=null,Nn=null}}}const a=new i,l=new s,c=new o,f=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,g=[],y=null,_=!1,w=null,b=null,A=null,C=null,E=null,B=null,T=null,I=!1,L=null,k=null,G=null,z=null,F=null;const J=t.getParameter(35661);let q=!1,ne=0;const O=t.getParameter(7938);O.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(O)[1]),q=ne>=1):O.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),q=ne>=2);let W=null,X={};const se=t.getParameter(3088),Q=t.getParameter(2978),re=new Wt().fromArray(se),_e=new Wt().fromArray(Q);function be(K,fe,Me){const ke=new Uint8Array(4),rt=t.createTexture();t.bindTexture(K,rt),t.texParameteri(K,10241,9728),t.texParameteri(K,10240,9728);for(let wt=0;wt<Me;wt++)t.texImage2D(fe+wt,0,6408,1,1,0,6408,5121,ke);return rt}const te={};te[3553]=be(3553,3553,1),te[34067]=be(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),De(2929),l.setFunc(V0),Ee(!1),nt(fw),De(2884),Ae(ko);function De(K){p[K]!==!0&&(t.enable(K),p[K]=!0)}function Fe(K){p[K]!==!1&&(t.disable(K),p[K]=!1)}function Ie(K,fe){return m[K]!==fe?(t.bindFramebuffer(K,fe),m[K]=fe,r&&(K===36009&&(m[36160]=fe),K===36160&&(m[36009]=fe)),!0):!1}function Te(K,fe){let Me=g,ke=!1;if(K)if(Me=v.get(fe),Me===void 0&&(Me=[],v.set(fe,Me)),K.isWebGLMultipleRenderTargets){const rt=K.texture;if(Me.length!==rt.length||Me[0]!==36064){for(let wt=0,Dt=rt.length;wt<Dt;wt++)Me[wt]=36064+wt;Me.length=rt.length,ke=!0}}else Me[0]!==36064&&(Me[0]=36064,ke=!0);else Me[0]!==1029&&(Me[0]=1029,ke=!0);ke&&(n.isWebGL2?t.drawBuffers(Me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Me))}function Qe(K){return y!==K?(t.useProgram(K),y=K,!0):!1}const me={[El]:32774,[gI]:32778,[vI]:32779};if(r)me[mw]=32775,me[gw]=32776;else{const K=e.get("EXT_blend_minmax");K!==null&&(me[mw]=K.MIN_EXT,me[gw]=K.MAX_EXT)}const le={[yI]:0,[xI]:1,[_I]:768,[kS]:770,[CI]:776,[AI]:774,[bI]:772,[wI]:769,[OS]:771,[MI]:775,[SI]:773};function Ae(K,fe,Me,ke,rt,wt,Dt,Ot){if(K===ko){_===!0&&(Fe(3042),_=!1);return}if(_===!1&&(De(3042),_=!0),K!==mI){if(K!==w||Ot!==I){if((b!==El||E!==El)&&(t.blendEquation(32774),b=El,E=El),Ot)switch(K){case Vl:t.blendFuncSeparate(1,771,1,771);break;case dw:t.blendFunc(1,1);break;case hw:t.blendFuncSeparate(0,769,0,1);break;case pw:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case Vl:t.blendFuncSeparate(770,771,1,771);break;case dw:t.blendFunc(770,1);break;case hw:t.blendFuncSeparate(0,769,0,1);break;case pw:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}A=null,C=null,B=null,T=null,w=K,I=Ot}return}rt=rt||fe,wt=wt||Me,Dt=Dt||ke,(fe!==b||rt!==E)&&(t.blendEquationSeparate(me[fe],me[rt]),b=fe,E=rt),(Me!==A||ke!==C||wt!==B||Dt!==T)&&(t.blendFuncSeparate(le[Me],le[ke],le[wt],le[Dt]),A=Me,C=ke,B=wt,T=Dt),w=K,I=!1}function Ce(K,fe){K.side===Ws?Fe(2884):De(2884);let Me=K.side===si;fe&&(Me=!Me),Ee(Me),K.blending===Vl&&K.transparent===!1?Ae(ko):Ae(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),a.setMask(K.colorWrite);const ke=K.stencilWrite;c.setTest(ke),ke&&(c.setMask(K.stencilWriteMask),c.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),c.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Xe(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?De(32926):Fe(32926)}function Ee(K){L!==K&&(K?t.frontFace(2304):t.frontFace(2305),L=K)}function nt(K){K!==dI?(De(2884),K!==k&&(K===fw?t.cullFace(1029):K===hI?t.cullFace(1028):t.cullFace(1032))):Fe(2884),k=K}function Ke(K){K!==G&&(q&&t.lineWidth(K),G=K)}function Xe(K,fe,Me){K?(De(32823),(z!==fe||F!==Me)&&(t.polygonOffset(fe,Me),z=fe,F=Me)):Fe(32823)}function st(K){K?De(3089):Fe(3089)}function lt(K){K===void 0&&(K=33984+J-1),W!==K&&(t.activeTexture(K),W=K)}function $(K,fe,Me){Me===void 0&&(W===null?Me=33984+J-1:Me=W);let ke=X[Me];ke===void 0&&(ke={type:void 0,texture:void 0},X[Me]=ke),(ke.type!==K||ke.texture!==fe)&&(W!==Me&&(t.activeTexture(Me),W=Me),t.bindTexture(K,fe||te[K]),ke.type=K,ke.texture=fe)}function D(){const K=X[W];K!==void 0&&K.type!==void 0&&(t.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function V(){try{t.compressedTexImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function de(){try{t.texSubImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ve(){try{t.texSubImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ge(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function pe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ue(){try{t.texStorage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ze(){try{t.texStorage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Pe(){try{t.texImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ne(){try{t.texImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function et(K){re.equals(K)===!1&&(t.scissor(K.x,K.y,K.z,K.w),re.copy(K))}function $e(K){_e.equals(K)===!1&&(t.viewport(K.x,K.y,K.z,K.w),_e.copy(K))}function Y(K,fe){let Me=h.get(fe);Me===void 0&&(Me=new WeakMap,h.set(fe,Me));let ke=Me.get(K);ke===void 0&&(ke=t.getUniformBlockIndex(fe,K.name),Me.set(K,ke))}function Se(K,fe){const ke=h.get(fe).get(K);f.get(fe)!==ke&&(t.uniformBlockBinding(fe,ke,K.__bindingPointIndex),f.set(fe,ke))}function je(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},W=null,X={},m={},v=new WeakMap,g=[],y=null,_=!1,w=null,b=null,A=null,C=null,E=null,B=null,T=null,I=!1,L=null,k=null,G=null,z=null,F=null,re.set(0,0,t.canvas.width,t.canvas.height),_e.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:De,disable:Fe,bindFramebuffer:Ie,drawBuffers:Te,useProgram:Qe,setBlending:Ae,setMaterial:Ce,setFlipSided:Ee,setCullFace:nt,setLineWidth:Ke,setPolygonOffset:Xe,setScissorTest:st,activeTexture:lt,bindTexture:$,unbindTexture:D,compressedTexImage2D:V,compressedTexImage3D:ie,texImage2D:Pe,texImage3D:Ne,updateUBOMapping:Y,uniformBlockBinding:Se,texStorage2D:ue,texStorage3D:ze,texSubImage2D:de,texSubImage3D:ve,compressedTexSubImage2D:Ge,compressedTexSubImage3D:pe,scissor:et,viewport:$e,reset:je}}function g6(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,f=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let g;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w($,D){return _?new OffscreenCanvas($,D):Eh("canvas")}function b($,D,V,ie){let de=1;if(($.width>ie||$.height>ie)&&(de=ie/Math.max($.width,$.height)),de<1||D===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const ve=D?J0:Math.floor,Ge=ve(de*$.width),pe=ve(de*$.height);g===void 0&&(g=w(Ge,pe));const ue=V?w(Ge,pe):g;return ue.width=Ge,ue.height=pe,ue.getContext("2d").drawImage($,0,0,Ge,pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+Ge+"x"+pe+")."),ue}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function A($){return Gw($.width)&&Gw($.height)}function C($){return a?!1:$.wrapS!==mr||$.wrapT!==mr||$.minFilter!==Bn&&$.minFilter!==yn}function E($,D){return $.generateMipmaps&&D&&$.minFilter!==Bn&&$.minFilter!==yn}function B($){t.generateMipmap($)}function T($,D,V,ie,de=!1){if(a===!1)return D;if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let ve=D;return D===6403&&(V===5126&&(ve=33326),V===5131&&(ve=33325),V===5121&&(ve=33321)),D===33319&&(V===5126&&(ve=33328),V===5131&&(ve=33327),V===5121&&(ve=33323)),D===6408&&(V===5126&&(ve=34836),V===5131&&(ve=34842),V===5121&&(ve=ie===tn&&de===!1?35907:32856),V===32819&&(ve=32854),V===32820&&(ve=32855)),(ve===33325||ve===33326||ve===33327||ve===33328||ve===34842||ve===34836)&&e.get("EXT_color_buffer_float"),ve}function I($,D,V){return E($,V)===!0||$.isFramebufferTexture&&$.minFilter!==Bn&&$.minFilter!==yn?Math.log2(Math.max(D.width,D.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?D.mipmaps.length:1}function L($){return $===Bn||$===Sh||$===Du?9728:9729}function k($){const D=$.target;D.removeEventListener("dispose",k),z(D),D.isVideoTexture&&v.delete(D)}function G($){const D=$.target;D.removeEventListener("dispose",G),J(D)}function z($){const D=r.get($);if(D.__webglInit===void 0)return;const V=$.source,ie=y.get(V);if(ie){const de=ie[D.__cacheKey];de.usedTimes--,de.usedTimes===0&&F($),Object.keys(ie).length===0&&y.delete(V)}r.remove($)}function F($){const D=r.get($);t.deleteTexture(D.__webglTexture);const V=$.source,ie=y.get(V);delete ie[D.__cacheKey],o.memory.textures--}function J($){const D=$.texture,V=r.get($),ie=r.get(D);if(ie.__webglTexture!==void 0&&(t.deleteTexture(ie.__webglTexture),o.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let de=0;de<6;de++)t.deleteFramebuffer(V.__webglFramebuffer[de]),V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[de]);else{if(t.deleteFramebuffer(V.__webglFramebuffer),V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let de=0;de<V.__webglColorRenderbuffer.length;de++)V.__webglColorRenderbuffer[de]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[de]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let de=0,ve=D.length;de<ve;de++){const Ge=r.get(D[de]);Ge.__webglTexture&&(t.deleteTexture(Ge.__webglTexture),o.memory.textures--),r.remove(D[de])}r.remove(D),r.remove($)}let q=0;function ne(){q=0}function O(){const $=q;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),q+=1,$}function W($){const D=[];return D.push($.wrapS),D.push($.wrapT),D.push($.wrapR||0),D.push($.magFilter),D.push($.minFilter),D.push($.anisotropy),D.push($.internalFormat),D.push($.format),D.push($.type),D.push($.generateMipmaps),D.push($.premultiplyAlpha),D.push($.flipY),D.push($.unpackAlignment),D.push($.encoding),D.join()}function X($,D){const V=r.get($);if($.isVideoTexture&&st($),$.isRenderTargetTexture===!1&&$.version>0&&V.__version!==$.version){const ie=$.image;if(ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Fe(V,$,D);return}}n.bindTexture(3553,V.__webglTexture,33984+D)}function se($,D){const V=r.get($);if($.version>0&&V.__version!==$.version){Fe(V,$,D);return}n.bindTexture(35866,V.__webglTexture,33984+D)}function Q($,D){const V=r.get($);if($.version>0&&V.__version!==$.version){Fe(V,$,D);return}n.bindTexture(32879,V.__webglTexture,33984+D)}function re($,D){const V=r.get($);if($.version>0&&V.__version!==$.version){Ie(V,$,D);return}n.bindTexture(34067,V.__webglTexture,33984+D)}const _e={[Ga]:10497,[mr]:33071,[Xu]:33648},be={[Bn]:9728,[Sh]:9984,[Du]:9986,[yn]:9729,[Dv]:9985,[Zs]:9987};function te($,D,V){if(V?(t.texParameteri($,10242,_e[D.wrapS]),t.texParameteri($,10243,_e[D.wrapT]),($===32879||$===35866)&&t.texParameteri($,32882,_e[D.wrapR]),t.texParameteri($,10240,be[D.magFilter]),t.texParameteri($,10241,be[D.minFilter])):(t.texParameteri($,10242,33071),t.texParameteri($,10243,33071),($===32879||$===35866)&&t.texParameteri($,32882,33071),(D.wrapS!==mr||D.wrapT!==mr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri($,10240,L(D.magFilter)),t.texParameteri($,10241,L(D.minFilter)),D.minFilter!==Bn&&D.minFilter!==yn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ie=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===Bn||D.minFilter!==Du&&D.minFilter!==Zs||D.type===Bo&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===Yu&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(t.texParameterf($,ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function De($,D){let V=!1;$.__webglInit===void 0&&($.__webglInit=!0,D.addEventListener("dispose",k));const ie=D.source;let de=y.get(ie);de===void 0&&(de={},y.set(ie,de));const ve=W(D);if(ve!==$.__cacheKey){de[ve]===void 0&&(de[ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,V=!0),de[ve].usedTimes++;const Ge=de[$.__cacheKey];Ge!==void 0&&(de[$.__cacheKey].usedTimes--,Ge.usedTimes===0&&F(D)),$.__cacheKey=ve,$.__webglTexture=de[ve].texture}return V}function Fe($,D,V){let ie=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(ie=35866),D.isData3DTexture&&(ie=32879);const de=De($,D),ve=D.source;n.bindTexture(ie,$.__webglTexture,33984+V);const Ge=r.get(ve);if(ve.version!==Ge.__version||de===!0){n.activeTexture(33984+V),t.pixelStorei(37440,D.flipY),t.pixelStorei(37441,D.premultiplyAlpha),t.pixelStorei(3317,D.unpackAlignment),t.pixelStorei(37443,0);const pe=C(D)&&A(D.image)===!1;let ue=b(D.image,pe,!1,f);ue=lt(D,ue);const ze=A(ue)||a,Pe=s.convert(D.format,D.encoding);let Ne=s.convert(D.type),et=T(D.internalFormat,Pe,Ne,D.encoding,D.isVideoTexture);te(ie,D,ze);let $e;const Y=D.mipmaps,Se=a&&D.isVideoTexture!==!0,je=Ge.__version===void 0||de===!0,K=I(D,ue,ze);if(D.isDepthTexture)et=6402,a?D.type===Bo?et=36012:D.type===Ma?et=33190:D.type===Wl?et=35056:et=33189:D.type===Bo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===ka&&et===6402&&D.type!==NS&&D.type!==Ma&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Ma,Ne=s.convert(D.type)),D.format===ic&&et===6402&&(et=34041,D.type!==Wl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Wl,Ne=s.convert(D.type))),je&&(Se?n.texStorage2D(3553,1,et,ue.width,ue.height):n.texImage2D(3553,0,et,ue.width,ue.height,0,Pe,Ne,null));else if(D.isDataTexture)if(Y.length>0&&ze){Se&&je&&n.texStorage2D(3553,K,et,Y[0].width,Y[0].height);for(let fe=0,Me=Y.length;fe<Me;fe++)$e=Y[fe],Se?n.texSubImage2D(3553,fe,0,0,$e.width,$e.height,Pe,Ne,$e.data):n.texImage2D(3553,fe,et,$e.width,$e.height,0,Pe,Ne,$e.data);D.generateMipmaps=!1}else Se?(je&&n.texStorage2D(3553,K,et,ue.width,ue.height),n.texSubImage2D(3553,0,0,0,ue.width,ue.height,Pe,Ne,ue.data)):n.texImage2D(3553,0,et,ue.width,ue.height,0,Pe,Ne,ue.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){Se&&je&&n.texStorage3D(35866,K,et,Y[0].width,Y[0].height,ue.depth);for(let fe=0,Me=Y.length;fe<Me;fe++)$e=Y[fe],D.format!==Zr?Pe!==null?Se?n.compressedTexSubImage3D(35866,fe,0,0,0,$e.width,$e.height,ue.depth,Pe,$e.data,0,0):n.compressedTexImage3D(35866,fe,et,$e.width,$e.height,ue.depth,0,$e.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Se?n.texSubImage3D(35866,fe,0,0,0,$e.width,$e.height,ue.depth,Pe,Ne,$e.data):n.texImage3D(35866,fe,et,$e.width,$e.height,ue.depth,0,Pe,Ne,$e.data)}else{Se&&je&&n.texStorage2D(3553,K,et,Y[0].width,Y[0].height);for(let fe=0,Me=Y.length;fe<Me;fe++)$e=Y[fe],D.format!==Zr?Pe!==null?Se?n.compressedTexSubImage2D(3553,fe,0,0,$e.width,$e.height,Pe,$e.data):n.compressedTexImage2D(3553,fe,et,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Se?n.texSubImage2D(3553,fe,0,0,$e.width,$e.height,Pe,Ne,$e.data):n.texImage2D(3553,fe,et,$e.width,$e.height,0,Pe,Ne,$e.data)}else if(D.isDataArrayTexture)Se?(je&&n.texStorage3D(35866,K,et,ue.width,ue.height,ue.depth),n.texSubImage3D(35866,0,0,0,0,ue.width,ue.height,ue.depth,Pe,Ne,ue.data)):n.texImage3D(35866,0,et,ue.width,ue.height,ue.depth,0,Pe,Ne,ue.data);else if(D.isData3DTexture)Se?(je&&n.texStorage3D(32879,K,et,ue.width,ue.height,ue.depth),n.texSubImage3D(32879,0,0,0,0,ue.width,ue.height,ue.depth,Pe,Ne,ue.data)):n.texImage3D(32879,0,et,ue.width,ue.height,ue.depth,0,Pe,Ne,ue.data);else if(D.isFramebufferTexture){if(je)if(Se)n.texStorage2D(3553,K,et,ue.width,ue.height);else{let fe=ue.width,Me=ue.height;for(let ke=0;ke<K;ke++)n.texImage2D(3553,ke,et,fe,Me,0,Pe,Ne,null),fe>>=1,Me>>=1}}else if(Y.length>0&&ze){Se&&je&&n.texStorage2D(3553,K,et,Y[0].width,Y[0].height);for(let fe=0,Me=Y.length;fe<Me;fe++)$e=Y[fe],Se?n.texSubImage2D(3553,fe,0,0,Pe,Ne,$e):n.texImage2D(3553,fe,et,Pe,Ne,$e);D.generateMipmaps=!1}else Se?(je&&n.texStorage2D(3553,K,et,ue.width,ue.height),n.texSubImage2D(3553,0,0,0,Pe,Ne,ue)):n.texImage2D(3553,0,et,Pe,Ne,ue);E(D,ze)&&B(ie),Ge.__version=ve.version,D.onUpdate&&D.onUpdate(D)}$.__version=D.version}function Ie($,D,V){if(D.image.length!==6)return;const ie=De($,D),de=D.source;n.bindTexture(34067,$.__webglTexture,33984+V);const ve=r.get(de);if(de.version!==ve.__version||ie===!0){n.activeTexture(33984+V),t.pixelStorei(37440,D.flipY),t.pixelStorei(37441,D.premultiplyAlpha),t.pixelStorei(3317,D.unpackAlignment),t.pixelStorei(37443,0);const Ge=D.isCompressedTexture||D.image[0].isCompressedTexture,pe=D.image[0]&&D.image[0].isDataTexture,ue=[];for(let fe=0;fe<6;fe++)!Ge&&!pe?ue[fe]=b(D.image[fe],!1,!0,c):ue[fe]=pe?D.image[fe].image:D.image[fe],ue[fe]=lt(D,ue[fe]);const ze=ue[0],Pe=A(ze)||a,Ne=s.convert(D.format,D.encoding),et=s.convert(D.type),$e=T(D.internalFormat,Ne,et,D.encoding),Y=a&&D.isVideoTexture!==!0,Se=ve.__version===void 0||ie===!0;let je=I(D,ze,Pe);te(34067,D,Pe);let K;if(Ge){Y&&Se&&n.texStorage2D(34067,je,$e,ze.width,ze.height);for(let fe=0;fe<6;fe++){K=ue[fe].mipmaps;for(let Me=0;Me<K.length;Me++){const ke=K[Me];D.format!==Zr?Ne!==null?Y?n.compressedTexSubImage2D(34069+fe,Me,0,0,ke.width,ke.height,Ne,ke.data):n.compressedTexImage2D(34069+fe,Me,$e,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Y?n.texSubImage2D(34069+fe,Me,0,0,ke.width,ke.height,Ne,et,ke.data):n.texImage2D(34069+fe,Me,$e,ke.width,ke.height,0,Ne,et,ke.data)}}}else{K=D.mipmaps,Y&&Se&&(K.length>0&&je++,n.texStorage2D(34067,je,$e,ue[0].width,ue[0].height));for(let fe=0;fe<6;fe++)if(pe){Y?n.texSubImage2D(34069+fe,0,0,0,ue[fe].width,ue[fe].height,Ne,et,ue[fe].data):n.texImage2D(34069+fe,0,$e,ue[fe].width,ue[fe].height,0,Ne,et,ue[fe].data);for(let Me=0;Me<K.length;Me++){const rt=K[Me].image[fe].image;Y?n.texSubImage2D(34069+fe,Me+1,0,0,rt.width,rt.height,Ne,et,rt.data):n.texImage2D(34069+fe,Me+1,$e,rt.width,rt.height,0,Ne,et,rt.data)}}else{Y?n.texSubImage2D(34069+fe,0,0,0,Ne,et,ue[fe]):n.texImage2D(34069+fe,0,$e,Ne,et,ue[fe]);for(let Me=0;Me<K.length;Me++){const ke=K[Me];Y?n.texSubImage2D(34069+fe,Me+1,0,0,Ne,et,ke.image[fe]):n.texImage2D(34069+fe,Me+1,$e,Ne,et,ke.image[fe])}}}E(D,Pe)&&B(34067),ve.__version=de.version,D.onUpdate&&D.onUpdate(D)}$.__version=D.version}function Te($,D,V,ie,de){const ve=s.convert(V.format,V.encoding),Ge=s.convert(V.type),pe=T(V.internalFormat,ve,Ge,V.encoding);r.get(D).__hasExternalTextures||(de===32879||de===35866?n.texImage3D(de,0,pe,D.width,D.height,D.depth,0,ve,Ge,null):n.texImage2D(de,0,pe,D.width,D.height,0,ve,Ge,null)),n.bindFramebuffer(36160,$),Xe(D)?p.framebufferTexture2DMultisampleEXT(36160,ie,de,r.get(V).__webglTexture,0,Ke(D)):(de===3553||de>=34069&&de<=34074)&&t.framebufferTexture2D(36160,ie,de,r.get(V).__webglTexture,0),n.bindFramebuffer(36160,null)}function Qe($,D,V){if(t.bindRenderbuffer(36161,$),D.depthBuffer&&!D.stencilBuffer){let ie=33189;if(V||Xe(D)){const de=D.depthTexture;de&&de.isDepthTexture&&(de.type===Bo?ie=36012:de.type===Ma&&(ie=33190));const ve=Ke(D);Xe(D)?p.renderbufferStorageMultisampleEXT(36161,ve,ie,D.width,D.height):t.renderbufferStorageMultisample(36161,ve,ie,D.width,D.height)}else t.renderbufferStorage(36161,ie,D.width,D.height);t.framebufferRenderbuffer(36160,36096,36161,$)}else if(D.depthBuffer&&D.stencilBuffer){const ie=Ke(D);V&&Xe(D)===!1?t.renderbufferStorageMultisample(36161,ie,35056,D.width,D.height):Xe(D)?p.renderbufferStorageMultisampleEXT(36161,ie,35056,D.width,D.height):t.renderbufferStorage(36161,34041,D.width,D.height),t.framebufferRenderbuffer(36160,33306,36161,$)}else{const ie=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let de=0;de<ie.length;de++){const ve=ie[de],Ge=s.convert(ve.format,ve.encoding),pe=s.convert(ve.type),ue=T(ve.internalFormat,Ge,pe,ve.encoding),ze=Ke(D);V&&Xe(D)===!1?t.renderbufferStorageMultisample(36161,ze,ue,D.width,D.height):Xe(D)?p.renderbufferStorageMultisampleEXT(36161,ze,ue,D.width,D.height):t.renderbufferStorage(36161,ue,D.width,D.height)}}t.bindRenderbuffer(36161,null)}function me($,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,$),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),X(D.depthTexture,0);const ie=r.get(D.depthTexture).__webglTexture,de=Ke(D);if(D.depthTexture.format===ka)Xe(D)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,ie,0,de):t.framebufferTexture2D(36160,36096,3553,ie,0);else if(D.depthTexture.format===ic)Xe(D)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,ie,0,de):t.framebufferTexture2D(36160,33306,3553,ie,0);else throw new Error("Unknown depthTexture format")}function le($){const D=r.get($),V=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!D.__autoAllocateDepthBuffer){if(V)throw new Error("target.depthTexture not supported in Cube render targets");me(D.__webglFramebuffer,$)}else if(V){D.__webglDepthbuffer=[];for(let ie=0;ie<6;ie++)n.bindFramebuffer(36160,D.__webglFramebuffer[ie]),D.__webglDepthbuffer[ie]=t.createRenderbuffer(),Qe(D.__webglDepthbuffer[ie],$,!1)}else n.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=t.createRenderbuffer(),Qe(D.__webglDepthbuffer,$,!1);n.bindFramebuffer(36160,null)}function Ae($,D,V){const ie=r.get($);D!==void 0&&Te(ie.__webglFramebuffer,$,$.texture,36064,3553),V!==void 0&&le($)}function Ce($){const D=$.texture,V=r.get($),ie=r.get(D);$.addEventListener("dispose",G),$.isWebGLMultipleRenderTargets!==!0&&(ie.__webglTexture===void 0&&(ie.__webglTexture=t.createTexture()),ie.__version=D.version,o.memory.textures++);const de=$.isWebGLCubeRenderTarget===!0,ve=$.isWebGLMultipleRenderTargets===!0,Ge=A($)||a;if(de){V.__webglFramebuffer=[];for(let pe=0;pe<6;pe++)V.__webglFramebuffer[pe]=t.createFramebuffer()}else{if(V.__webglFramebuffer=t.createFramebuffer(),ve)if(i.drawBuffers){const pe=$.texture;for(let ue=0,ze=pe.length;ue<ze;ue++){const Pe=r.get(pe[ue]);Pe.__webglTexture===void 0&&(Pe.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&$.samples>0&&Xe($)===!1){const pe=ve?D:[D];V.__webglMultisampledFramebuffer=t.createFramebuffer(),V.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,V.__webglMultisampledFramebuffer);for(let ue=0;ue<pe.length;ue++){const ze=pe[ue];V.__webglColorRenderbuffer[ue]=t.createRenderbuffer(),t.bindRenderbuffer(36161,V.__webglColorRenderbuffer[ue]);const Pe=s.convert(ze.format,ze.encoding),Ne=s.convert(ze.type),et=T(ze.internalFormat,Pe,Ne,ze.encoding,$.isXRRenderTarget===!0),$e=Ke($);t.renderbufferStorageMultisample(36161,$e,et,$.width,$.height),t.framebufferRenderbuffer(36160,36064+ue,36161,V.__webglColorRenderbuffer[ue])}t.bindRenderbuffer(36161,null),$.depthBuffer&&(V.__webglDepthRenderbuffer=t.createRenderbuffer(),Qe(V.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(36160,null)}}if(de){n.bindTexture(34067,ie.__webglTexture),te(34067,D,Ge);for(let pe=0;pe<6;pe++)Te(V.__webglFramebuffer[pe],$,D,36064,34069+pe);E(D,Ge)&&B(34067),n.unbindTexture()}else if(ve){const pe=$.texture;for(let ue=0,ze=pe.length;ue<ze;ue++){const Pe=pe[ue],Ne=r.get(Pe);n.bindTexture(3553,Ne.__webglTexture),te(3553,Pe,Ge),Te(V.__webglFramebuffer,$,Pe,36064+ue,3553),E(Pe,Ge)&&B(3553)}n.unbindTexture()}else{let pe=3553;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(a?pe=$.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(pe,ie.__webglTexture),te(pe,D,Ge),Te(V.__webglFramebuffer,$,D,36064,pe),E(D,Ge)&&B(pe),n.unbindTexture()}$.depthBuffer&&le($)}function Ee($){const D=A($)||a,V=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let ie=0,de=V.length;ie<de;ie++){const ve=V[ie];if(E(ve,D)){const Ge=$.isWebGLCubeRenderTarget?34067:3553,pe=r.get(ve).__webglTexture;n.bindTexture(Ge,pe),B(Ge),n.unbindTexture()}}}function nt($){if(a&&$.samples>0&&Xe($)===!1){const D=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],V=$.width,ie=$.height;let de=16384;const ve=[],Ge=$.stencilBuffer?33306:36096,pe=r.get($),ue=$.isWebGLMultipleRenderTargets===!0;if(ue)for(let ze=0;ze<D.length;ze++)n.bindFramebuffer(36160,pe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+ze,36161,null),n.bindFramebuffer(36160,pe.__webglFramebuffer),t.framebufferTexture2D(36009,36064+ze,3553,null,0);n.bindFramebuffer(36008,pe.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,pe.__webglFramebuffer);for(let ze=0;ze<D.length;ze++){ve.push(36064+ze),$.depthBuffer&&ve.push(Ge);const Pe=pe.__ignoreDepthValues!==void 0?pe.__ignoreDepthValues:!1;if(Pe===!1&&($.depthBuffer&&(de|=256),$.stencilBuffer&&(de|=1024)),ue&&t.framebufferRenderbuffer(36008,36064,36161,pe.__webglColorRenderbuffer[ze]),Pe===!0&&(t.invalidateFramebuffer(36008,[Ge]),t.invalidateFramebuffer(36009,[Ge])),ue){const Ne=r.get(D[ze]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,Ne,0)}t.blitFramebuffer(0,0,V,ie,0,0,V,ie,de,9728),m&&t.invalidateFramebuffer(36008,ve)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),ue)for(let ze=0;ze<D.length;ze++){n.bindFramebuffer(36160,pe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+ze,36161,pe.__webglColorRenderbuffer[ze]);const Pe=r.get(D[ze]).__webglTexture;n.bindFramebuffer(36160,pe.__webglFramebuffer),t.framebufferTexture2D(36009,36064+ze,3553,Pe,0)}n.bindFramebuffer(36009,pe.__webglMultisampledFramebuffer)}}function Ke($){return Math.min(h,$.samples)}function Xe($){const D=r.get($);return a&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function st($){const D=o.render.frame;v.get($)!==D&&(v.set($,D),$.update())}function lt($,D){const V=$.encoding,ie=$.format,de=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===j0||V!==Ha&&(V===tn?a===!1?e.has("EXT_sRGB")===!0&&ie===Zr?($.format=j0,$.minFilter=yn,$.generateMipmaps=!1):D=HS.sRGBToLinear(D):(ie!==Zr||de!==Go)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",V)),D}this.allocateTextureUnit=O,this.resetTextureUnits=ne,this.setTexture2D=X,this.setTexture2DArray=se,this.setTexture3D=Q,this.setTextureCube=re,this.rebindTextures=Ae,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=nt,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=Te,this.useMultisampledRTT=Xe}function bL(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===Go)return 5121;if(s===$I)return 32819;if(s===VI)return 32820;if(s===UI)return 5120;if(s===GI)return 5122;if(s===NS)return 5123;if(s===HI)return 5124;if(s===Ma)return 5125;if(s===Bo)return 5126;if(s===Yu)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===WI)return 6406;if(s===Zr)return 6408;if(s===jI)return 6409;if(s===JI)return 6410;if(s===ka)return 6402;if(s===ic)return 34041;if(s===j0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===KI)return 6403;if(s===XI)return 36244;if(s===YI)return 33319;if(s===QI)return 33320;if(s===qI)return 36249;if(s===n0||s===r0||s===i0||s===s0)if(o===tn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===n0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===r0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===i0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===s0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===n0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===r0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===i0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===s0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===vw||s===yw||s===xw||s===_w)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===vw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===yw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===xw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===_w)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===ZI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===ww||s===bw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===ww)return o===tn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===bw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Sw||s===Aw||s===Mw||s===Cw||s===Ew||s===Tw||s===Rw||s===Pw||s===Bw||s===Iw||s===Lw||s===Dw||s===kw||s===Ow)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Sw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Aw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Mw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Cw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Ew)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Tw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Rw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Pw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Bw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Iw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Lw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Dw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===kw)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Ow)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===o0)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===o0)return o===tn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===eL||s===Fw||s===Nw||s===zw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===o0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===Fw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Nw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===zw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Wl?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class SL extends xn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Lo extends Lt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const v6={type:"move"};class E1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Lo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Lo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Lo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const y=n.getJointPose(g,r),_=this._getHandJoint(c,g);y!==null&&(_.matrix.fromArray(y.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=y.radius),_.visible=y!==null}const f=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=f.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(v6)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Lo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class AL extends fn{constructor(e,n,r,i,s,o,a,l,c,f){if(f=f!==void 0?f:ka,f!==ka&&f!==ic)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===ka&&(r=Ma),r===void 0&&f===ic&&(r=Wl),super(null,i,s,o,a,l,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Bn,this.minFilter=l!==void 0?l:Bn,this.flipY=!1,this.generateMipmaps=!1}}class y6 extends no{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,f=null,h=null,p=null,m=null,v=null;const g=n.getContextAttributes();let y=null,_=null;const w=[],b=[],A=new Set,C=new Map,E=new xn;E.layers.enable(1),E.viewport=new Wt;const B=new xn;B.layers.enable(2),B.viewport=new Wt;const T=[E,B],I=new SL;I.layers.enable(1),I.layers.enable(2);let L=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let re=w[Q];return re===void 0&&(re=new E1,w[Q]=re),re.getTargetRaySpace()},this.getControllerGrip=function(Q){let re=w[Q];return re===void 0&&(re=new E1,w[Q]=re),re.getGripSpace()},this.getHand=function(Q){let re=w[Q];return re===void 0&&(re=new E1,w[Q]=re),re.getHandSpace()};function G(Q){const re=b.indexOf(Q.inputSource);if(re===-1)return;const _e=w[re];_e!==void 0&&_e.dispatchEvent({type:Q.type,data:Q.inputSource})}function z(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",F);for(let Q=0;Q<w.length;Q++){const re=b[Q];re!==null&&(b[Q]=null,w[Q].disconnect(re))}L=null,k=null,e.setRenderTarget(y),m=null,p=null,h=null,i=null,_=null,se.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){s=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){a=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Q){c=Q},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(Q){if(i=Q,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",z),i.addEventListener("inputsourceschange",F),g.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const re={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,re),i.updateRenderState({baseLayer:m}),_=new Si(m.framebufferWidth,m.framebufferHeight,{format:Zr,type:Go,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let re=null,_e=null,be=null;g.depth&&(be=g.stencil?35056:33190,re=g.stencil?ic:ka,_e=g.stencil?Wl:Ma);const te={colorFormat:32856,depthFormat:be,scaleFactor:s};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(te),i.updateRenderState({layers:[p]}),_=new Si(p.textureWidth,p.textureHeight,{format:Zr,type:Go,depthTexture:new AL(p.textureWidth,p.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const De=e.properties.get(_);De.__ignoreDepthValues=p.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),se.setContext(i),se.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function F(Q){for(let re=0;re<Q.removed.length;re++){const _e=Q.removed[re],be=b.indexOf(_e);be>=0&&(b[be]=null,w[be].disconnect(_e))}for(let re=0;re<Q.added.length;re++){const _e=Q.added[re];let be=b.indexOf(_e);if(be===-1){for(let De=0;De<w.length;De++)if(De>=b.length){b.push(_e),be=De;break}else if(b[De]===null){b[De]=_e,be=De;break}if(be===-1)break}const te=w[be];te&&te.connect(_e)}}const J=new N,q=new N;function ne(Q,re,_e){J.setFromMatrixPosition(re.matrixWorld),q.setFromMatrixPosition(_e.matrixWorld);const be=J.distanceTo(q),te=re.projectionMatrix.elements,De=_e.projectionMatrix.elements,Fe=te[14]/(te[10]-1),Ie=te[14]/(te[10]+1),Te=(te[9]+1)/te[5],Qe=(te[9]-1)/te[5],me=(te[8]-1)/te[0],le=(De[8]+1)/De[0],Ae=Fe*me,Ce=Fe*le,Ee=be/(-me+le),nt=Ee*-me;re.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(nt),Q.translateZ(Ee),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert();const Ke=Fe+Ee,Xe=Ie+Ee,st=Ae-nt,lt=Ce+(be-nt),$=Te*Ie/Xe*Ke,D=Qe*Ie/Xe*Ke;Q.projectionMatrix.makePerspective(st,lt,$,D,Ke,Xe)}function O(Q,re){re===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(re.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(i===null)return;I.near=B.near=E.near=Q.near,I.far=B.far=E.far=Q.far,(L!==I.near||k!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),L=I.near,k=I.far);const re=Q.parent,_e=I.cameras;O(I,re);for(let te=0;te<_e.length;te++)O(_e[te],re);I.matrixWorld.decompose(I.position,I.quaternion,I.scale),Q.matrix.copy(I.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale);const be=Q.children;for(let te=0,De=be.length;te<De;te++)be[te].updateMatrixWorld(!0);_e.length===2?ne(I,E,B):I.projectionMatrix.copy(E.projectionMatrix)},this.getCamera=function(){return I},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(Q){l=Q,p!==null&&(p.fixedFoveation=Q),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Q)},this.getPlanes=function(){return A};let W=null;function X(Q,re){if(f=re.getViewerPose(c||o),v=re,f!==null){const _e=f.views;m!==null&&(e.setRenderTargetFramebuffer(_,m.framebuffer),e.setRenderTarget(_));let be=!1;_e.length!==I.cameras.length&&(I.cameras.length=0,be=!0);for(let te=0;te<_e.length;te++){const De=_e[te];let Fe=null;if(m!==null)Fe=m.getViewport(De);else{const Te=h.getViewSubImage(p,De);Fe=Te.viewport,te===0&&(e.setRenderTargetTextures(_,Te.colorTexture,p.ignoreDepthValues?void 0:Te.depthStencilTexture),e.setRenderTarget(_))}let Ie=T[te];Ie===void 0&&(Ie=new xn,Ie.layers.enable(te),Ie.viewport=new Wt,T[te]=Ie),Ie.matrix.fromArray(De.transform.matrix),Ie.projectionMatrix.fromArray(De.projectionMatrix),Ie.viewport.set(Fe.x,Fe.y,Fe.width,Fe.height),te===0&&I.matrix.copy(Ie.matrix),be===!0&&I.cameras.push(Ie)}}for(let _e=0;_e<w.length;_e++){const be=b[_e],te=w[_e];be!==null&&te!==void 0&&te.update(be,re,c||o)}if(W&&W(Q,re),re.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:re.detectedPlanes});let _e=null;for(const be of A)re.detectedPlanes.has(be)||(_e===null&&(_e=[]),_e.push(be));if(_e!==null)for(const be of _e)A.delete(be),C.delete(be),r.dispatchEvent({type:"planeremoved",data:be});for(const be of re.detectedPlanes)if(!A.has(be))A.add(be),C.set(be,re.lastChangedTime),r.dispatchEvent({type:"planeadded",data:be});else{const te=C.get(be);be.lastChangedTime>te&&(C.set(be,be.lastChangedTime),r.dispatchEvent({type:"planechanged",data:be}))}}v=null}const se=new vL;se.setAnimationLoop(X),this.setAnimationLoop=function(Q){W=Q},this.dispose=function(){}}}function x6(t,e){function n(g,y){y.color.getRGB(g.fogColor.value,hL(t)),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function r(g,y,_,w,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(g,y):y.isMeshToonMaterial?(i(g,y),f(g,y)):y.isMeshPhongMaterial?(i(g,y),c(g,y)):y.isMeshStandardMaterial?(i(g,y),h(g,y),y.isMeshPhysicalMaterial&&p(g,y,b)):y.isMeshMatcapMaterial?(i(g,y),m(g,y)):y.isMeshDepthMaterial?i(g,y):y.isMeshDistanceMaterial?(i(g,y),v(g,y)):y.isMeshNormalMaterial?i(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?a(g,y,_,w):y.isSpriteMaterial?l(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.bumpMap&&(g.bumpMap.value=y.bumpMap,g.bumpScale.value=y.bumpScale,y.side===si&&(g.bumpScale.value*=-1)),y.displacementMap&&(g.displacementMap.value=y.displacementMap,g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap),y.normalMap&&(g.normalMap.value=y.normalMap,g.normalScale.value.copy(y.normalScale),y.side===si&&g.normalScale.value.negate()),y.specularMap&&(g.specularMap.value=y.specularMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const _=e.get(y).envMap;if(_&&(g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap){g.lightMap.value=y.lightMap;const A=t.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=y.lightMapIntensity*A}y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity);let w;y.map?w=y.map:y.specularMap?w=y.specularMap:y.displacementMap?w=y.displacementMap:y.normalMap?w=y.normalMap:y.bumpMap?w=y.bumpMap:y.roughnessMap?w=y.roughnessMap:y.metalnessMap?w=y.metalnessMap:y.alphaMap?w=y.alphaMap:y.emissiveMap?w=y.emissiveMap:y.clearcoatMap?w=y.clearcoatMap:y.clearcoatNormalMap?w=y.clearcoatNormalMap:y.clearcoatRoughnessMap?w=y.clearcoatRoughnessMap:y.iridescenceMap?w=y.iridescenceMap:y.iridescenceThicknessMap?w=y.iridescenceThicknessMap:y.specularIntensityMap?w=y.specularIntensityMap:y.specularColorMap?w=y.specularColorMap:y.transmissionMap?w=y.transmissionMap:y.thicknessMap?w=y.thicknessMap:y.sheenColorMap?w=y.sheenColorMap:y.sheenRoughnessMap&&(w=y.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix));let b;y.aoMap?b=y.aoMap:y.lightMap&&(b=y.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uv2Transform.value.copy(b.matrix))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function a(g,y,_,w){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*_,g.scale.value=w*.5,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let _;y.map?_=y.map:y.alphaMap&&(_=y.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix))}function c(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function f(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function h(g,y){g.roughness.value=y.roughness,g.metalness.value=y.metalness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function p(g,y,_){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),g.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===si&&g.clearcoatNormalScale.value.negate())),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap)}function m(g,y){y.matcap&&(g.matcap.value=y.matcap)}function v(g,y){g.referencePosition.value.copy(y.referencePosition),g.nearDistance.value=y.nearDistance,g.farDistance.value=y.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function _6(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(w,b){const A=b.program;r.uniformBlockBinding(w,A)}function c(w,b){let A=i[w.id];A===void 0&&(v(w),A=f(w),i[w.id]=A,w.addEventListener("dispose",y));const C=b.program;r.updateUBOMapping(w,C);const E=e.render.frame;s[w.id]!==E&&(p(w),s[w.id]=E)}function f(w){const b=h();w.__bindingPointIndex=b;const A=t.createBuffer(),C=w.__size,E=w.usage;return t.bindBuffer(35345,A),t.bufferData(35345,C,E),t.bindBuffer(35345,null),t.bindBufferBase(35345,b,A),A}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const b=i[w.id],A=w.uniforms,C=w.__cache;t.bindBuffer(35345,b);for(let E=0,B=A.length;E<B;E++){const T=A[E];if(m(T,E,C)===!0){const I=T.__offset,L=Array.isArray(T.value)?T.value:[T.value];let k=0;for(let G=0;G<L.length;G++){const z=L[G],F=g(z);typeof z=="number"?(T.__data[0]=z,t.bufferSubData(35345,I+k,T.__data)):z.isMatrix3?(T.__data[0]=z.elements[0],T.__data[1]=z.elements[1],T.__data[2]=z.elements[2],T.__data[3]=z.elements[0],T.__data[4]=z.elements[3],T.__data[5]=z.elements[4],T.__data[6]=z.elements[5],T.__data[7]=z.elements[0],T.__data[8]=z.elements[6],T.__data[9]=z.elements[7],T.__data[10]=z.elements[8],T.__data[11]=z.elements[0]):(z.toArray(T.__data,k),k+=F.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,I,T.__data)}}t.bindBuffer(35345,null)}function m(w,b,A){const C=w.value;if(A[b]===void 0){if(typeof C=="number")A[b]=C;else{const E=Array.isArray(C)?C:[C],B=[];for(let T=0;T<E.length;T++)B.push(E[T].clone());A[b]=B}return!0}else if(typeof C=="number"){if(A[b]!==C)return A[b]=C,!0}else{const E=Array.isArray(A[b])?A[b]:[A[b]],B=Array.isArray(C)?C:[C];for(let T=0;T<E.length;T++){const I=E[T];if(I.equals(B[T])===!1)return I.copy(B[T]),!0}}return!1}function v(w){const b=w.uniforms;let A=0;const C=16;let E=0;for(let B=0,T=b.length;B<T;B++){const I=b[B],L={boundary:0,storage:0},k=Array.isArray(I.value)?I.value:[I.value];for(let G=0,z=k.length;G<z;G++){const F=k[G],J=g(F);L.boundary+=J.boundary,L.storage+=J.storage}if(I.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=A,B>0){E=A%C;const G=C-E;E!==0&&G-L.boundary<0&&(A+=C-E,I.__offset=A)}A+=L.storage}return E=A%C,E>0&&(A+=C-E),w.__size=A,w.__cache={},this}function g(w){const b={boundary:0,storage:0};return typeof w=="number"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),b}function y(w){const b=w.target;b.removeEventListener("dispose",y);const A=o.indexOf(b.__bindingPointIndex);o.splice(A,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function _(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:c,dispose:_}}function w6(){const t=Eh("canvas");return t.style.display="block",t}function KS(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:w6(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let f;n!==null?f=n.getContextAttributes().alpha:f=t.alpha!==void 0?t.alpha:!1;let h=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ha,this.physicallyCorrectLights=!1,this.toneMapping=ys,this.toneMappingExposure=1;const g=this;let y=!1,_=0,w=0,b=null,A=-1,C=null;const E=new Wt,B=new Wt;let T=null,I=e.width,L=e.height,k=1,G=null,z=null;const F=new Wt(0,0,I,L),J=new Wt(0,0,I,L);let q=!1;const ne=new Fv;let O=!1,W=!1,X=null;const se=new ht,Q=new we,re=new N,_e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function be(){return b===null?k:1}let te=n;function De(U,ae){for(let ye=0;ye<U.length;ye++){const oe=U[ye],xe=e.getContext(oe,ae);if(xe!==null)return xe}return null}try{const U={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Xh}`),e.addEventListener("webglcontextlost",et,!1),e.addEventListener("webglcontextrestored",$e,!1),e.addEventListener("webglcontextcreationerror",Y,!1),te===null){const ae=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ae.shift(),te=De(ae,U),te===null)throw De(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}te.getShaderPrecisionFormat===void 0&&(te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let Fe,Ie,Te,Qe,me,le,Ae,Ce,Ee,nt,Ke,Xe,st,lt,$,D,V,ie,de,ve,Ge,pe,ue,ze;function Pe(){Fe=new FG(te),Ie=new BG(te,Fe,t),Fe.init(Ie),pe=new bL(te,Fe,Ie),Te=new m6(te,Fe,Ie),Qe=new UG,me=new r6,le=new g6(te,Fe,Te,me,Ie,pe,Qe),Ae=new LG(g),Ce=new OG(g),Ee=new Xz(te,Ie),ue=new RG(te,Fe,Ee,Ie),nt=new NG(te,Ee,Qe,ue),Ke=new VG(te,nt,Ee,Qe),de=new $G(te,Ie,le),D=new IG(me),Xe=new n6(g,Ae,Ce,Fe,Ie,ue,D),st=new x6(g,me),lt=new s6,$=new f6(Fe,Ie),ie=new TG(g,Ae,Ce,Te,Ke,f,o),V=new p6(g,Ke,Ie),ze=new _6(te,Qe,Ie,Te),ve=new PG(te,Fe,Qe,Ie),Ge=new zG(te,Fe,Qe,Ie),Qe.programs=Xe.programs,g.capabilities=Ie,g.extensions=Fe,g.properties=me,g.renderLists=lt,g.shadowMap=V,g.state=Te,g.info=Qe}Pe();const Ne=new y6(g,te);this.xr=Ne,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const U=Fe.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=Fe.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(U){U!==void 0&&(k=U,this.setSize(I,L,!1))},this.getSize=function(U){return U.set(I,L)},this.setSize=function(U,ae,ye){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=U,L=ae,e.width=Math.floor(U*k),e.height=Math.floor(ae*k),ye!==!1&&(e.style.width=U+"px",e.style.height=ae+"px"),this.setViewport(0,0,U,ae)},this.getDrawingBufferSize=function(U){return U.set(I*k,L*k).floor()},this.setDrawingBufferSize=function(U,ae,ye){I=U,L=ae,k=ye,e.width=Math.floor(U*ye),e.height=Math.floor(ae*ye),this.setViewport(0,0,U,ae)},this.getCurrentViewport=function(U){return U.copy(E)},this.getViewport=function(U){return U.copy(F)},this.setViewport=function(U,ae,ye,oe){U.isVector4?F.set(U.x,U.y,U.z,U.w):F.set(U,ae,ye,oe),Te.viewport(E.copy(F).multiplyScalar(k).floor())},this.getScissor=function(U){return U.copy(J)},this.setScissor=function(U,ae,ye,oe){U.isVector4?J.set(U.x,U.y,U.z,U.w):J.set(U,ae,ye,oe),Te.scissor(B.copy(J).multiplyScalar(k).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(U){Te.setScissorTest(q=U)},this.setOpaqueSort=function(U){G=U},this.setTransparentSort=function(U){z=U},this.getClearColor=function(U){return U.copy(ie.getClearColor())},this.setClearColor=function(){ie.setClearColor.apply(ie,arguments)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(){ie.setClearAlpha.apply(ie,arguments)},this.clear=function(U=!0,ae=!0,ye=!0){let oe=0;U&&(oe|=16384),ae&&(oe|=256),ye&&(oe|=1024),te.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",et,!1),e.removeEventListener("webglcontextrestored",$e,!1),e.removeEventListener("webglcontextcreationerror",Y,!1),lt.dispose(),$.dispose(),me.dispose(),Ae.dispose(),Ce.dispose(),Ke.dispose(),ue.dispose(),ze.dispose(),Xe.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",ke),Ne.removeEventListener("sessionend",rt),X&&(X.dispose(),X=null),wt.stop()};function et(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function $e(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const U=Qe.autoReset,ae=V.enabled,ye=V.autoUpdate,oe=V.needsUpdate,xe=V.type;Pe(),Qe.autoReset=U,V.enabled=ae,V.autoUpdate=ye,V.needsUpdate=oe,V.type=xe}function Y(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function Se(U){const ae=U.target;ae.removeEventListener("dispose",Se),je(ae)}function je(U){K(U),me.remove(U)}function K(U){const ae=me.get(U).programs;ae!==void 0&&(ae.forEach(function(ye){Xe.releaseProgram(ye)}),U.isShaderMaterial&&Xe.releaseShaderCache(U))}this.renderBufferDirect=function(U,ae,ye,oe,xe,Ve){ae===null&&(ae=_e);const tt=xe.isMesh&&xe.matrixWorld.determinant()<0,mt=Lf(U,ae,ye,oe,xe);Te.setMaterial(oe,tt);let gt=ye.index,pt=1;oe.wireframe===!0&&(gt=nt.getWireframeAttribute(ye),pt=2);const Et=ye.drawRange,Tt=ye.attributes.position;let An=Et.start*pt,Dr=(Et.start+Et.count)*pt;Ve!==null&&(An=Math.max(An,Ve.start*pt),Dr=Math.min(Dr,(Ve.start+Ve.count)*pt)),gt!==null?(An=Math.max(An,0),Dr=Math.min(Dr,gt.count)):Tt!=null&&(An=Math.max(An,0),Dr=Math.min(Dr,Tt.count));const ns=Dr-An;if(ns<0||ns===1/0)return;ue.setup(xe,oe,mt,ye,gt);let so,an=ve;if(gt!==null&&(so=Ee.get(gt),an=Ge,an.setIndex(so)),xe.isMesh)oe.wireframe===!0?(Te.setLineWidth(oe.wireframeLinewidth*be()),an.setMode(1)):an.setMode(4);else if(xe.isLine){let bt=oe.linewidth;bt===void 0&&(bt=1),Te.setLineWidth(bt*be()),xe.isLineSegments?an.setMode(1):xe.isLineLoop?an.setMode(2):an.setMode(3)}else xe.isPoints?an.setMode(0):xe.isSprite&&an.setMode(4);if(xe.isInstancedMesh)an.renderInstances(An,ns,xe.count);else if(ye.isInstancedBufferGeometry){const bt=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,tl=Math.min(ye.instanceCount,bt);an.renderInstances(An,ns,tl)}else an.render(An,ns)},this.compile=function(U,ae){function ye(oe,xe,Ve){oe.transparent===!0&&oe.side===Ws&&oe.forceSinglePass===!1?(oe.side=si,oe.needsUpdate=!0,Ln(oe,xe,Ve),oe.side=qs,oe.needsUpdate=!0,Ln(oe,xe,Ve),oe.side=Ws):Ln(oe,xe,Ve)}p=$.get(U),p.init(),v.push(p),U.traverseVisible(function(oe){oe.isLight&&oe.layers.test(ae.layers)&&(p.pushLight(oe),oe.castShadow&&p.pushShadow(oe))}),p.setupLights(g.physicallyCorrectLights),U.traverse(function(oe){const xe=oe.material;if(xe)if(Array.isArray(xe))for(let Ve=0;Ve<xe.length;Ve++){const tt=xe[Ve];ye(tt,U,oe)}else ye(xe,U,oe)}),v.pop(),p=null};let fe=null;function Me(U){fe&&fe(U)}function ke(){wt.stop()}function rt(){wt.start()}const wt=new vL;wt.setAnimationLoop(Me),typeof self<"u"&&wt.setContext(self),this.setAnimationLoop=function(U){fe=U,Ne.setAnimationLoop(U),U===null?wt.stop():wt.start()},Ne.addEventListener("sessionstart",ke),Ne.addEventListener("sessionend",rt),this.render=function(U,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(ae),ae=Ne.getCamera()),U.isScene===!0&&U.onBeforeRender(g,U,ae,b),p=$.get(U,v.length),p.init(),v.push(p),se.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),ne.setFromProjectionMatrix(se),W=this.localClippingEnabled,O=D.init(this.clippingPlanes,W),h=lt.get(U,m.length),h.init(),m.push(h),Dt(U,ae,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(G,z),O===!0&&D.beginShadows();const ye=p.state.shadowsArray;if(V.render(ye,U,ae),O===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),ie.render(h,U),p.setupLights(g.physicallyCorrectLights),ae.isArrayCamera){const oe=ae.cameras;for(let xe=0,Ve=oe.length;xe<Ve;xe++){const tt=oe[xe];Ot(h,U,tt,tt.viewport)}}else Ot(h,U,ae);b!==null&&(le.updateMultisampleRenderTarget(b),le.updateRenderTargetMipmap(b)),U.isScene===!0&&U.onAfterRender(g,U,ae),ue.resetDefaultState(),A=-1,C=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Dt(U,ae,ye,oe){if(U.visible===!1)return;if(U.layers.test(ae.layers)){if(U.isGroup)ye=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(ae);else if(U.isLight)p.pushLight(U),U.castShadow&&p.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||ne.intersectsSprite(U)){oe&&re.setFromMatrixPosition(U.matrixWorld).applyMatrix4(se);const tt=Ke.update(U),mt=U.material;mt.visible&&h.push(U,tt,mt,ye,re.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(U.isSkinnedMesh&&U.skeleton.frame!==Qe.render.frame&&(U.skeleton.update(),U.skeleton.frame=Qe.render.frame),!U.frustumCulled||ne.intersectsObject(U))){oe&&re.setFromMatrixPosition(U.matrixWorld).applyMatrix4(se);const tt=Ke.update(U),mt=U.material;if(Array.isArray(mt)){const gt=tt.groups;for(let pt=0,Et=gt.length;pt<Et;pt++){const Tt=gt[pt],An=mt[Tt.materialIndex];An&&An.visible&&h.push(U,tt,An,ye,re.z,Tt)}}else mt.visible&&h.push(U,tt,mt,ye,re.z,null)}}const Ve=U.children;for(let tt=0,mt=Ve.length;tt<mt;tt++)Dt(Ve[tt],ae,ye,oe)}function Ot(U,ae,ye,oe){const xe=U.opaque,Ve=U.transmissive,tt=U.transparent;p.setupLightsView(ye),O===!0&&D.setGlobalState(g.clippingPlanes,ye),Ve.length>0&&Nn(xe,ae,ye),oe&&Te.viewport(E.copy(oe)),xe.length>0&&Ct(xe,ae,ye),Ve.length>0&&Ct(Ve,ae,ye),tt.length>0&&Ct(tt,ae,ye),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function Nn(U,ae,ye){const oe=Ie.isWebGL2;X===null&&(X=new Si(1,1,{generateMipmaps:!0,type:Fe.has("EXT_color_buffer_half_float")?Yu:Go,minFilter:Zs,samples:oe&&s===!0?4:0})),g.getDrawingBufferSize(Q),oe?X.setSize(Q.x,Q.y):X.setSize(J0(Q.x),J0(Q.y));const xe=g.getRenderTarget();g.setRenderTarget(X),g.clear();const Ve=g.toneMapping;g.toneMapping=ys,Ct(U,ae,ye),g.toneMapping=Ve,le.updateMultisampleRenderTarget(X),le.updateRenderTargetMipmap(X),g.setRenderTarget(xe)}function Ct(U,ae,ye){const oe=ae.isScene===!0?ae.overrideMaterial:null;for(let xe=0,Ve=U.length;xe<Ve;xe++){const tt=U[xe],mt=tt.object,gt=tt.geometry,pt=oe===null?tt.material:oe,Et=tt.group;mt.layers.test(ye.layers)&&zn(mt,ae,ye,gt,pt,Et)}}function zn(U,ae,ye,oe,xe,Ve){U.onBeforeRender(g,ae,ye,oe,xe,Ve),U.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),xe.onBeforeRender(g,ae,ye,oe,U,Ve),xe.transparent===!0&&xe.side===Ws&&xe.forceSinglePass===!1?(xe.side=si,xe.needsUpdate=!0,g.renderBufferDirect(ye,ae,oe,xe,U,Ve),xe.side=qs,xe.needsUpdate=!0,g.renderBufferDirect(ye,ae,oe,xe,U,Ve),xe.side=Ws):g.renderBufferDirect(ye,ae,oe,xe,U,Ve),U.onAfterRender(g,ae,ye,oe,xe,Ve)}function Ln(U,ae,ye){ae.isScene!==!0&&(ae=_e);const oe=me.get(U),xe=p.state.lights,Ve=p.state.shadowsArray,tt=xe.state.version,mt=Xe.getParameters(U,xe.state,Ve,ae,ye),gt=Xe.getProgramCacheKey(mt);let pt=oe.programs;oe.environment=U.isMeshStandardMaterial?ae.environment:null,oe.fog=ae.fog,oe.envMap=(U.isMeshStandardMaterial?Ce:Ae).get(U.envMap||oe.environment),pt===void 0&&(U.addEventListener("dispose",Se),pt=new Map,oe.programs=pt);let Et=pt.get(gt);if(Et!==void 0){if(oe.currentProgram===Et&&oe.lightsStateVersion===tt)return _c(U,mt),Et}else mt.uniforms=Xe.getUniforms(U),U.onBuild(ye,mt,g),U.onBeforeCompile(mt,g),Et=Xe.acquireProgram(mt,gt),pt.set(gt,Et),oe.uniforms=mt.uniforms;const Tt=oe.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Tt.clippingPlanes=D.uniform),_c(U,mt),oe.needsLights=el(U),oe.lightsStateVersion=tt,oe.needsLights&&(Tt.ambientLightColor.value=xe.state.ambient,Tt.lightProbe.value=xe.state.probe,Tt.directionalLights.value=xe.state.directional,Tt.directionalLightShadows.value=xe.state.directionalShadow,Tt.spotLights.value=xe.state.spot,Tt.spotLightShadows.value=xe.state.spotShadow,Tt.rectAreaLights.value=xe.state.rectArea,Tt.ltc_1.value=xe.state.rectAreaLTC1,Tt.ltc_2.value=xe.state.rectAreaLTC2,Tt.pointLights.value=xe.state.point,Tt.pointLightShadows.value=xe.state.pointShadow,Tt.hemisphereLights.value=xe.state.hemi,Tt.directionalShadowMap.value=xe.state.directionalShadowMap,Tt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Tt.spotShadowMap.value=xe.state.spotShadowMap,Tt.spotLightMatrix.value=xe.state.spotLightMatrix,Tt.spotLightMap.value=xe.state.spotLightMap,Tt.pointShadowMap.value=xe.state.pointShadowMap,Tt.pointShadowMatrix.value=xe.state.pointShadowMatrix);const An=Et.getUniforms(),Dr=u0.seqWithValue(An.seq,Tt);return oe.currentProgram=Et,oe.uniformsList=Dr,Et}function _c(U,ae){const ye=me.get(U);ye.outputEncoding=ae.outputEncoding,ye.instancing=ae.instancing,ye.skinning=ae.skinning,ye.morphTargets=ae.morphTargets,ye.morphNormals=ae.morphNormals,ye.morphColors=ae.morphColors,ye.morphTargetsCount=ae.morphTargetsCount,ye.numClippingPlanes=ae.numClippingPlanes,ye.numIntersection=ae.numClipIntersection,ye.vertexAlphas=ae.vertexAlphas,ye.vertexTangents=ae.vertexTangents,ye.toneMapping=ae.toneMapping}function Lf(U,ae,ye,oe,xe){ae.isScene!==!0&&(ae=_e),le.resetTextureUnits();const Ve=ae.fog,tt=oe.isMeshStandardMaterial?ae.environment:null,mt=b===null?g.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Ha,gt=(oe.isMeshStandardMaterial?Ce:Ae).get(oe.envMap||tt),pt=oe.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,Et=!!oe.normalMap&&!!ye.attributes.tangent,Tt=!!ye.morphAttributes.position,An=!!ye.morphAttributes.normal,Dr=!!ye.morphAttributes.color,ns=oe.toneMapped?g.toneMapping:ys,so=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,an=so!==void 0?so.length:0,bt=me.get(oe),tl=p.state.lights;if(O===!0&&(W===!0||U!==C)){const Ht=U===C&&oe.id===A;D.setState(oe,U,Ht)}let Mn=!1;oe.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==tl.state.version||bt.outputEncoding!==mt||xe.isInstancedMesh&&bt.instancing===!1||!xe.isInstancedMesh&&bt.instancing===!0||xe.isSkinnedMesh&&bt.skinning===!1||!xe.isSkinnedMesh&&bt.skinning===!0||bt.envMap!==gt||oe.fog===!0&&bt.fog!==Ve||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==D.numPlanes||bt.numIntersection!==D.numIntersection)||bt.vertexAlphas!==pt||bt.vertexTangents!==Et||bt.morphTargets!==Tt||bt.morphNormals!==An||bt.morphColors!==Dr||bt.toneMapping!==ns||Ie.isWebGL2===!0&&bt.morphTargetsCount!==an)&&(Mn=!0):(Mn=!0,bt.__version=oe.version);let oo=bt.currentProgram;Mn===!0&&(oo=Ln(oe,ae,xe));let bc=!1,Ti=!1,Ri=!1;const _t=oo.getUniforms(),Bt=bt.uniforms;if(Te.useProgram(oo.program)&&(bc=!0,Ti=!0,Ri=!0),oe.id!==A&&(A=oe.id,Ti=!0),bc||C!==U){if(_t.setValue(te,"projectionMatrix",U.projectionMatrix),Ie.logarithmicDepthBuffer&&_t.setValue(te,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),C!==U&&(C=U,Ti=!0,Ri=!0),oe.isShaderMaterial||oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshStandardMaterial||oe.envMap){const Ht=_t.map.cameraPosition;Ht!==void 0&&Ht.setValue(te,re.setFromMatrixPosition(U.matrixWorld))}(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&_t.setValue(te,"isOrthographic",U.isOrthographicCamera===!0),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial||oe.isShadowMaterial||xe.isSkinnedMesh)&&_t.setValue(te,"viewMatrix",U.matrixWorldInverse)}if(xe.isSkinnedMesh){_t.setOptional(te,xe,"bindMatrix"),_t.setOptional(te,xe,"bindMatrixInverse");const Ht=xe.skeleton;Ht&&(Ie.floatVertexTextures?(Ht.boneTexture===null&&Ht.computeBoneTexture(),_t.setValue(te,"boneTexture",Ht.boneTexture,le),_t.setValue(te,"boneTextureSize",Ht.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Pi=ye.morphAttributes;if((Pi.position!==void 0||Pi.normal!==void 0||Pi.color!==void 0&&Ie.isWebGL2===!0)&&de.update(xe,ye,oe,oo),(Ti||bt.receiveShadow!==xe.receiveShadow)&&(bt.receiveShadow=xe.receiveShadow,_t.setValue(te,"receiveShadow",xe.receiveShadow)),oe.isMeshGouraudMaterial&&oe.envMap!==null&&(Bt.envMap.value=gt,Bt.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),Ti&&(_t.setValue(te,"toneMappingExposure",g.toneMappingExposure),bt.needsLights&&wc(Bt,Ri),Ve&&oe.fog===!0&&st.refreshFogUniforms(Bt,Ve),st.refreshMaterialUniforms(Bt,oe,k,L,X),u0.upload(te,bt.uniformsList,Bt,le)),oe.isShaderMaterial&&oe.uniformsNeedUpdate===!0&&(u0.upload(te,bt.uniformsList,Bt,le),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&_t.setValue(te,"center",xe.center),_t.setValue(te,"modelViewMatrix",xe.modelViewMatrix),_t.setValue(te,"normalMatrix",xe.normalMatrix),_t.setValue(te,"modelMatrix",xe.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const Ht=oe.uniformsGroups;for(let er=0,ao=Ht.length;er<ao;er++)if(Ie.isWebGL2){const lo=Ht[er];ze.update(lo,oo),ze.bind(lo,oo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return oo}function wc(U,ae){U.ambientLightColor.needsUpdate=ae,U.lightProbe.needsUpdate=ae,U.directionalLights.needsUpdate=ae,U.directionalLightShadows.needsUpdate=ae,U.pointLights.needsUpdate=ae,U.pointLightShadows.needsUpdate=ae,U.spotLights.needsUpdate=ae,U.spotLightShadows.needsUpdate=ae,U.rectAreaLights.needsUpdate=ae,U.hemisphereLights.needsUpdate=ae}function el(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(U,ae,ye){me.get(U.texture).__webglTexture=ae,me.get(U.depthTexture).__webglTexture=ye;const oe=me.get(U);oe.__hasExternalTextures=!0,oe.__hasExternalTextures&&(oe.__autoAllocateDepthBuffer=ye===void 0,oe.__autoAllocateDepthBuffer||Fe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,ae){const ye=me.get(U);ye.__webglFramebuffer=ae,ye.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(U,ae=0,ye=0){b=U,_=ae,w=ye;let oe=!0,xe=null,Ve=!1,tt=!1;if(U){const gt=me.get(U);gt.__useDefaultFramebuffer!==void 0?(Te.bindFramebuffer(36160,null),oe=!1):gt.__webglFramebuffer===void 0?le.setupRenderTarget(U):gt.__hasExternalTextures&&le.rebindTextures(U,me.get(U.texture).__webglTexture,me.get(U.depthTexture).__webglTexture);const pt=U.texture;(pt.isData3DTexture||pt.isDataArrayTexture||pt.isCompressedArrayTexture)&&(tt=!0);const Et=me.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(xe=Et[ae],Ve=!0):Ie.isWebGL2&&U.samples>0&&le.useMultisampledRTT(U)===!1?xe=me.get(U).__webglMultisampledFramebuffer:xe=Et,E.copy(U.viewport),B.copy(U.scissor),T=U.scissorTest}else E.copy(F).multiplyScalar(k).floor(),B.copy(J).multiplyScalar(k).floor(),T=q;if(Te.bindFramebuffer(36160,xe)&&Ie.drawBuffers&&oe&&Te.drawBuffers(U,xe),Te.viewport(E),Te.scissor(B),Te.setScissorTest(T),Ve){const gt=me.get(U.texture);te.framebufferTexture2D(36160,36064,34069+ae,gt.__webglTexture,ye)}else if(tt){const gt=me.get(U.texture),pt=ae||0;te.framebufferTextureLayer(36160,36064,gt.__webglTexture,ye||0,pt)}A=-1},this.readRenderTargetPixels=function(U,ae,ye,oe,xe,Ve,tt){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let mt=me.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&tt!==void 0&&(mt=mt[tt]),mt){Te.bindFramebuffer(36160,mt);try{const gt=U.texture,pt=gt.format,Et=gt.type;if(pt!==Zr&&pe.convert(pt)!==te.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=Et===Yu&&(Fe.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&Fe.has("EXT_color_buffer_float"));if(Et!==Go&&pe.convert(Et)!==te.getParameter(35738)&&!(Et===Bo&&(Ie.isWebGL2||Fe.has("OES_texture_float")||Fe.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=U.width-oe&&ye>=0&&ye<=U.height-xe&&te.readPixels(ae,ye,oe,xe,pe.convert(pt),pe.convert(Et),Ve)}finally{const gt=b!==null?me.get(b).__webglFramebuffer:null;Te.bindFramebuffer(36160,gt)}}},this.copyFramebufferToTexture=function(U,ae,ye=0){const oe=Math.pow(2,-ye),xe=Math.floor(ae.image.width*oe),Ve=Math.floor(ae.image.height*oe);le.setTexture2D(ae,0),te.copyTexSubImage2D(3553,ye,0,0,U.x,U.y,xe,Ve),Te.unbindTexture()},this.copyTextureToTexture=function(U,ae,ye,oe=0){const xe=ae.image.width,Ve=ae.image.height,tt=pe.convert(ye.format),mt=pe.convert(ye.type);le.setTexture2D(ye,0),te.pixelStorei(37440,ye.flipY),te.pixelStorei(37441,ye.premultiplyAlpha),te.pixelStorei(3317,ye.unpackAlignment),ae.isDataTexture?te.texSubImage2D(3553,oe,U.x,U.y,xe,Ve,tt,mt,ae.image.data):ae.isCompressedTexture?te.compressedTexSubImage2D(3553,oe,U.x,U.y,ae.mipmaps[0].width,ae.mipmaps[0].height,tt,ae.mipmaps[0].data):te.texSubImage2D(3553,oe,U.x,U.y,tt,mt,ae.image),oe===0&&ye.generateMipmaps&&te.generateMipmap(3553),Te.unbindTexture()},this.copyTextureToTexture3D=function(U,ae,ye,oe,xe=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ve=U.max.x-U.min.x+1,tt=U.max.y-U.min.y+1,mt=U.max.z-U.min.z+1,gt=pe.convert(oe.format),pt=pe.convert(oe.type);let Et;if(oe.isData3DTexture)le.setTexture3D(oe,0),Et=32879;else if(oe.isDataArrayTexture)le.setTexture2DArray(oe,0),Et=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}te.pixelStorei(37440,oe.flipY),te.pixelStorei(37441,oe.premultiplyAlpha),te.pixelStorei(3317,oe.unpackAlignment);const Tt=te.getParameter(3314),An=te.getParameter(32878),Dr=te.getParameter(3316),ns=te.getParameter(3315),so=te.getParameter(32877),an=ye.isCompressedTexture?ye.mipmaps[0]:ye.image;te.pixelStorei(3314,an.width),te.pixelStorei(32878,an.height),te.pixelStorei(3316,U.min.x),te.pixelStorei(3315,U.min.y),te.pixelStorei(32877,U.min.z),ye.isDataTexture||ye.isData3DTexture?te.texSubImage3D(Et,xe,ae.x,ae.y,ae.z,Ve,tt,mt,gt,pt,an.data):ye.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),te.compressedTexSubImage3D(Et,xe,ae.x,ae.y,ae.z,Ve,tt,mt,gt,an.data)):te.texSubImage3D(Et,xe,ae.x,ae.y,ae.z,Ve,tt,mt,gt,pt,an),te.pixelStorei(3314,Tt),te.pixelStorei(32878,An),te.pixelStorei(3316,Dr),te.pixelStorei(3315,ns),te.pixelStorei(32877,so),xe===0&&oe.generateMipmaps&&te.generateMipmap(Et),Te.unbindTexture()},this.initTexture=function(U){U.isCubeTexture?le.setTextureCube(U,0):U.isData3DTexture?le.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?le.setTexture2DArray(U,0):le.setTexture2D(U,0),Te.unbindTexture()},this.resetState=function(){_=0,w=0,b=null,Te.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class ML extends KS{}ML.prototype.isWebGL1Renderer=!0;class Uv{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=n}clone(){return new Uv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Gv{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=n,this.far=r}clone(){return new Gv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class K0 extends Lt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class ep{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Mh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fr=new N;class $a{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Fr.fromBufferAttribute(this,n),Fr.applyMatrix4(e),this.setXYZ(n,Fr.x,Fr.y,Fr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Fr.fromBufferAttribute(this,n),Fr.applyNormalMatrix(e),this.setXYZ(n,Fr.x,Fr.y,Fr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Fr.fromBufferAttribute(this,n),Fr.transformDirection(e),this.setXYZ(n,Fr.x,Fr.y,Fr.z);return this}setX(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Io(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Io(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Io(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Io(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Zt(n,this.array),r=Zt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Zt(n,this.array),r=Zt(r,this.array),i=Zt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Zt(n,this.array),r=Zt(r,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Ut(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new $a(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class XS extends Wn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Yc;const pd=new N,Qc=new N,qc=new N,Zc=new we,md=new we,CL=new ht,ng=new N,gd=new N,rg=new N,zT=new we,T1=new we,UT=new we;class EL extends Lt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Yc===void 0){Yc=new xt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ep(n,5);Yc.setIndex([0,1,2,0,2,3]),Yc.setAttribute("position",new $a(r,3,0,!1)),Yc.setAttribute("uv",new $a(r,2,3,!1))}this.geometry=Yc,this.material=e!==void 0?e:new XS,this.center=new we(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qc.setFromMatrixScale(this.matrixWorld),CL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qc.multiplyScalar(-qc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;ig(ng.set(-.5,-.5,0),qc,o,Qc,i,s),ig(gd.set(.5,-.5,0),qc,o,Qc,i,s),ig(rg.set(.5,.5,0),qc,o,Qc,i,s),zT.set(0,0),T1.set(1,0),UT.set(1,1);let a=e.ray.intersectTriangle(ng,gd,rg,!1,pd);if(a===null&&(ig(gd.set(-.5,.5,0),qc,o,Qc,i,s),T1.set(0,1),a=e.ray.intersectTriangle(ng,rg,gd,!1,pd),a===null))return;const l=e.ray.origin.distanceTo(pd);l<e.near||l>e.far||n.push({distance:l,point:pd.clone(),uv:ji.getUV(pd,ng,gd,rg,zT,T1,UT,new we),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ig(t,e,n,r,i,s){Zc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(md.x=s*Zc.x-i*Zc.y,md.y=i*Zc.x+s*Zc.y):md.copy(Zc),t.copy(e),t.x+=md.x,t.y+=md.y,t.applyMatrix4(CL)}const sg=new N,GT=new N;class TL extends Lt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){sg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(sg);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){sg.setFromMatrixPosition(e.matrixWorld),GT.setFromMatrixPosition(this.matrixWorld);const r=sg.distanceTo(GT)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const HT=new N,$T=new Wt,VT=new Wt,b6=new N,WT=new ht;class YS extends Yn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ht,this.bindMatrixInverse=new ht}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;$T.fromBufferAttribute(i.attributes.skinIndex,e),VT.fromBufferAttribute(i.attributes.skinWeight,e),HT.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=VT.getComponent(s);if(o!==0){const a=$T.getComponent(s);WT.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(b6.copy(HT).applyMatrix4(WT),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class Hv extends Lt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ku extends fn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Bn,f=Bn,h,p){super(null,o,a,l,c,f,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const jT=new ht,S6=new ht;class tp{constructor(e=[],n=[]){this.uuid=xi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:S6;jT.multiplyMatrices(a,n[s]),jT.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new tp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=cL(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new ku(n,e,e,Zr,Bo);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Hv),this.bones.push(o),this.boneInverses.push(new ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class ef extends Ut{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const JT=new ht,KT=new ht,og=[],A6=new ht,vd=new Yn;class QS extends Yn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new ef(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,A6)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(vd.geometry=this.geometry,vd.material=this.material,vd.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,JT),KT.multiplyMatrices(r,JT),vd.matrixWorld=KT,vd.raycast(e,og);for(let o=0,a=og.length;o<a;o++){const l=og[o];l.instanceId=s,l.object=this,n.push(l)}og.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new ef(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ir extends Wn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const XT=new N,YT=new N,QT=new ht,R1=new vf,ag=new Xo;class Ho extends Lt{constructor(e=new xt,n=new Ir){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)XT.fromBufferAttribute(n,i-1),YT.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=XT.distanceTo(YT);e.setAttribute("lineDistance",new it(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ag.copy(r.boundingSphere),ag.applyMatrix4(i),ag.radius+=s,e.ray.intersectsSphere(ag)===!1)return;QT.copy(i).invert(),R1.copy(e.ray).applyMatrix4(QT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new N,f=new N,h=new N,p=new N,m=this.isLineSegments?2:1,v=r.index,y=r.attributes.position;if(v!==null){const _=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let b=_,A=w-1;b<A;b+=m){const C=v.getX(b),E=v.getX(b+1);if(c.fromBufferAttribute(y,C),f.fromBufferAttribute(y,E),R1.distanceSqToSegment(c,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||n.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let b=_,A=w-1;b<A;b+=m){if(c.fromBufferAttribute(y,b),f.fromBufferAttribute(y,b+1),R1.distanceSqToSegment(c,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||n.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const qT=new N,ZT=new N;class Ss extends Ho{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)qT.fromBufferAttribute(n,i),ZT.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+qT.distanceTo(ZT);e.setAttribute("lineDistance",new it(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class qS extends Ho{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class $v extends Wn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const e2=new ht,Vw=new vf,lg=new Xo,cg=new N;class ZS extends Lt{constructor(e=new xt,n=new $v){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lg.copy(r.boundingSphere),lg.applyMatrix4(i),lg.radius+=s,e.ray.intersectsSphere(lg)===!1)return;e2.copy(i).invert(),Vw.copy(e.ray).applyMatrix4(e2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,g=m;v<g;v++){const y=c.getX(v);cg.fromBufferAttribute(h,y),t2(cg,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,g=m;v<g;v++)cg.fromBufferAttribute(h,v),t2(cg,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function t2(t,e,n,r,i,s,o){const a=Vw.distanceSqToPoint(t);if(a<n){const l=new N;Vw.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class M6 extends fn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:yn,this.magFilter=s!==void 0?s:yn,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class C6 extends fn{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Bn,this.minFilter=Bn,this.generateMipmaps=!1,this.needsUpdate=!0}}class eA extends fn{constructor(e,n,r,i,s,o,a,l,c,f,h,p){super(null,o,a,l,c,f,i,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class E6 extends eA{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=mr}}class T6 extends fn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class As{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,m=(o-f)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new we:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new N,i=[],s=[],o=[],a=new N,l=new ht;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new N)}s[0]=new N,o[0]=new N;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Fn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Fn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Vv extends As{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new we,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*f-m*h+this.aX,c=p*h+m*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class RL extends Vv{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function tA(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,f,h){let p=(o-s)/c-(a-s)/(c+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,m*=f,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const ug=new N,P1=new tA,B1=new tA,I1=new tA;class PL extends As{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new N){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,f;this.closed||a>0?c=i[(a-1)%s]:(ug.subVectors(i[0],i[1]).add(i[0]),c=ug);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(ug.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=ug),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(f),m);g<1e-4&&(g=1),v<1e-4&&(v=g),y<1e-4&&(y=g),P1.initNonuniformCatmullRom(c.x,h.x,p.x,f.x,v,g,y),B1.initNonuniformCatmullRom(c.y,h.y,p.y,f.y,v,g,y),I1.initNonuniformCatmullRom(c.z,h.z,p.z,f.z,v,g,y)}else this.curveType==="catmullrom"&&(P1.initCatmullRom(c.x,h.x,p.x,f.x,this.tension),B1.initCatmullRom(c.y,h.y,p.y,f.y,this.tension),I1.initCatmullRom(c.z,h.z,p.z,f.z,this.tension));return r.set(P1.calc(l),B1.calc(l),I1.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new N().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function n2(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function R6(t,e){const n=1-t;return n*n*e}function P6(t,e){return 2*(1-t)*t*e}function B6(t,e){return t*t*e}function Kd(t,e,n,r){return R6(t,e)+P6(t,n)+B6(t,r)}function I6(t,e){const n=1-t;return n*n*n*e}function L6(t,e){const n=1-t;return 3*n*n*t*e}function D6(t,e){return 3*(1-t)*t*t*e}function k6(t,e){return t*t*t*e}function Xd(t,e,n,r,i){return I6(t,e)+L6(t,n)+D6(t,r)+k6(t,i)}class nA extends As{constructor(e=new we,n=new we,r=new we,i=new we){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new we){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Xd(e,i.x,s.x,o.x,a.x),Xd(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class BL extends As{constructor(e=new N,n=new N,r=new N,i=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new N){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Xd(e,i.x,s.x,o.x,a.x),Xd(e,i.y,s.y,o.y,a.y),Xd(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Wv extends As{constructor(e=new we,n=new we){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new we){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new we;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IL extends As{constructor(e=new N,n=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new N){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rA extends As{constructor(e=new we,n=new we,r=new we){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new we){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Kd(e,i.x,s.x,o.x),Kd(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iA extends As{constructor(e=new N,n=new N,r=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new N){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Kd(e,i.x,s.x,o.x),Kd(e,i.y,s.y,o.y),Kd(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sA extends As{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new we){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],f=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(n2(a,l.x,c.x,f.x,h.x),n2(a,l.y,c.y,f.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new we().fromArray(i))}return this}}var oA=Object.freeze({__proto__:null,ArcCurve:RL,CatmullRomCurve3:PL,CubicBezierCurve:nA,CubicBezierCurve3:BL,EllipseCurve:Vv,LineCurve:Wv,LineCurve3:IL,QuadraticBezierCurve:rA,QuadraticBezierCurve3:iA,SplineCurve:sA});class LL extends As{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Wv(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new oA[i.type]().fromJSON(i))}return this}}class Th extends LL{constructor(e){super(),this.type="Path",this.currentPoint=new we,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Wv(this.currentPoint.clone(),new we(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new rA(this.currentPoint.clone(),new we(e,n),new we(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new nA(this.currentPoint.clone(),new we(e,n),new we(r,i),new we(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new sA(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new Vv(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class xf extends xt{constructor(e=[new we(0,-.5),new we(.5,0),new we(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Fn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],f=1/n,h=new N,p=new we,m=new N,v=new N,g=new N;let y=0,_=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,m.x=_*1,m.y=-y,m.z=_*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:y=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,m.x=_*1,m.y=-y,m.z=_*0,v.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(v)}for(let w=0;w<=n;w++){const b=r+w*f*i,A=Math.sin(b),C=Math.cos(b);for(let E=0;E<=e.length-1;E++){h.x=e[E].x*A,h.y=e[E].y,h.z=e[E].x*C,o.push(h.x,h.y,h.z),p.x=w/n,p.y=E/(e.length-1),a.push(p.x,p.y);const B=l[3*E+0]*A,T=l[3*E+1],I=l[3*E+0]*C;c.push(B,T,I)}}for(let w=0;w<n;w++)for(let b=0;b<e.length-1;b++){const A=b+w*e.length,C=A,E=A+e.length,B=A+e.length+1,T=A+1;s.push(C,E,T),s.push(B,T,E)}this.setIndex(s),this.setAttribute("position",new it(o,3)),this.setAttribute("uv",new it(a,2)),this.setAttribute("normal",new it(c,3))}static fromJSON(e){return new xf(e.points,e.segments,e.phiStart,e.phiLength)}}class np extends xf{constructor(e=1,n=1,r=4,i=8){const s=new Th;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new np(e.radius,e.length,e.capSegments,e.radialSegments)}}class rp extends xt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new N,f=new we;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const m=r+h/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new it(o,3)),this.setAttribute("normal",new it(a,3)),this.setAttribute("uv",new it(l,2))}static fromJSON(e){return new rp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class pc extends xt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const f=[],h=[],p=[],m=[];let v=0;const g=[],y=r/2;let _=0;w(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(f),this.setAttribute("position",new it(h,3)),this.setAttribute("normal",new it(p,3)),this.setAttribute("uv",new it(m,2));function w(){const A=new N,C=new N;let E=0;const B=(n-e)/r;for(let T=0;T<=s;T++){const I=[],L=T/s,k=L*(n-e)+e;for(let G=0;G<=i;G++){const z=G/i,F=z*l+a,J=Math.sin(F),q=Math.cos(F);C.x=k*J,C.y=-L*r+y,C.z=k*q,h.push(C.x,C.y,C.z),A.set(J,B,q).normalize(),p.push(A.x,A.y,A.z),m.push(z,1-L),I.push(v++)}g.push(I)}for(let T=0;T<i;T++)for(let I=0;I<s;I++){const L=g[I][T],k=g[I+1][T],G=g[I+1][T+1],z=g[I][T+1];f.push(L,k,z),f.push(k,G,z),E+=6}c.addGroup(_,E,0),_+=E}function b(A){const C=v,E=new we,B=new N;let T=0;const I=A===!0?e:n,L=A===!0?1:-1;for(let G=1;G<=i;G++)h.push(0,y*L,0),p.push(0,L,0),m.push(.5,.5),v++;const k=v;for(let G=0;G<=i;G++){const F=G/i*l+a,J=Math.cos(F),q=Math.sin(F);B.x=I*q,B.y=y*L,B.z=I*J,h.push(B.x,B.y,B.z),p.push(0,L,0),E.x=J*.5+.5,E.y=q*.5*L+.5,m.push(E.x,E.y),v++}for(let G=0;G<i;G++){const z=C+G,F=k+G;A===!0?f.push(F,F+1,z):f.push(F+1,F,z),T+=3}c.addGroup(_,T,A===!0?1:2),_+=T}}static fromJSON(e){return new pc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ip extends pc{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ip(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qo extends xt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),f(),this.setAttribute("position",new it(s,3)),this.setAttribute("normal",new it(s.slice(),3)),this.setAttribute("uv",new it(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const b=new N,A=new N,C=new N;for(let E=0;E<n.length;E+=3)m(n[E+0],b),m(n[E+1],A),m(n[E+2],C),l(b,A,C,w)}function l(w,b,A,C){const E=C+1,B=[];for(let T=0;T<=E;T++){B[T]=[];const I=w.clone().lerp(A,T/E),L=b.clone().lerp(A,T/E),k=E-T;for(let G=0;G<=k;G++)G===0&&T===E?B[T][G]=I:B[T][G]=I.clone().lerp(L,G/k)}for(let T=0;T<E;T++)for(let I=0;I<2*(E-T)-1;I++){const L=Math.floor(I/2);I%2===0?(p(B[T][L+1]),p(B[T+1][L]),p(B[T][L])):(p(B[T][L+1]),p(B[T+1][L+1]),p(B[T+1][L]))}}function c(w){const b=new N;for(let A=0;A<s.length;A+=3)b.x=s[A+0],b.y=s[A+1],b.z=s[A+2],b.normalize().multiplyScalar(w),s[A+0]=b.x,s[A+1]=b.y,s[A+2]=b.z}function f(){const w=new N;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const A=y(w)/2/Math.PI+.5,C=_(w)/Math.PI+.5;o.push(A,1-C)}v(),h()}function h(){for(let w=0;w<o.length;w+=6){const b=o[w+0],A=o[w+2],C=o[w+4],E=Math.max(b,A,C),B=Math.min(b,A,C);E>.9&&B<.1&&(b<.2&&(o[w+0]+=1),A<.2&&(o[w+2]+=1),C<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,b){const A=w*3;b.x=e[A+0],b.y=e[A+1],b.z=e[A+2]}function v(){const w=new N,b=new N,A=new N,C=new N,E=new we,B=new we,T=new we;for(let I=0,L=0;I<s.length;I+=9,L+=6){w.set(s[I+0],s[I+1],s[I+2]),b.set(s[I+3],s[I+4],s[I+5]),A.set(s[I+6],s[I+7],s[I+8]),E.set(o[L+0],o[L+1]),B.set(o[L+2],o[L+3]),T.set(o[L+4],o[L+5]),C.copy(w).add(b).add(A).divideScalar(3);const k=y(C);g(E,L+0,w,k),g(B,L+2,b,k),g(T,L+4,A,k)}}function g(w,b,A,C){C<0&&w.x===1&&(o[b]=w.x-1),A.x===0&&A.z===0&&(o[b]=C/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new Qo(e.vertices,e.indices,e.radius,e.details)}}class sp extends Qo{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sp(e.radius,e.detail)}}const fg=new N,dg=new N,L1=new N,hg=new ji;class DL extends xt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(jl*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],f=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:g,b:y,c:_}=hg;if(g.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),hg.getNormal(L1),h[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,h[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const b=(w+1)%3,A=h[w],C=h[b],E=hg[f[w]],B=hg[f[b]],T=`${A}_${C}`,I=`${C}_${A}`;I in p&&p[I]?(L1.dot(p[I].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(B.x,B.y,B.z)),p[I]=null):T in p||(p[T]={index0:c[w],index1:c[b],normal:L1.clone()})}}for(const v in p)if(p[v]){const{index0:g,index1:y}=p[v];fg.fromBufferAttribute(a,g),dg.fromBufferAttribute(a,y),m.push(fg.x,fg.y,fg.z),m.push(dg.x,dg.y,dg.z)}this.setAttribute("position",new it(m,3))}}}class Xl extends Th{constructor(e){super(e),this.uuid=xi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Th().fromJSON(i))}return this}}const O6={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=kL(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,f,h,p,m;if(r&&(s=G6(t,e,s,n)),t.length>80*n){a=c=t[0],l=f=t[1];for(let v=n;v<i;v+=n)h=t[v],p=t[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p);m=Math.max(c-a,f-l),m=m!==0?32767/m:0}return Rh(s,o,n,a,l,m,0),o}};function kL(t,e,n,r,i){let s,o;if(i===q6(t,e,n,r)>0)for(s=e;s<n;s+=r)o=r2(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=r2(s,t[s],t[s+1],o);return o&&jv(o,o.next)&&(Bh(o),o=o.next),o}function oc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(jv(n,n.next)||_n(n.prev,n,n.next)===0)){if(Bh(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Rh(t,e,n,r,i,s,o){if(!t)return;!o&&s&&j6(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?N6(t,r,i,s):F6(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Bh(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=z6(oc(t),e,n),Rh(t,e,n,r,i,s,2)):o===2&&U6(t,e,n,r,i,s):Rh(oc(t),e,n,r,i,s,1);break}}}function F6(t){const e=t.prev,n=t,r=t.next;if(_n(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,f=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=h&&v.y<=m&&Cu(i,a,s,l,o,c,v.x,v.y)&&_n(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function N6(t,e,n,r){const i=t.prev,s=t,o=t.next;if(_n(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,f=i.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=f<h?f<p?f:p:h<p?h:p,g=a>l?a>c?a:c:l>c?l:c,y=f>h?f>p?f:p:h>p?h:p,_=Ww(m,v,e,n,r),w=Ww(g,y,e,n,r);let b=t.prevZ,A=t.nextZ;for(;b&&b.z>=_&&A&&A.z<=w;){if(b.x>=m&&b.x<=g&&b.y>=v&&b.y<=y&&b!==i&&b!==o&&Cu(a,f,l,h,c,p,b.x,b.y)&&_n(b.prev,b,b.next)>=0||(b=b.prevZ,A.x>=m&&A.x<=g&&A.y>=v&&A.y<=y&&A!==i&&A!==o&&Cu(a,f,l,h,c,p,A.x,A.y)&&_n(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;b&&b.z>=_;){if(b.x>=m&&b.x<=g&&b.y>=v&&b.y<=y&&b!==i&&b!==o&&Cu(a,f,l,h,c,p,b.x,b.y)&&_n(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;A&&A.z<=w;){if(A.x>=m&&A.x<=g&&A.y>=v&&A.y<=y&&A!==i&&A!==o&&Cu(a,f,l,h,c,p,A.x,A.y)&&_n(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function z6(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!jv(i,s)&&OL(i,r,r.next,s)&&Ph(i,s)&&Ph(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Bh(r),Bh(r.next),r=t=s),r=r.next}while(r!==t);return oc(r)}function U6(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&X6(o,a)){let l=FL(o,a);o=oc(o,o.next),l=oc(l,l.next),Rh(o,e,n,r,i,s,0),Rh(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function G6(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=kL(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(K6(c));for(i.sort(H6),s=0;s<i.length;s++)n=$6(i[s],n);return n}function H6(t,e){return t.x-e.x}function $6(t,e){const n=V6(t,e);if(!n)return e;const r=FL(n,t);return oc(r,r.next),oc(n,n.next)}function V6(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let f=1/0,h;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Cu(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),Ph(n,t)&&(h<f||h===f&&(n.x>i.x||n.x===i.x&&W6(i,n)))&&(i=n,f=h)),n=n.next;while(n!==a);return i}function W6(t,e){return _n(t.prev,t,e.prev)<0&&_n(e.next,t,t.next)<0}function j6(t,e,n,r){let i=t;do i.z===0&&(i.z=Ww(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,J6(i)}function J6(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function Ww(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function K6(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Cu(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function X6(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Y6(t,e)&&(Ph(t,e)&&Ph(e,t)&&Q6(t,e)&&(_n(t.prev,t,e.prev)||_n(t,e.prev,e))||jv(t,e)&&_n(t.prev,t,t.next)>0&&_n(e.prev,e,e.next)>0)}function _n(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function jv(t,e){return t.x===e.x&&t.y===e.y}function OL(t,e,n,r){const i=mg(_n(t,e,n)),s=mg(_n(t,e,r)),o=mg(_n(n,r,t)),a=mg(_n(n,r,e));return!!(i!==s&&o!==a||i===0&&pg(t,n,e)||s===0&&pg(t,r,e)||o===0&&pg(n,t,r)||a===0&&pg(n,e,r))}function pg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function mg(t){return t>0?1:t<0?-1:0}function Y6(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&OL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Ph(t,e){return _n(t.prev,t,t.next)<0?_n(t,e,t.next)>=0&&_n(t,t.prev,e)>=0:_n(t,e,t.prev)<0||_n(t,t.next,e)<0}function Q6(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function FL(t,e){const n=new jw(t.i,t.x,t.y),r=new jw(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function r2(t,e,n,r){const i=new jw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Bh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function jw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function q6(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Xs{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Xs.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];i2(e),s2(r,e);let o=e.length;n.forEach(i2);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,s2(r,n[l]);const a=O6.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function i2(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function s2(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class op extends xt{constructor(e=new Xl([new we(.5,.5),new we(-.5,.5),new we(-.5,-.5),new we(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new it(i,3)),this.setAttribute("uv",new it(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:Z6;let b,A=!1,C,E,B,T;_&&(b=_.getSpacedPoints(f),A=!0,p=!1,C=_.computeFrenetFrames(f,!1),E=new N,B=new N,T=new N),p||(y=0,m=0,v=0,g=0);const I=a.extractPoints(c);let L=I.shape;const k=I.holes;if(!Xs.isClockWise(L)){L=L.reverse();for(let me=0,le=k.length;me<le;me++){const Ae=k[me];Xs.isClockWise(Ae)&&(k[me]=Ae.reverse())}}const z=Xs.triangulateShape(L,k),F=L;for(let me=0,le=k.length;me<le;me++){const Ae=k[me];L=L.concat(Ae)}function J(me,le,Ae){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Ae).add(me)}const q=L.length,ne=z.length;function O(me,le,Ae){let Ce,Ee,nt;const Ke=me.x-le.x,Xe=me.y-le.y,st=Ae.x-me.x,lt=Ae.y-me.y,$=Ke*Ke+Xe*Xe,D=Ke*lt-Xe*st;if(Math.abs(D)>Number.EPSILON){const V=Math.sqrt($),ie=Math.sqrt(st*st+lt*lt),de=le.x-Xe/V,ve=le.y+Ke/V,Ge=Ae.x-lt/ie,pe=Ae.y+st/ie,ue=((Ge-de)*lt-(pe-ve)*st)/(Ke*lt-Xe*st);Ce=de+Ke*ue-me.x,Ee=ve+Xe*ue-me.y;const ze=Ce*Ce+Ee*Ee;if(ze<=2)return new we(Ce,Ee);nt=Math.sqrt(ze/2)}else{let V=!1;Ke>Number.EPSILON?st>Number.EPSILON&&(V=!0):Ke<-Number.EPSILON?st<-Number.EPSILON&&(V=!0):Math.sign(Xe)===Math.sign(lt)&&(V=!0),V?(Ce=-Xe,Ee=Ke,nt=Math.sqrt($)):(Ce=Ke,Ee=Xe,nt=Math.sqrt($/2))}return new we(Ce/nt,Ee/nt)}const W=[];for(let me=0,le=F.length,Ae=le-1,Ce=me+1;me<le;me++,Ae++,Ce++)Ae===le&&(Ae=0),Ce===le&&(Ce=0),W[me]=O(F[me],F[Ae],F[Ce]);const X=[];let se,Q=W.concat();for(let me=0,le=k.length;me<le;me++){const Ae=k[me];se=[];for(let Ce=0,Ee=Ae.length,nt=Ee-1,Ke=Ce+1;Ce<Ee;Ce++,nt++,Ke++)nt===Ee&&(nt=0),Ke===Ee&&(Ke=0),se[Ce]=O(Ae[Ce],Ae[nt],Ae[Ke]);X.push(se),Q=Q.concat(se)}for(let me=0;me<y;me++){const le=me/y,Ae=m*Math.cos(le*Math.PI/2),Ce=v*Math.sin(le*Math.PI/2)+g;for(let Ee=0,nt=F.length;Ee<nt;Ee++){const Ke=J(F[Ee],W[Ee],Ce);De(Ke.x,Ke.y,-Ae)}for(let Ee=0,nt=k.length;Ee<nt;Ee++){const Ke=k[Ee];se=X[Ee];for(let Xe=0,st=Ke.length;Xe<st;Xe++){const lt=J(Ke[Xe],se[Xe],Ce);De(lt.x,lt.y,-Ae)}}}const re=v+g;for(let me=0;me<q;me++){const le=p?J(L[me],Q[me],re):L[me];A?(B.copy(C.normals[0]).multiplyScalar(le.x),E.copy(C.binormals[0]).multiplyScalar(le.y),T.copy(b[0]).add(B).add(E),De(T.x,T.y,T.z)):De(le.x,le.y,0)}for(let me=1;me<=f;me++)for(let le=0;le<q;le++){const Ae=p?J(L[le],Q[le],re):L[le];A?(B.copy(C.normals[me]).multiplyScalar(Ae.x),E.copy(C.binormals[me]).multiplyScalar(Ae.y),T.copy(b[me]).add(B).add(E),De(T.x,T.y,T.z)):De(Ae.x,Ae.y,h/f*me)}for(let me=y-1;me>=0;me--){const le=me/y,Ae=m*Math.cos(le*Math.PI/2),Ce=v*Math.sin(le*Math.PI/2)+g;for(let Ee=0,nt=F.length;Ee<nt;Ee++){const Ke=J(F[Ee],W[Ee],Ce);De(Ke.x,Ke.y,h+Ae)}for(let Ee=0,nt=k.length;Ee<nt;Ee++){const Ke=k[Ee];se=X[Ee];for(let Xe=0,st=Ke.length;Xe<st;Xe++){const lt=J(Ke[Xe],se[Xe],Ce);A?De(lt.x,lt.y+b[f-1].y,b[f-1].x+Ae):De(lt.x,lt.y,h+Ae)}}}_e(),be();function _e(){const me=i.length/3;if(p){let le=0,Ae=q*le;for(let Ce=0;Ce<ne;Ce++){const Ee=z[Ce];Fe(Ee[2]+Ae,Ee[1]+Ae,Ee[0]+Ae)}le=f+y*2,Ae=q*le;for(let Ce=0;Ce<ne;Ce++){const Ee=z[Ce];Fe(Ee[0]+Ae,Ee[1]+Ae,Ee[2]+Ae)}}else{for(let le=0;le<ne;le++){const Ae=z[le];Fe(Ae[2],Ae[1],Ae[0])}for(let le=0;le<ne;le++){const Ae=z[le];Fe(Ae[0]+q*f,Ae[1]+q*f,Ae[2]+q*f)}}r.addGroup(me,i.length/3-me,0)}function be(){const me=i.length/3;let le=0;te(F,le),le+=F.length;for(let Ae=0,Ce=k.length;Ae<Ce;Ae++){const Ee=k[Ae];te(Ee,le),le+=Ee.length}r.addGroup(me,i.length/3-me,1)}function te(me,le){let Ae=me.length;for(;--Ae>=0;){const Ce=Ae;let Ee=Ae-1;Ee<0&&(Ee=me.length-1);for(let nt=0,Ke=f+y*2;nt<Ke;nt++){const Xe=q*nt,st=q*(nt+1),lt=le+Ce+Xe,$=le+Ee+Xe,D=le+Ee+st,V=le+Ce+st;Ie(lt,$,D,V)}}}function De(me,le,Ae){l.push(me),l.push(le),l.push(Ae)}function Fe(me,le,Ae){Te(me),Te(le),Te(Ae);const Ce=i.length/3,Ee=w.generateTopUV(r,i,Ce-3,Ce-2,Ce-1);Qe(Ee[0]),Qe(Ee[1]),Qe(Ee[2])}function Ie(me,le,Ae,Ce){Te(me),Te(le),Te(Ce),Te(le),Te(Ae),Te(Ce);const Ee=i.length/3,nt=w.generateSideWallUV(r,i,Ee-6,Ee-3,Ee-2,Ee-1);Qe(nt[0]),Qe(nt[1]),Qe(nt[3]),Qe(nt[1]),Qe(nt[2]),Qe(nt[3])}function Te(me){i.push(l[me*3+0]),i.push(l[me*3+1]),i.push(l[me*3+2])}function Qe(me){s.push(me.x),s.push(me.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return e8(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new oA[i.type]().fromJSON(i)),new op(r,e.options)}}const Z6={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new we(s,o),new we(a,l),new we(c,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],f=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],g=e[s*3],y=e[s*3+1],_=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new we(o,1-l),new we(c,1-h),new we(p,1-v),new we(g,1-_)]:[new we(a,1-l),new we(f,1-h),new we(m,1-v),new we(y,1-_)]}};function e8(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class ap extends Qo{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ap(e.radius,e.detail)}}class _f extends Qo{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _f(e.radius,e.detail)}}class lp extends xt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],f=[];let h=e;const p=(n-e)/i,m=new N,v=new we;for(let g=0;g<=i;g++){for(let y=0;y<=r;y++){const _=s+y/r*o;m.x=h*Math.cos(_),m.y=h*Math.sin(_),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,f.push(v.x,v.y)}h+=p}for(let g=0;g<i;g++){const y=g*(r+1);for(let _=0;_<r;_++){const w=_+y,b=w,A=w+r+1,C=w+r+2,E=w+1;a.push(b,A,E),a.push(A,C,E)}}this.setIndex(a),this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(c,3)),this.setAttribute("uv",new it(f,2))}static fromJSON(e){return new lp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class cp extends xt{constructor(e=new Xl([new we(0,.5),new we(-.5,-.5),new we(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new it(i,3)),this.setAttribute("normal",new it(s,3)),this.setAttribute("uv",new it(o,2));function c(f){const h=i.length/3,p=f.extractPoints(n);let m=p.shape;const v=p.holes;Xs.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,_=v.length;y<_;y++){const w=v[y];Xs.isClockWise(w)===!0&&(v[y]=w.reverse())}const g=Xs.triangulateShape(m,v);for(let y=0,_=v.length;y<_;y++){const w=v[y];m=m.concat(w)}for(let y=0,_=m.length;y<_;y++){const w=m[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,_=g.length;y<_;y++){const w=g[y],b=w[0]+h,A=w[1]+h,C=w[2]+h;r.push(b,A,C),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return t8(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new cp(r,e.curveSegments)}}function t8(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class wf extends xt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const f=[],h=new N,p=new N,m=[],v=[],g=[],y=[];for(let _=0;_<=r;_++){const w=[],b=_/r;let A=0;_==0&&o==0?A=.5/n:_==r&&l==Math.PI&&(A=-.5/n);for(let C=0;C<=n;C++){const E=C/n;h.x=-e*Math.cos(i+E*s)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(i+E*s)*Math.sin(o+b*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),y.push(E+A,1-b),w.push(c++)}f.push(w)}for(let _=0;_<r;_++)for(let w=0;w<n;w++){const b=f[_][w+1],A=f[_][w],C=f[_+1][w],E=f[_+1][w+1];(_!==0||o>0)&&m.push(b,A,E),(_!==r-1||l<Math.PI)&&m.push(A,C,E)}this.setIndex(m),this.setAttribute("position",new it(v,3)),this.setAttribute("normal",new it(g,3)),this.setAttribute("uv",new it(y,2))}static fromJSON(e){return new wf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class up extends Qo{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new up(e.radius,e.detail)}}class fp extends xt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],f=new N,h=new N,p=new N;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const g=v/i*s,y=m/r*Math.PI*2;h.x=(e+n*Math.cos(y))*Math.cos(g),h.y=(e+n*Math.cos(y))*Math.sin(g),h.z=n*Math.sin(y),a.push(h.x,h.y,h.z),f.x=e*Math.cos(g),f.y=e*Math.sin(g),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const g=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,_=(i+1)*(m-1)+v,w=(i+1)*m+v;o.push(g,y,w),o.push(y,_,w)}this.setIndex(o),this.setAttribute("position",new it(a,3)),this.setAttribute("normal",new it(l,3)),this.setAttribute("uv",new it(c,2))}static fromJSON(e){return new fp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class dp extends xt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],f=[],h=new N,p=new N,m=new N,v=new N,g=new N,y=new N,_=new N;for(let b=0;b<=r;++b){const A=b/r*s*Math.PI*2;w(A,s,o,e,m),w(A+.01,s,o,e,v),y.subVectors(v,m),_.addVectors(v,m),g.crossVectors(y,_),_.crossVectors(g,y),g.normalize(),_.normalize();for(let C=0;C<=i;++C){const E=C/i*Math.PI*2,B=-n*Math.cos(E),T=n*Math.sin(E);h.x=m.x+(B*_.x+T*g.x),h.y=m.y+(B*_.y+T*g.y),h.z=m.z+(B*_.z+T*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),f.push(b/r),f.push(C/i)}}for(let b=1;b<=r;b++)for(let A=1;A<=i;A++){const C=(i+1)*(b-1)+(A-1),E=(i+1)*b+(A-1),B=(i+1)*b+A,T=(i+1)*(b-1)+A;a.push(C,E,T),a.push(E,B,T)}this.setIndex(a),this.setAttribute("position",new it(l,3)),this.setAttribute("normal",new it(c,3)),this.setAttribute("uv",new it(f,2));function w(b,A,C,E,B){const T=Math.cos(b),I=Math.sin(b),L=C/A*b,k=Math.cos(L);B.x=E*(2+k)*.5*T,B.y=E*(2+k)*I*.5,B.z=E*Math.sin(L)*.5}}static fromJSON(e){return new dp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class hp extends xt{constructor(e=new iA(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,c=new we;let f=new N;const h=[],p=[],m=[],v=[];g(),this.setIndex(v),this.setAttribute("position",new it(h,3)),this.setAttribute("normal",new it(p,3)),this.setAttribute("uv",new it(m,2));function g(){for(let b=0;b<n;b++)y(b);y(s===!1?n:0),w(),_()}function y(b){f=e.getPointAt(b/n,f);const A=o.normals[b],C=o.binormals[b];for(let E=0;E<=i;E++){const B=E/i*Math.PI*2,T=Math.sin(B),I=-Math.cos(B);l.x=I*A.x+T*C.x,l.y=I*A.y+T*C.y,l.z=I*A.z+T*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,h.push(a.x,a.y,a.z)}}function _(){for(let b=1;b<=n;b++)for(let A=1;A<=i;A++){const C=(i+1)*(b-1)+(A-1),E=(i+1)*b+(A-1),B=(i+1)*b+A,T=(i+1)*(b-1)+A;v.push(C,E,T),v.push(E,B,T)}}function w(){for(let b=0;b<=n;b++)for(let A=0;A<=i;A++)c.x=b/n,c.y=A/i,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new hp(new oA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class NL extends xt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,g=p+m;v<g;v+=3)for(let y=0;y<3;y++){const _=a.getX(v+y),w=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,w),o2(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),o2(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new it(n,3))}}}function o2(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var a2=Object.freeze({__proto__:null,BoxGeometry:Yo,CapsuleGeometry:np,CircleGeometry:rp,ConeGeometry:ip,CylinderGeometry:pc,DodecahedronGeometry:sp,EdgesGeometry:DL,ExtrudeGeometry:op,IcosahedronGeometry:ap,LatheGeometry:xf,OctahedronGeometry:_f,PlaneGeometry:hc,PolyhedronGeometry:Qo,RingGeometry:lp,ShapeGeometry:cp,SphereGeometry:wf,TetrahedronGeometry:up,TorusGeometry:fp,TorusKnotGeometry:dp,TubeGeometry:hp,WireframeGeometry:NL});class zL extends Wn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class UL extends Zi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class bf extends Wn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qa,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ro extends bf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new we(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class GL extends Wn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qa,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HL extends Wn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qa,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class $L extends Wn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qa,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class VL extends Wn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qa,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WL extends Wn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qa,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jL extends Ir{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gi(t,e,n){return aA(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Fl(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function aA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JL(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function Jw(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function lA(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function n8(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<n||v>=r)){h.push(c.times[m]);for(let g=0;g<f;++g)p.push(c.values[m*f+g])}}h.length!==0&&(c.times=Fl(h,c.times.constructor),c.values=Fl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function r8(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let g;if(s<=a.times[0]){const _=f,w=h-f;g=Gi(a.values,_,w)}else if(s>=a.times[v]){const _=v*h+f,w=_+h-f;g=Gi(a.values,_,w)}else{const _=a.createInterpolant(),w=f,b=h-f;_.evaluate(s),g=Gi(_.resultBuffer,w,b)}l==="quaternion"&&new cr().fromArray(g).normalize().conjugate().toArray(g);const y=c.times.length;for(let _=0;_<y;++_){const w=_*m+p;if(l==="quaternion")cr.multiplyQuaternionsFlat(c.values,w,g,0,c.values,w);else{const b=m-p*2;for(let A=0;A<b;++A)c.values[w+A]-=g[A]}}}return t.blendMode=zS,t}var i8=Object.freeze({__proto__:null,arraySlice:Gi,convertArray:Fl,flattenJSON:lA,getKeyframeOrder:JL,isTypedArray:aA,makeClipAdditive:r8,sortedArray:Jw,subclip:n8});class Sf{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class KL extends Sf{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Dl,endingEnd:Dl}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case kl:s=e,a=2*n-r;break;case Ah:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case kl:o=e,l=2*r-n;break;case Ah:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,f=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),g=v*v,y=g*v,_=-p*y+2*p*g-p*v,w=(1+p)*y+(-1.5-2*p)*g+(-.5+p)*v+1,b=(-1-m)*y+(1.5+m)*g+.5*v,A=m*y-m*g;for(let C=0;C!==a;++C)s[C]=_*o[f+C]+w*o[c+C]+b*o[l+C]+A*o[h+C];return s}}class cA extends Sf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(r-n)/(i-n),h=1-f;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*f;return s}}class XL extends Sf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ms{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fl(n,this.TimeBufferType),this.values=Fl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Fl(e.times,Array),values:Fl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new XL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new cA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new KL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Qu:n=this.InterpolantFactoryMethodDiscrete;break;case sc:n=this.InterpolantFactoryMethodLinear;break;case a0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qu;case this.InterpolantFactoryMethodLinear:return sc;case this.InterpolantFactoryMethodSmooth:return a0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Gi(r,s,o),this.values=Gi(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&aA(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Gi(this.times),n=Gi(this.values),r=this.getValueSize(),i=this.getInterpolation()===a0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let v=0;v!==r;++v){const g=n[h+v];if(g!==n[p+v]||g!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=Gi(e,0,o),this.values=Gi(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Gi(this.times,0),n=Gi(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ms.prototype.TimeBufferType=Float32Array;Ms.prototype.ValueBufferType=Float32Array;Ms.prototype.DefaultInterpolation=sc;class mc extends Ms{}mc.prototype.ValueTypeName="bool";mc.prototype.ValueBufferType=Array;mc.prototype.DefaultInterpolation=Qu;mc.prototype.InterpolantFactoryMethodLinear=void 0;mc.prototype.InterpolantFactoryMethodSmooth=void 0;class uA extends Ms{}uA.prototype.ValueTypeName="color";class tf extends Ms{}tf.prototype.ValueTypeName="number";class YL extends Sf{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let f=c+a;c!==f;c+=4)cr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Va extends Ms{InterpolantFactoryMethodLinear(e){return new YL(this.times,this.values,this.getValueSize(),e)}}Va.prototype.ValueTypeName="quaternion";Va.prototype.DefaultInterpolation=sc;Va.prototype.InterpolantFactoryMethodSmooth=void 0;class gc extends Ms{}gc.prototype.ValueTypeName="string";gc.prototype.ValueBufferType=Array;gc.prototype.DefaultInterpolation=Qu;gc.prototype.InterpolantFactoryMethodLinear=void 0;gc.prototype.InterpolantFactoryMethodSmooth=void 0;class nf extends Ms{}nf.prototype.ValueTypeName="vector";class rf{constructor(e,n=-1,r,i=kv){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=xi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(o8(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Ms.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=JL(l);l=Jw(l,1,f),c=Jw(c,1,f),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new tf(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const h=f[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,v,g){if(m.length!==0){const y=[],_=[];lA(m,y,_,v),y.length!==0&&g.push(new h(p,y,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let g=0;g<p[v].morphTargets.length;g++)m[p[v].morphTargets[g]]=-1;for(const g in m){const y=[],_=[];for(let w=0;w!==p[v].morphTargets.length;++w){const b=p[v];y.push(b.time),_.push(b.morphTarget===g?1:0)}i.push(new tf(".morphTargetInfluence["+g+"]",y,_))}l=m.length*o}else{const m=".bones["+n[h].name+"]";r(nf,m+".position",p,"pos",i),r(Va,m+".quaternion",p,"rot",i),r(nf,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function s8(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return tf;case"vector":case"vector2":case"vector3":case"vector4":return nf;case"color":return uA;case"quaternion":return Va;case"bool":case"boolean":return mc;case"string":return gc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function o8(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=s8(t.type);if(t.times===void 0){const n=[],r=[];lA(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ac={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class fA{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){const h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return v}return null}}}const QL=new fA;class jr{constructor(e){this.manager=e!==void 0?e:QL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const wo={};class a8 extends Error{constructor(e,n){super(e),this.response=n}}class Ai extends jr{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ac.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(wo[e]!==void 0){wo[e].push({onLoad:n,onProgress:r,onError:i});return}wo[e]=[],wo[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=wo[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let g=0;const y=new ReadableStream({start(_){w();function w(){h.read().then(({done:b,value:A})=>{if(b)_.close();else{g+=A.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:g,total:m});for(let E=0,B=f.length;E<B;E++){const T=f[E];T.onProgress&&T.onProgress(C)}_.enqueue(A),w()}})}}});return new Response(y)}else throw new a8(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{ac.add(e,c);const f=wo[e];delete wo[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const f=wo[e];if(f===void 0)throw this.manager.itemError(e),c;delete wo[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class l8 extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ai(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=rf.parse(e[r]);n.push(i)}return n}}class c8 extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new eA,l=new Ai(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=yn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+g]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=yn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Ih extends jr{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ac.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Eh("img");function l(){f(),ac.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){f(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class u8 extends jr{constructor(e){super(e)}load(e,n,r,i){const s=new Zh,o=new Ih(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class f8 extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ku,a=new Ai(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:mr,o.wrapT=c.wrapT!==void 0?c.wrapT:mr,o.magFilter=c.magFilter!==void 0?c.magFilter:yn,o.minFilter=c.minFilter!==void 0?c.minFilter:yn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Zs),c.mipmapCount===1&&(o.minFilter=yn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},r,i),o}}class qL extends jr{constructor(e){super(e)}load(e,n,r,i){const s=new fn,o=new Ih(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Za extends Lt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class ZL extends Za{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new He(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const D1=new ht,l2=new N,c2=new N;class dA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new we(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fv,this._frameExtents=new we(1,1),this._viewportCount=1,this._viewports=[new Wt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;l2.setFromMatrixPosition(e.matrixWorld),n.position.copy(l2),c2.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(c2),n.updateMatrixWorld(),D1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(D1),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(D1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class d8 extends dA{constructor(){super(new xn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Ch*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class hA extends Za{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new d8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const u2=new ht,yd=new N,k1=new N;class h8 extends dA{constructor(){super(new xn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new we(4,2),this._viewportCount=6,this._viewports=[new Wt(2,1,1,1),new Wt(0,1,1,1),new Wt(3,1,1,1),new Wt(1,1,1,1),new Wt(3,0,1,1),new Wt(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),yd.setFromMatrixPosition(e.matrixWorld),r.position.copy(yd),k1.copy(r.position),k1.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(k1),r.updateMatrixWorld(),i.makeTranslation(-yd.x,-yd.y,-yd.z),u2.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u2)}}class pA extends Za{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new h8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class p8 extends dA{constructor(){super(new js(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mA extends Za{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.shadow=new p8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class eD extends Za{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class tD extends Za{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class nD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Jv extends Za{constructor(e=new nD,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Kv extends jr{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Ai(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=Kv.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new He().setHex(o.value);break;case"v2":i.uniforms[s].value=new we().fromArray(o.value);break;case"v3":i.uniforms[s].value=new N().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Wt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Hr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ht().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new we().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new we().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:zL,SpriteMaterial:XS,RawShaderMaterial:UL,ShaderMaterial:Zi,PointsMaterial:$v,MeshPhysicalMaterial:ro,MeshStandardMaterial:bf,MeshPhongMaterial:GL,MeshToonMaterial:HL,MeshNormalMaterial:$L,MeshLambertMaterial:VL,MeshDepthMaterial:zv,MeshDistanceMaterial:JS,MeshBasicMaterial:vi,MeshMatcapMaterial:WL,LineDashedMaterial:jL,LineBasicMaterial:Ir,Material:Wn};return new n[e]}}class Ys{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class rD extends xt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class iD extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ai(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],_=s(m,y.buffer),w=Au(y.type,_),b=new ep(w,y.stride);return b.uuid=y.uuid,n[v]=b,b}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],_=new Uint32Array(y).buffer;return r[v]=_,_}const o=e.isInstancedBufferGeometry?new rD:new xt,a=e.data.index;if(a!==void 0){const m=Au(a.type,a.array);o.setIndex(new Ut(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let g;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);g=new $a(y,v.itemSize,v.offset,v.normalized)}else{const y=Au(v.type,v.array),_=v.isInstancedBufferAttribute?ef:Ut;g=new _(y,v.itemSize,v.normalized)}v.name!==void 0&&(g.name=v.name),v.usage!==void 0&&g.setUsage(v.usage),v.updateRange!==void 0&&(g.updateRange.offset=v.updateRange.offset,g.updateRange.count=v.updateRange.count),o.setAttribute(m,g)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],g=[];for(let y=0,_=v.length;y<_;y++){const w=v[y];let b;if(w.isInterleavedBufferAttribute){const A=i(e.data,w.data);b=new $a(A,w.itemSize,w.offset,w.normalized)}else{const A=Au(w.type,w.array);b=new Ut(A,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),g.push(b)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const g=h[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new N;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Xo(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class m8 extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Ys.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ai(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Ys.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ai(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Xl().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new tp().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new iD;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in a2?a=a2[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Kv;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=rf.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(f)}else return l.data?{data:Au(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new fA(n);s=new Ih(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,g=p.length;v<g;v++){const y=p[v],_=a(y);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new ku(_.data,_.width,_.height)))}i[h.uuid]=new Ol(m)}else{const m=a(h.url);i[h.uuid]=new Ol(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Au(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Ih(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new ku(v.data,v.width,v.height)))}r[l.uuid]=new Ol(f)}else{const f=await s(l.url);r[l.uuid]=new Ol(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let f;Array.isArray(c)?(f=new Zh,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new ku:f=new fn,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,g8)),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],f2),f.wrapT=r(a.wrap[1],f2)),a.format!==void 0&&(f.format=a.format),a.type!==void 0&&(f.type=a.type),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,d2)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,d2)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,g=p.length;v<g;v++){const y=p[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,h;switch(e.type){case"Scene":o=new K0,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Gv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Uv(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new xn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new js(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new eD(e.color,e.intensity);break;case"DirectionalLight":o=new mA(e.color,e.intensity);break;case"PointLight":o=new pA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new tD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new hA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new ZL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Jv().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new YS(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new Yn(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new QS(f,h,p),o.instanceMatrix=new ef(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new ef(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new TL;break;case"Line":o=new Ho(a(e.geometry),l(e.material));break;case"LineLoop":o=new qS(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ss(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new ZS(a(e.geometry),l(e.material));break;case"Sprite":o=new EL(l(e.material));break;case"Group":o=new Lo;break;case"Bone":o=new Hv;break;default:o=new Lt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],g=o.getObjectByProperty("uuid",v.object);g!==void 0&&o.addLevel(g,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const g8={UVMapping:Lv,CubeReflectionMapping:za,CubeRefractionMapping:Ua,EquirectangularReflectionMapping:wh,EquirectangularRefractionMapping:bh,CubeUVReflectionMapping:gf},f2={RepeatWrapping:Ga,ClampToEdgeWrapping:mr,MirroredRepeatWrapping:Xu},d2={NearestFilter:Bn,NearestMipmapNearestFilter:Sh,NearestMipmapLinearFilter:Du,LinearFilter:yn,LinearMipmapNearestFilter:Dv,LinearMipmapLinearFilter:Zs};class sD extends jr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ac.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ac.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let gg;class gA{static getContext(){return gg===void 0&&(gg=new(window.AudioContext||window.webkitAudioContext)),gg}static setContext(e){gg=e}}class v8 extends jr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ai(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);gA.getContext().decodeAudioData(l,function(f){n(f)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class y8 extends Jv{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new He().set(e),s=new He().set(n),o=new N(i.r,i.g,i.b),a=new N(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class x8 extends Jv{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new He().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const h2=new ht,p2=new ht,pl=new ht;class _8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,pl.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(jl*n.fov*.5)/n.zoom;let a,l;p2.elements[12]=-i,h2.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,pl.elements[0]=2*n.near/(l-a),pl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(pl),a=-o*n.aspect-s,l=o*n.aspect-s,pl.elements[0]=2*n.near/(l-a),pl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(pl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(p2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(h2)}}class vA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=m2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=m2();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function m2(){return(typeof performance>"u"?Date:performance).now()}const ml=new N,g2=new cr,w8=new N,gl=new N;class b8 extends Lt{constructor(){super(),this.type="AudioListener",this.context=gA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ml,g2,w8),gl.set(0,0,-1).applyQuaternion(g2),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(ml.x,i),n.positionY.linearRampToValueAtTime(ml.y,i),n.positionZ.linearRampToValueAtTime(ml.z,i),n.forwardX.linearRampToValueAtTime(gl.x,i),n.forwardY.linearRampToValueAtTime(gl.y,i),n.forwardZ.linearRampToValueAtTime(gl.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(ml.x,ml.y,ml.z),n.setOrientation(gl.x,gl.y,gl.z,r.x,r.y,r.z)}}class oD extends Lt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const vl=new N,v2=new cr,S8=new N,yl=new N;class A8 extends oD{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vl,v2,S8),yl.set(0,0,1).applyQuaternion(v2);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(vl.x,r),n.positionY.linearRampToValueAtTime(vl.y,r),n.positionZ.linearRampToValueAtTime(vl.z,r),n.orientationX.linearRampToValueAtTime(yl.x,r),n.orientationY.linearRampToValueAtTime(yl.y,r),n.orientationZ.linearRampToValueAtTime(yl.z,r)}else n.setPosition(vl.x,vl.y,vl.z),n.setOrientation(yl.x,yl.y,yl.z)}}class M8{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class aD{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){cr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;cr.multiplyQuaternionsFlat(e,o,e,n,e,r),cr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const yA="\\[\\]\\.:\\/",C8=new RegExp("["+yA+"]","g"),xA="[^"+yA+"]",E8="[^"+yA.replace("\\.","")+"]",T8=/((?:WC+[\/:])*)/.source.replace("WC",xA),R8=/(WCOD+)?/.source.replace("WCOD",E8),P8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xA),B8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xA),I8=new RegExp("^"+T8+R8+P8+B8+"$"),L8=["material","materials","bones","map"];class D8{constructor(e,n,r){const i=r||It.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class It{constructor(e,n,r){this.path=n,this.parsedPath=r||It.parseTrackName(n),this.node=It.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new It.Composite(e,n,r):new It(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(C8,"")}static parseTrackName(e){const n=I8.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);L8.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=It.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}It.Composite=D8;It.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};It.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};It.prototype.GetterByBindingType=[It.prototype._getValue_direct,It.prototype._getValue_array,It.prototype._getValue_arrayElement,It.prototype._getValue_toArray];It.prototype.SetterByBindingTypeAndVersioning=[[It.prototype._setValue_direct,It.prototype._setValue_direct_setNeedsUpdate,It.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[It.prototype._setValue_array,It.prototype._setValue_array_setNeedsUpdate,It.prototype._setValue_array_setMatrixWorldNeedsUpdate],[It.prototype._setValue_arrayElement,It.prototype._setValue_arrayElement_setNeedsUpdate,It.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[It.prototype._setValue_fromArray,It.prototype._setValue_fromArray_setNeedsUpdate,It.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class k8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let g=0,y=o;g!==y;++g)s[g].push(new It(p,r[g],i[g]))}else if(v<c){a=e[v];const g=--c,y=e[g];n[y.uuid]=v,e[v]=y,n[m]=g,e[g]=p;for(let _=0,w=o;_!==w;++_){const b=s[_],A=b[g];let C=b[v];b[v]=A,C===void 0&&(C=new It(p,r[_],i[_])),b[g]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,f=n[c];if(f!==void 0&&f>=s){const h=s++,p=e[h];n[p.uuid]=f,e[f]=p,n[c]=h,e[h]=l;for(let m=0,v=i;m!==v;++m){const g=r[m],y=g[h],_=g[f];g[f]=y,g[h]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,h=n[f];if(h!==void 0)if(delete n[f],h<s){const p=--s,m=e[p],v=--o,g=e[v];n[m.uuid]=h,e[h]=m,n[g.uuid]=p,e[p]=g,e.pop();for(let y=0,_=i;y!==_;++y){const w=r[y],b=w[p],A=w[v];w[h]=b,w[p]=A,w.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let v=0,g=i;v!==g;++v){const y=r[v];y[h]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let p=f,m=l.length;p!==m;++p){const v=l[p];h[p]=new It(v,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class O8{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Dl,endingEnd:Dl};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case zS:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulateAdditive(a);break;case kv:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===rL;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===tL){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=kl,i.endingEnd=kl):(e?i.endingStart=this.zeroSlopeAtStart?kl:Dl:i.endingStart=Ah,n?i.endingEnd=this.zeroSlopeAtEnd?kl:Dl:i.endingEnd=Ah)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const F8=new Float32Array(1);class N8 extends no{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let v=f[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const g=n&&n._propertyBindings[h].binding.parsedPath;v=new aD(It.create(r,m,g),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new cA(new Float32Array(2),new Float32Array(2),1,F8),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?rf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=kv),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new O8(this,o,n,r);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?rf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,n[f]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class _A{constructor(e){this.value=e}clone(){return new _A(this.value.clone===void 0?this.value:this.value.clone())}}let z8=0;class U8 extends no{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:z8++}),this.name="",this.usage=Mh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class G8 extends ep{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class H8{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class lD{constructor(e,n,r=0,i=1/0){this.ray=new vf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Kl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Kw(e,this,r,n),r.sort(y2),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Kw(e[i],this,r,n);return r.sort(y2),r}}function y2(t,e){return t.distance-e.distance}function Kw(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)Kw(i[s],e,n,!0)}}class Xw{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Fn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class $8{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const x2=new we;class V8{constructor(e=new we(1/0,1/0),n=new we(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=x2.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return x2.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _2=new N,vg=new N;class W8{constructor(e=new N,n=new N){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_2.subVectors(e,this.start),vg.subVectors(this.end,this.start);const r=vg.dot(vg);let s=vg.dot(_2)/r;return n&&(s=Fn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const w2=new N;class j8 extends Lt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new xt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new it(i,3));const s=new Ir({fog:!1,toneMapped:!1});this.cone=new Ss(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),w2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(w2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ha=new N,yg=new ht,O1=new ht;class J8 extends Ss{constructor(e){const n=cD(e),r=new xt,i=[],s=[],o=new He(0,0,1),a=new He(0,1,0);for(let c=0;c<n.length;c++){const f=n[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new it(i,3)),r.setAttribute("color",new it(s,3));const l=new Ir({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");O1.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(yg.multiplyMatrices(O1,a.matrixWorld),ha.setFromMatrixPosition(yg),i.setXYZ(o,ha.x,ha.y,ha.z),yg.multiplyMatrices(O1,a.parent.matrixWorld),ha.setFromMatrixPosition(yg),i.setXYZ(o+1,ha.x,ha.y,ha.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function cD(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,cD(t.children[n]));return e}class K8 extends Yn{constructor(e,n,r){const i=new wf(n,4,2),s=new vi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const X8=new N,b2=new He,S2=new He;class Y8 extends Lt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _f(n);i.rotateY(Math.PI*.5),this.material=new vi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Ut(o,3)),this.add(new Yn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");b2.copy(this.light.color),S2.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?b2:S2;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(X8.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Q8 extends Ss{constructor(e=10,n=10,r=4473924,i=8947848){r=new He(r),i=new He(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const g=p===s?r:i;g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3}const f=new xt;f.setAttribute("position",new it(l,3)),f.setAttribute("color",new it(c,3));const h=new Ir({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class q8 extends Ss{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new He(s),o=new He(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const g=h&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let v=0;v<i;v++){let g=v/i*(Math.PI*2),y=Math.sin(g)*m,_=Math.cos(g)*m;a.push(y,0,_),l.push(p.r,p.g,p.b),g=(v+1)/i*(Math.PI*2),y=Math.sin(g)*m,_=Math.cos(g)*m,a.push(y,0,_),l.push(p.r,p.g,p.b)}}const c=new xt;c.setAttribute("position",new it(a,3)),c.setAttribute("color",new it(l,3));const f=new Ir({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const A2=new N,xg=new N,M2=new N;class Z8 extends Lt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new xt;i.setAttribute("position",new it([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ir({fog:!1,toneMapped:!1});this.lightPlane=new Ho(i,s),this.add(this.lightPlane),i=new xt,i.setAttribute("position",new it([0,0,0,0,0,1],3)),this.targetLine=new Ho(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),A2.setFromMatrixPosition(this.light.matrixWorld),xg.setFromMatrixPosition(this.light.target.matrixWorld),M2.subVectors(xg,A2),this.lightPlane.lookAt(xg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xg),this.targetLine.scale.z=M2.length()}}const _g=new N,En=new qh;class e$ extends Ss{constructor(e){const n=new xt,r=new Ir({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,g){l(v),l(g)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new it(i,3)),n.setAttribute("color",new it(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new He(16755200),f=new He(16711680),h=new He(43775),p=new He(16777215),m=new He(3355443);this.setColors(c,f,h,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;En.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kn("c",n,e,En,0,0,-1),kn("t",n,e,En,0,0,1),kn("n1",n,e,En,-r,-i,-1),kn("n2",n,e,En,r,-i,-1),kn("n3",n,e,En,-r,i,-1),kn("n4",n,e,En,r,i,-1),kn("f1",n,e,En,-r,-i,1),kn("f2",n,e,En,r,-i,1),kn("f3",n,e,En,-r,i,1),kn("f4",n,e,En,r,i,1),kn("u1",n,e,En,r*.7,i*1.1,-1),kn("u2",n,e,En,-r*.7,i*1.1,-1),kn("u3",n,e,En,0,i*2,-1),kn("cf1",n,e,En,-r,0,1),kn("cf2",n,e,En,r,0,1),kn("cf3",n,e,En,0,-i,1),kn("cf4",n,e,En,0,i,1),kn("cn1",n,e,En,-r,0,-1),kn("cn2",n,e,En,r,0,-1),kn("cn3",n,e,En,0,-i,-1),kn("cn4",n,e,En,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kn(t,e,n,r,i,s,o){_g.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],_g.x,_g.y,_g.z)}}const wg=new Ko;class t$ extends Ss{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new xt;s.setIndex(new Ut(r,1)),s.setAttribute("position",new Ut(i,3)),super(s,new Ir({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&wg.setFromObject(this.object),wg.isEmpty())return;const n=wg.min,r=wg.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class n$ extends Ss{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new xt;s.setIndex(new Ut(r,1)),s.setAttribute("position",new it(i,3)),super(s,new Ir({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class r$ extends Ho{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new xt;o.setAttribute("position",new it(s,3)),o.computeBoundingSphere(),super(o,new Ir({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new xt;l.setAttribute("position",new it(a,3)),l.computeBoundingSphere(),this.add(new Yn(l,new vi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const C2=new N;let bg,F1;class i$ extends Lt{constructor(e=new N(0,0,1),n=new N(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",bg===void 0&&(bg=new xt,bg.setAttribute("position",new it([0,0,0,0,1,0],3)),F1=new pc(0,.5,1,5,1),F1.translate(0,-.5,0)),this.position.copy(n),this.line=new Ho(bg,new Ir({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yn(F1,new vi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{C2.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(C2,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class s$ extends Ss{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new xt;i.setAttribute("position",new it(n,3)),i.setAttribute("color",new it(r,3));const s=new Ir({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new He,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class o${constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Th,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const w=[];for(let b=0,A=_.length;b<A;b++){const C=_[b],E=new Xl;E.curves=C.curves,w.push(E)}return w}function r(_,w){const b=w.length;let A=!1;for(let C=b-1,E=0;E<b;C=E++){let B=w[C],T=w[E],I=T.x-B.x,L=T.y-B.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(B=w[E],I=-I,T=w[C],L=-L),_.y<B.y||_.y>T.y)continue;if(_.y===B.y){if(_.x===B.x)return!0}else{const k=L*(_.x-B.x)-I*(_.y-B.y);if(k===0)return!0;if(k<0)continue;A=!A}}else{if(_.y!==B.y)continue;if(T.x<=_.x&&_.x<=B.x||B.x<=_.x&&_.x<=T.x)return!0}}return A}const i=Xs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Xl,l.curves=a.curves,c.push(l),c;let f=!i(s[0].getPoints());f=e?!f:f;const h=[],p=[];let m=[],v=0,g;p[v]=void 0,m[v]=[];for(let _=0,w=s.length;_<w;_++)a=s[_],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!f&&p[v]&&v++,p[v]={s:new Xl,p:g},p[v].s.curves=a.curves,f&&v++,m[v]=[]):m[v].push({h:a,p:g[0]});if(!p[0])return n(s);if(p.length>1){let _=!1,w=0;for(let b=0,A=p.length;b<A;b++)h[b]=[];for(let b=0,A=p.length;b<A;b++){const C=m[b];for(let E=0;E<C.length;E++){const B=C[E];let T=!0;for(let I=0;I<p.length;I++)r(B.p,p[I].p)&&(b!==I&&w++,T?(T=!1,h[I].push(B)):_=!0);T&&h[b].push(B)}}w>0&&_===!1&&(m=h)}let y;for(let _=0,w=p.length;_<w;_++){l=p[_].s,c.push(l),y=m[_];for(let b=0,A=y.length;b<A;b++)l.holes.push(y[b].h)}return c}}const Eo=a$();function a$(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function l$(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Fn(t,-65504,65504),Eo.floatView[0]=t;const e=Eo.uint32View[0],n=e>>23&511;return Eo.baseTable[n]+((e&8388607)>>Eo.shiftTable[n])}function c$(t){const e=t>>10;return Eo.uint32View[0]=Eo.mantissaTable[Eo.offsetTable[e]+(t&1023)]+Eo.exponentTable[e],Eo.floatView[0]}var u$=Object.freeze({__proto__:null,fromHalfFloat:c$,toHalfFloat:l$});class f$ extends Yo{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class d$ extends np{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class h$ extends rp{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class p$ extends ip{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class m$ extends pc{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class g$ extends sp{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class v$ extends op{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class y$ extends ap{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class x$ extends xf{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class _$ extends _f{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class w$ extends hc{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class b$ extends Qo{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class S$ extends lp{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class A$ extends cp{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class M$ extends wf{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class C$ extends up{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class E$ extends fp{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class T$ extends dp{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class R$ extends hp{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xh}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xh);const P$=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:FS,AddEquation:El,AddOperation:kI,AdditiveAnimationBlendMode:zS,AdditiveBlending:dw,AlphaFormat:WI,AlwaysDepth:TI,AlwaysStencilFunc:lL,AmbientLight:eD,AmbientLightProbe:x8,AnimationClip:rf,AnimationLoader:l8,AnimationMixer:N8,AnimationObjectGroup:k8,AnimationUtils:i8,ArcCurve:RL,ArrayCamera:SL,ArrowHelper:i$,Audio:oD,AudioAnalyser:M8,AudioContext:gA,AudioListener:b8,AudioLoader:v8,AxesHelper:s$,BackSide:si,BasicDepthPacking:sL,BasicShadowMap:pI,Bone:Hv,BooleanKeyframeTrack:mc,Box2:V8,Box3:Ko,Box3Helper:n$,BoxBufferGeometry:f$,BoxGeometry:Yo,BoxHelper:t$,BufferAttribute:Ut,BufferGeometry:xt,BufferGeometryLoader:iD,ByteType:UI,Cache:ac,Camera:qh,CameraHelper:e$,CanvasTexture:T6,CapsuleBufferGeometry:d$,CapsuleGeometry:np,CatmullRomCurve3:PL,CineonToneMapping:NI,CircleBufferGeometry:h$,CircleGeometry:rp,ClampToEdgeWrapping:mr,Clock:vA,Color:He,ColorKeyframeTrack:uA,ColorManagement:Cr,CompressedArrayTexture:E6,CompressedTexture:eA,CompressedTextureLoader:c8,ConeBufferGeometry:p$,ConeGeometry:ip,CubeCamera:mL,CubeReflectionMapping:za,CubeRefractionMapping:Ua,CubeTexture:Zh,CubeTextureLoader:u8,CubeUVReflectionMapping:gf,CubicBezierCurve:nA,CubicBezierCurve3:BL,CubicInterpolant:KL,CullFaceBack:fw,CullFaceFront:hI,CullFaceFrontBack:L5,CullFaceNone:dI,Curve:As,CurvePath:LL,CustomBlending:mI,CustomToneMapping:zI,CylinderBufferGeometry:m$,CylinderGeometry:pc,Cylindrical:$8,Data3DTexture:$S,DataArrayTexture:Ov,DataTexture:ku,DataTextureLoader:f8,DataUtils:u$,DecrementStencilOp:$5,DecrementWrapStencilOp:W5,DefaultLoadingManager:QL,DepthFormat:ka,DepthStencilFormat:ic,DepthTexture:AL,DirectionalLight:mA,DirectionalLightHelper:Z8,DiscreteInterpolant:XL,DodecahedronBufferGeometry:g$,DodecahedronGeometry:sp,DoubleSide:Ws,DstAlphaFactor:bI,DstColorFactor:AI,DynamicCopyUsage:oz,DynamicDrawUsage:ez,DynamicReadUsage:rz,EdgesGeometry:DL,EllipseCurve:Vv,EqualDepth:PI,EqualStencilFunc:X5,EquirectangularReflectionMapping:wh,EquirectangularRefractionMapping:bh,Euler:Qh,EventDispatcher:no,ExtrudeBufferGeometry:v$,ExtrudeGeometry:op,FileLoader:Ai,Float16BufferAttribute:Uz,Float32BufferAttribute:it,Float64BufferAttribute:Gz,FloatType:Bo,Fog:Gv,FogExp2:Uv,FramebufferTexture:C6,FrontSide:qs,Frustum:Fv,GLBufferAttribute:H8,GLSL1:lz,GLSL3:Uw,GreaterDepth:II,GreaterEqualDepth:BI,GreaterEqualStencilFunc:Z5,GreaterStencilFunc:Q5,GridHelper:Q8,Group:Lo,HalfFloatType:Yu,HemisphereLight:ZL,HemisphereLightHelper:Y8,HemisphereLightProbe:y8,IcosahedronBufferGeometry:y$,IcosahedronGeometry:ap,ImageBitmapLoader:sD,ImageLoader:Ih,ImageUtils:HS,IncrementStencilOp:H5,IncrementWrapStencilOp:V5,InstancedBufferAttribute:ef,InstancedBufferGeometry:rD,InstancedInterleavedBuffer:G8,InstancedMesh:QS,Int16BufferAttribute:Nz,Int32BufferAttribute:zz,Int8BufferAttribute:kz,IntType:HI,InterleavedBuffer:ep,InterleavedBufferAttribute:$a,Interpolant:Sf,InterpolateDiscrete:Qu,InterpolateLinear:sc,InterpolateSmooth:a0,InvertStencilOp:j5,KeepStencilOp:l0,KeyframeTrack:Ms,LOD:TL,LatheBufferGeometry:x$,LatheGeometry:xf,Layers:Kl,LessDepth:RI,LessEqualDepth:V0,LessEqualStencilFunc:Y5,LessStencilFunc:K5,Light:Za,LightProbe:Jv,Line:Ho,Line3:W8,LineBasicMaterial:Ir,LineCurve:Wv,LineCurve3:IL,LineDashedMaterial:jL,LineLoop:qS,LineSegments:Ss,LinearEncoding:Ha,LinearFilter:yn,LinearInterpolant:cA,LinearMipMapLinearFilter:N5,LinearMipMapNearestFilter:F5,LinearMipmapLinearFilter:Zs,LinearMipmapNearestFilter:Dv,LinearSRGBColorSpace:qu,LinearToneMapping:OI,Loader:jr,LoaderUtils:Ys,LoadingManager:fA,LoopOnce:tL,LoopPingPong:rL,LoopRepeat:nL,LuminanceAlphaFormat:JI,LuminanceFormat:jI,MOUSE:Al,Material:Wn,MaterialLoader:Kv,MathUtils:uL,Matrix3:Hr,Matrix4:ht,MaxEquation:gw,Mesh:Yn,MeshBasicMaterial:vi,MeshDepthMaterial:zv,MeshDistanceMaterial:JS,MeshLambertMaterial:VL,MeshMatcapMaterial:WL,MeshNormalMaterial:$L,MeshPhongMaterial:GL,MeshPhysicalMaterial:ro,MeshStandardMaterial:bf,MeshToonMaterial:HL,MinEquation:mw,MirroredRepeatWrapping:Xu,MixOperation:DI,MultiplyBlending:pw,MultiplyOperation:Yh,NearestFilter:Bn,NearestMipMapLinearFilter:O5,NearestMipMapNearestFilter:k5,NearestMipmapLinearFilter:Du,NearestMipmapNearestFilter:Sh,NeverDepth:EI,NeverStencilFunc:J5,NoBlending:ko,NoColorSpace:z5,NoToneMapping:ys,NormalAnimationBlendMode:kv,NormalBlending:Vl,NotEqualDepth:LI,NotEqualStencilFunc:q5,NumberKeyframeTrack:tf,Object3D:Lt,ObjectLoader:m8,ObjectSpaceNormalMap:aL,OctahedronBufferGeometry:_$,OctahedronGeometry:_f,OneFactor:xI,OneMinusDstAlphaFactor:SI,OneMinusDstColorFactor:MI,OneMinusSrcAlphaFactor:OS,OneMinusSrcColorFactor:wI,OrthographicCamera:js,PCFShadowMap:Iv,PCFSoftShadowMap:jd,PMREMGenerator:Hw,Path:Th,PerspectiveCamera:xn,Plane:Mo,PlaneBufferGeometry:w$,PlaneGeometry:hc,PlaneHelper:r$,PointLight:pA,PointLightHelper:K8,Points:ZS,PointsMaterial:$v,PolarGridHelper:q8,PolyhedronBufferGeometry:b$,PolyhedronGeometry:Qo,PositionalAudio:A8,PropertyBinding:It,PropertyMixer:aD,QuadraticBezierCurve:rA,QuadraticBezierCurve3:iA,Quaternion:cr,QuaternionKeyframeTrack:Va,QuaternionLinearInterpolant:YL,RED_GREEN_RGTC2_Format:Nw,RED_RGTC1_Format:eL,REVISION:Xh,RGBADepthPacking:oL,RGBAFormat:Zr,RGBAIntegerFormat:qI,RGBA_ASTC_10x10_Format:Dw,RGBA_ASTC_10x5_Format:Bw,RGBA_ASTC_10x6_Format:Iw,RGBA_ASTC_10x8_Format:Lw,RGBA_ASTC_12x10_Format:kw,RGBA_ASTC_12x12_Format:Ow,RGBA_ASTC_4x4_Format:Sw,RGBA_ASTC_5x4_Format:Aw,RGBA_ASTC_5x5_Format:Mw,RGBA_ASTC_6x5_Format:Cw,RGBA_ASTC_6x6_Format:Ew,RGBA_ASTC_8x5_Format:Tw,RGBA_ASTC_8x6_Format:Rw,RGBA_ASTC_8x8_Format:Pw,RGBA_BPTC_Format:o0,RGBA_ETC2_EAC_Format:bw,RGBA_PVRTC_2BPPV1_Format:_w,RGBA_PVRTC_4BPPV1_Format:xw,RGBA_S3TC_DXT1_Format:r0,RGBA_S3TC_DXT3_Format:i0,RGBA_S3TC_DXT5_Format:s0,RGB_ETC1_Format:ZI,RGB_ETC2_Format:ww,RGB_PVRTC_2BPPV1_Format:yw,RGB_PVRTC_4BPPV1_Format:vw,RGB_S3TC_DXT1_Format:n0,RGFormat:YI,RGIntegerFormat:QI,RawShaderMaterial:UL,Ray:vf,Raycaster:lD,RectAreaLight:tD,RedFormat:KI,RedIntegerFormat:XI,ReinhardToneMapping:FI,RepeatWrapping:Ga,ReplaceStencilOp:G5,ReverseSubtractEquation:vI,RingBufferGeometry:S$,RingGeometry:lp,SIGNED_RED_GREEN_RGTC2_Format:zw,SIGNED_RED_RGTC1_Format:Fw,SRGBColorSpace:ds,Scene:K0,ShaderChunk:At,ShaderLib:ps,ShaderMaterial:Zi,ShadowMaterial:zL,Shape:Xl,ShapeBufferGeometry:A$,ShapeGeometry:cp,ShapePath:o$,ShapeUtils:Xs,ShortType:GI,Skeleton:tp,SkeletonHelper:J8,SkinnedMesh:YS,Source:Ol,Sphere:Xo,SphereBufferGeometry:M$,SphereGeometry:wf,Spherical:Xw,SphericalHarmonics3:nD,SplineCurve:sA,SpotLight:hA,SpotLightHelper:j8,Sprite:EL,SpriteMaterial:XS,SrcAlphaFactor:kS,SrcAlphaSaturateFactor:CI,SrcColorFactor:_I,StaticCopyUsage:sz,StaticDrawUsage:Mh,StaticReadUsage:nz,StereoCamera:_8,StreamCopyUsage:az,StreamDrawUsage:tz,StreamReadUsage:iz,StringKeyframeTrack:gc,SubtractEquation:gI,SubtractiveBlending:hw,TOUCH:Ml,TangentSpaceNormalMap:qa,TetrahedronBufferGeometry:C$,TetrahedronGeometry:up,Texture:fn,TextureLoader:qL,TorusBufferGeometry:E$,TorusGeometry:fp,TorusKnotBufferGeometry:T$,TorusKnotGeometry:dp,Triangle:ji,TriangleFanDrawMode:W0,TriangleStripDrawMode:US,TrianglesDrawMode:iL,TubeBufferGeometry:R$,TubeGeometry:hp,TwoPassDoubleSide:D5,UVMapping:Lv,Uint16BufferAttribute:VS,Uint32BufferAttribute:WS,Uint8BufferAttribute:Oz,Uint8ClampedBufferAttribute:Fz,Uniform:_A,UniformsGroup:U8,UniformsLib:Ue,UniformsUtils:pL,UnsignedByteType:Go,UnsignedInt248Type:Wl,UnsignedIntType:Ma,UnsignedShort4444Type:$I,UnsignedShort5551Type:VI,UnsignedShortType:NS,VSMShadowMap:Ll,Vector2:we,Vector3:N,Vector4:Wt,VectorKeyframeTrack:nf,VideoTexture:M6,WebGL1Renderer:ML,WebGL3DRenderTarget:Mz,WebGLArrayRenderTarget:Az,WebGLCubeRenderTarget:gL,WebGLMultipleRenderTargets:Cz,WebGLRenderTarget:Si,WebGLRenderer:KS,WebGLUtils:bL,WireframeGeometry:NL,WrapAroundEnding:Ah,ZeroCurvatureEnding:Dl,ZeroFactor:yI,ZeroSlopeEnding:kl,ZeroStencilOp:U5,_SRGBAFormat:j0,sRGBEncoding:tn},Symbol.toStringTag,{value:"Module"}));var Ca={},B$={get exports(){return Ca},set exports(t){Ca=t}},vc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */vc.ConcurrentRoot=1;vc.ContinuousEventPriority=4;vc.DefaultEventPriority=16;vc.DiscreteEventPriority=1;vc.IdleEventPriority=536870912;vc.LegacyRoot=0;(function(t){t.exports=vc})(B$);function I$(t){let e;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,s=(c,f=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const v=f(e);if(!h(p,v)){const g=p;c(p=v,g)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,f,h)=>f||h?s(c,f,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const L$=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),E2=L$?R.useEffect:R.useLayoutEffect;function uD(t){const e=typeof t=="function"?I$(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=R.useReducer(y=>y+1,0),o=e.getState(),a=R.useRef(o),l=R.useRef(r),c=R.useRef(i),f=R.useRef(!1),h=R.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||f.current)&&(p=r(o),m=!i(h.current,p)),E2(()=>{m&&(h.current=p),a.current=o,l.current=r,c.current=i,f.current=!1});const v=R.useRef(o);E2(()=>{const y=()=>{try{const w=e.getState(),b=l.current(w);c.current(h.current,b)||(a.current=w,h.current=b,s())}catch{f.current=!0,s()}},_=e.subscribe(y);return e.getState()!==v.current&&y(),_},[]);const g=m?p:h.current;return R.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Yw={},D$={get exports(){return Yw},set exports(t){Yw=t}},Lh={},k$={get exports(){return Lh},set exports(t){Lh=t}},fD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,W){var X=O.length;O.push(W);e:for(;0<X;){var se=X-1>>>1,Q=O[se];if(0<i(Q,W))O[se]=W,O[X]=Q,X=se;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var W=O[0],X=O.pop();if(X!==W){O[0]=X;e:for(var se=0,Q=O.length,re=Q>>>1;se<re;){var _e=2*(se+1)-1,be=O[_e],te=_e+1,De=O[te];if(0>i(be,X))te<Q&&0>i(De,be)?(O[se]=De,O[te]=X,se=te):(O[se]=be,O[_e]=X,se=_e);else if(te<Q&&0>i(De,X))O[se]=De,O[te]=X,se=te;else break e}}return W}function i(O,W){var X=O.sortIndex-W.sortIndex;return X!==0?X:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=O)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function A(O){if(g=!1,b(O),!v)if(n(l)!==null)v=!0,q(C);else{var W=n(c);W!==null&&ne(A,W.startTime-O)}}function C(O,W){v=!1,g&&(g=!1,_(T),T=-1),m=!0;var X=p;try{for(b(W),h=n(l);h!==null&&(!(h.expirationTime>W)||O&&!k());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var Q=se(h.expirationTime<=W);W=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&r(l),b(W)}else r(l);h=n(l)}if(h!==null)var re=!0;else{var _e=n(c);_e!==null&&ne(A,_e.startTime-W),re=!1}return re}finally{h=null,p=X,m=!1}}var E=!1,B=null,T=-1,I=5,L=-1;function k(){return!(t.unstable_now()-L<I)}function G(){if(B!==null){var O=t.unstable_now();L=O;var W=!0;try{W=B(!0,O)}finally{W?z():(E=!1,B=null)}}else E=!1}var z;if(typeof w=="function")z=function(){w(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=G,z=function(){J.postMessage(null)}}else z=function(){y(G,0)};function q(O){B=O,E||(E=!0,z())}function ne(O,W){T=y(function(){O(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var X=p;p=W;try{return O()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=p;p=O;try{return W()}finally{p=X}},t.unstable_scheduleCallback=function(O,W,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,O={id:f++,callback:W,priorityLevel:O,startTime:X,expirationTime:Q,sortIndex:-1},X>se?(O.sortIndex=X,e(c,O),n(l)===null&&O===n(c)&&(g?(_(T),T=-1):g=!0,ne(A,X-se))):(O.sortIndex=Q,e(l,O),v||m||(v=!0,q(C))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var W=p;return function(){var X=p;p=W;try{return O.apply(this,arguments)}finally{p=X}}}})(fD);(function(t){t.exports=fD})(k$);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O$=function(e){var n={},r=R,i=Lh,s=Object.assign;function o(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),C=Symbol.iterator;function E(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}function B(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case f:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case _:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case g:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case w:return d=u.displayName||null,d!==null?d:B(u.type)||"Memo";case b:d=u._payload,u=u._init;try{return B(u(d))}catch{}}return null}function T(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function I(u){var d=u,x=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(x=d.return),u=d.return;while(u)}return d.tag===3?x:null}function L(u){if(I(u)!==u)throw Error(o(188))}function k(u){var d=u.alternate;if(!d){if(d=I(u),d===null)throw Error(o(188));return d!==u?null:u}for(var x=u,S=d;;){var M=x.return;if(M===null)break;var P=M.alternate;if(P===null){if(S=M.return,S!==null){x=S;continue}break}if(M.child===P.child){for(P=M.child;P;){if(P===x)return L(M),u;if(P===S)return L(M),d;P=P.sibling}throw Error(o(188))}if(x.return!==S.return)x=M,S=P;else{for(var H=!1,Z=M.child;Z;){if(Z===x){H=!0,x=M,S=P;break}if(Z===S){H=!0,S=M,x=P;break}Z=Z.sibling}if(!H){for(Z=P.child;Z;){if(Z===x){H=!0,x=P,S=M;break}if(Z===S){H=!0,S=P,x=M;break}Z=Z.sibling}if(!H)throw Error(o(189))}}if(x.alternate!==S)throw Error(o(190))}if(x.tag!==3)throw Error(o(188));return x.stateNode.current===x?u:d}function G(u){return u=k(u),u!==null?z(u):null}function z(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=z(u);if(d!==null)return d;u=u.sibling}return null}function F(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var d=F(u);if(d!==null)return d}u=u.sibling}return null}var J=Array.isArray,q=e.getPublicInstance,ne=e.getRootHostContext,O=e.getChildHostContext,W=e.prepareForCommit,X=e.resetAfterCommit,se=e.createInstance,Q=e.appendInitialChild,re=e.finalizeInitialChildren,_e=e.prepareUpdate,be=e.shouldSetTextContent,te=e.createTextInstance,De=e.scheduleTimeout,Fe=e.cancelTimeout,Ie=e.noTimeout,Te=e.isPrimaryRenderer,Qe=e.supportsMutation,me=e.supportsPersistence,le=e.supportsHydration,Ae=e.getInstanceFromNode,Ce=e.preparePortalMount,Ee=e.getCurrentEventPriority,nt=e.detachDeletedInstance,Ke=e.supportsMicrotasks,Xe=e.scheduleMicrotask,st=e.supportsTestSelectors,lt=e.findFiberRoot,$=e.getBoundingRect,D=e.getTextContent,V=e.isHiddenSubtree,ie=e.matchAccessibilityRole,de=e.setFocusIfFocusable,ve=e.setupIntersectionObserver,Ge=e.appendChild,pe=e.appendChildToContainer,ue=e.commitTextUpdate,ze=e.commitMount,Pe=e.commitUpdate,Ne=e.insertBefore,et=e.insertInContainerBefore,$e=e.removeChild,Y=e.removeChildFromContainer,Se=e.resetTextContent,je=e.hideInstance,K=e.hideTextInstance,fe=e.unhideInstance,Me=e.unhideTextInstance,ke=e.clearContainer,rt=e.cloneInstance,wt=e.createContainerChildSet,Dt=e.appendChildToContainerChildSet,Ot=e.finalizeContainerChildren,Nn=e.replaceContainerChildren,Ct=e.cloneHiddenInstance,zn=e.cloneHiddenTextInstance,Ln=e.canHydrateInstance,_c=e.canHydrateTextInstance,Lf=e.canHydrateSuspenseInstance,wc=e.isSuspenseInstancePending,el=e.isSuspenseInstanceFallback,U=e.registerSuspenseInstanceRetry,ae=e.getNextHydratableSibling,ye=e.getFirstHydratableChild,oe=e.getFirstHydratableChildWithinContainer,xe=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,tt=e.hydrateTextInstance,mt=e.hydrateSuspenseInstance,gt=e.getNextHydratableInstanceAfterSuspenseInstance,pt=e.commitHydratedContainer,Et=e.commitHydratedSuspenseInstance,Tt=e.clearSuspenseBoundary,An=e.clearSuspenseBoundaryFromContainer,Dr=e.shouldDeleteUnhydratedTailInstances,ns=e.didNotMatchHydratedContainerTextInstance,so=e.didNotMatchHydratedTextInstance,an;function bt(u){if(an===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);an=d&&d[1]||""}return`
`+an+u}var tl=!1;function Mn(u,d){if(!u||tl)return"";tl=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Be){var S=Be}Reflect.construct(u,[],d)}else{try{d.call()}catch(Be){S=Be}u.call(d.prototype)}else{try{throw Error()}catch(Be){S=Be}u()}}catch(Be){if(Be&&S&&typeof Be.stack=="string"){for(var M=Be.stack.split(`
`),P=S.stack.split(`
`),H=M.length-1,Z=P.length-1;1<=H&&0<=Z&&M[H]!==P[Z];)Z--;for(;1<=H&&0<=Z;H--,Z--)if(M[H]!==P[Z]){if(H!==1||Z!==1)do if(H--,Z--,0>Z||M[H]!==P[Z]){var ge=`
`+M[H].replace(" at new "," at ");return u.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",u.displayName)),ge}while(1<=H&&0<=Z);break}}}finally{tl=!1,Error.prepareStackTrace=x}return(u=u?u.displayName||u.name:"")?bt(u):""}var oo=Object.prototype.hasOwnProperty,bc=[],Ti=-1;function Ri(u){return{current:u}}function _t(u){0>Ti||(u.current=bc[Ti],bc[Ti]=null,Ti--)}function Bt(u,d){Ti++,bc[Ti]=u.current,u.current=d}var Pi={},Ht=Ri(Pi),er=Ri(!1),ao=Pi;function lo(u,d){var x=u.type.contextTypes;if(!x)return Pi;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var M={},P;for(P in x)M[P]=d[P];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=M),M}function Jr(u){return u=u.childContextTypes,u!=null}function Ep(){_t(er),_t(Ht)}function yM(u,d,x){if(Ht.current!==Pi)throw Error(o(168));Bt(Ht,d),Bt(er,x)}function xM(u,d,x){var S=u.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return x;S=S.getChildContext();for(var M in S)if(!(M in d))throw Error(o(108,T(u)||"Unknown",M));return s({},x,S)}function Tp(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Pi,ao=Ht.current,Bt(Ht,u),Bt(er,er.current),!0}function _M(u,d,x){var S=u.stateNode;if(!S)throw Error(o(169));x?(u=xM(u,d,ao),S.__reactInternalMemoizedMergedChildContext=u,_t(er),_t(Ht),Bt(Ht,u)):_t(er),Bt(er,x)}var rs=Math.clz32?Math.clz32:gF,pF=Math.log,mF=Math.LN2;function gF(u){return u>>>=0,u===0?32:31-(pF(u)/mF|0)|0}var Rp=64,Pp=4194304;function Df(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Bp(u,d){var x=u.pendingLanes;if(x===0)return 0;var S=0,M=u.suspendedLanes,P=u.pingedLanes,H=x&268435455;if(H!==0){var Z=H&~M;Z!==0?S=Df(Z):(P&=H,P!==0&&(S=Df(P)))}else H=x&~M,H!==0?S=Df(H):P!==0&&(S=Df(P));if(S===0)return 0;if(d!==0&&d!==S&&!(d&M)&&(M=S&-S,P=d&-d,M>=P||M===16&&(P&4194240)!==0))return d;if(S&4&&(S|=x&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=S;0<d;)x=31-rs(d),M=1<<x,S|=u[x],d&=~M;return S}function vF(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yF(u,d){for(var x=u.suspendedLanes,S=u.pingedLanes,M=u.expirationTimes,P=u.pendingLanes;0<P;){var H=31-rs(P),Z=1<<H,ge=M[H];ge===-1?(!(Z&x)||Z&S)&&(M[H]=vF(Z,d)):ge<=d&&(u.expiredLanes|=Z),P&=~Z}}function Ty(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Ry(u){for(var d=[],x=0;31>x;x++)d.push(u);return d}function kf(u,d,x){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-rs(d),u[d]=x}function xF(u,d){var x=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<x;){var M=31-rs(x),P=1<<M;d[M]=0,S[M]=-1,u[M]=-1,x&=~P}}function Py(u,d){var x=u.entangledLanes|=d;for(u=u.entanglements;x;){var S=31-rs(x),M=1<<S;M&d|u[S]&d&&(u[S]|=d),x&=~M}}var Ft=0;function wM(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var By=i.unstable_scheduleCallback,bM=i.unstable_cancelCallback,_F=i.unstable_shouldYield,wF=i.unstable_requestPaint,tr=i.unstable_now,Iy=i.unstable_ImmediatePriority,bF=i.unstable_UserBlockingPriority,Ly=i.unstable_NormalPriority,SF=i.unstable_IdlePriority,Ip=null,Ps=null;function AF(u){if(Ps&&typeof Ps.onCommitFiberRoot=="function")try{Ps.onCommitFiberRoot(Ip,u,void 0,(u.current.flags&128)===128)}catch{}}function MF(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Bs=typeof Object.is=="function"?Object.is:MF,co=null,Lp=!1,Dy=!1;function SM(u){co===null?co=[u]:co.push(u)}function CF(u){Lp=!0,SM(u)}function Is(){if(!Dy&&co!==null){Dy=!0;var u=0,d=Ft;try{var x=co;for(Ft=1;u<x.length;u++){var S=x[u];do S=S(!0);while(S!==null)}co=null,Lp=!1}catch(M){throw co!==null&&(co=co.slice(u+1)),By(Iy,Is),M}finally{Ft=d,Dy=!1}}return null}var EF=a.ReactCurrentBatchConfig;function Dp(u,d){if(Bs(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var x=Object.keys(u),S=Object.keys(d);if(x.length!==S.length)return!1;for(S=0;S<x.length;S++){var M=x[S];if(!oo.call(d,M)||!Bs(u[M],d[M]))return!1}return!0}function TF(u){switch(u.tag){case 5:return bt(u.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 2:case 15:return u=Mn(u.type,!1),u;case 11:return u=Mn(u.type.render,!1),u;case 1:return u=Mn(u.type,!0),u;default:return""}}function is(u,d){if(u&&u.defaultProps){d=s({},d),u=u.defaultProps;for(var x in u)d[x]===void 0&&(d[x]=u[x]);return d}return d}var kp=Ri(null),Op=null,Sc=null,ky=null;function Oy(){ky=Sc=Op=null}function AM(u,d,x){Te?(Bt(kp,d._currentValue),d._currentValue=x):(Bt(kp,d._currentValue2),d._currentValue2=x)}function Fy(u){var d=kp.current;_t(kp),Te?u._currentValue=d:u._currentValue2=d}function Ny(u,d,x){for(;u!==null;){var S=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),u===x)break;u=u.return}}function Ac(u,d){Op=u,ky=Sc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&d&&(ci=!0),u.firstContext=null)}function Bi(u){var d=Te?u._currentValue:u._currentValue2;if(ky!==u)if(u={context:u,memoizedValue:d,next:null},Sc===null){if(Op===null)throw Error(o(308));Sc=u,Op.dependencies={lanes:0,firstContext:u}}else Sc=Sc.next=u;return d}var Ls=null,ea=!1;function zy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MM(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function uo(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function ta(u,d){var x=u.updateQueue;x!==null&&(x=x.shared,Un!==null&&u.mode&1&&!(Mt&2)?(u=x.interleaved,u===null?(d.next=d,Ls===null?Ls=[x]:Ls.push(x)):(d.next=u.next,u.next=d),x.interleaved=d):(u=x.pending,u===null?d.next=d:(d.next=u.next,u.next=d),x.pending=d))}function Fp(u,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var S=d.lanes;S&=u.pendingLanes,x|=S,d.lanes=x,Py(u,x)}}function CM(u,d){var x=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,x===S)){var M=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var H={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};P===null?M=P=H:P=P.next=H,x=x.next}while(x!==null);P===null?M=P=d:P=P.next=d}else M=P=d;x={baseState:S.baseState,firstBaseUpdate:M,lastBaseUpdate:P,shared:S.shared,effects:S.effects},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=d:u.next=d,x.lastBaseUpdate=d}function Np(u,d,x,S){var M=u.updateQueue;ea=!1;var P=M.firstBaseUpdate,H=M.lastBaseUpdate,Z=M.shared.pending;if(Z!==null){M.shared.pending=null;var ge=Z,Be=ge.next;ge.next=null,H===null?P=Be:H.next=Be,H=ge;var qe=u.alternate;qe!==null&&(qe=qe.updateQueue,Z=qe.lastBaseUpdate,Z!==H&&(Z===null?qe.firstBaseUpdate=Be:Z.next=Be,qe.lastBaseUpdate=ge))}if(P!==null){var vt=M.baseState;H=0,qe=Be=ge=null,Z=P;do{var ct=Z.lane,qt=Z.eventTime;if((S&ct)===ct){qe!==null&&(qe=qe.next={eventTime:qt,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var at=u,br=Z;switch(ct=d,qt=x,br.tag){case 1:if(at=br.payload,typeof at=="function"){vt=at.call(qt,vt,ct);break e}vt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=br.payload,ct=typeof at=="function"?at.call(qt,vt,ct):at,ct==null)break e;vt=s({},vt,ct);break e;case 2:ea=!0}}Z.callback!==null&&Z.lane!==0&&(u.flags|=64,ct=M.effects,ct===null?M.effects=[Z]:ct.push(Z))}else qt={eventTime:qt,lane:ct,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},qe===null?(Be=qe=qt,ge=vt):qe=qe.next=qt,H|=ct;if(Z=Z.next,Z===null){if(Z=M.shared.pending,Z===null)break;ct=Z,Z=ct.next,ct.next=null,M.lastBaseUpdate=ct,M.shared.pending=null}}while(1);if(qe===null&&(ge=vt),M.baseState=ge,M.firstBaseUpdate=Be,M.lastBaseUpdate=qe,d=M.shared.interleaved,d!==null){M=d;do H|=M.lane,M=M.next;while(M!==d)}else P===null&&(M.shared.lanes=0);Lc|=H,u.lanes=H,u.memoizedState=vt}}function EM(u,d,x){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var S=u[d],M=S.callback;if(M!==null){if(S.callback=null,S=x,typeof M!="function")throw Error(o(191,M));M.call(S)}}}var TM=new r.Component().refs;function Uy(u,d,x,S){d=u.memoizedState,x=x(S,d),x=x==null?d:s({},d,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var zp={isMounted:function(u){return(u=u._reactInternals)?I(u)===u:!1},enqueueSetState:function(u,d,x){u=u._reactInternals;var S=Or(),M=ia(u),P=uo(S,M);P.payload=d,x!=null&&(P.callback=x),ta(u,P),d=Oi(u,M,S),d!==null&&Fp(d,u,M)},enqueueReplaceState:function(u,d,x){u=u._reactInternals;var S=Or(),M=ia(u),P=uo(S,M);P.tag=1,P.payload=d,x!=null&&(P.callback=x),ta(u,P),d=Oi(u,M,S),d!==null&&Fp(d,u,M)},enqueueForceUpdate:function(u,d){u=u._reactInternals;var x=Or(),S=ia(u),M=uo(x,S);M.tag=2,d!=null&&(M.callback=d),ta(u,M),d=Oi(u,S,x),d!==null&&Fp(d,u,S)}};function RM(u,d,x,S,M,P,H){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,P,H):d.prototype&&d.prototype.isPureReactComponent?!Dp(x,S)||!Dp(M,P):!0}function PM(u,d,x){var S=!1,M=Pi,P=d.contextType;return typeof P=="object"&&P!==null?P=Bi(P):(M=Jr(d)?ao:Ht.current,S=d.contextTypes,P=(S=S!=null)?lo(u,M):Pi),d=new d(x,P),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zp,u.stateNode=d,d._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=M,u.__reactInternalMemoizedMaskedChildContext=P),d}function BM(u,d,x,S){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,S),d.state!==u&&zp.enqueueReplaceState(d,d.state,null)}function Gy(u,d,x,S){var M=u.stateNode;M.props=x,M.state=u.memoizedState,M.refs=TM,zy(u);var P=d.contextType;typeof P=="object"&&P!==null?M.context=Bi(P):(P=Jr(d)?ao:Ht.current,M.context=lo(u,P)),M.state=u.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(Uy(u,d,P,x),M.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(d=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),d!==M.state&&zp.enqueueReplaceState(M,M.state,null),Np(u,x,M,S),M.state=u.memoizedState),typeof M.componentDidMount=="function"&&(u.flags|=4194308)}var Mc=[],Cc=0,Up=null,Gp=0,Ii=[],Li=0,nl=null,fo=1,ho="";function rl(u,d){Mc[Cc++]=Gp,Mc[Cc++]=Up,Up=u,Gp=d}function IM(u,d,x){Ii[Li++]=fo,Ii[Li++]=ho,Ii[Li++]=nl,nl=u;var S=fo;u=ho;var M=32-rs(S)-1;S&=~(1<<M),x+=1;var P=32-rs(d)+M;if(30<P){var H=M-M%5;P=(S&(1<<H)-1).toString(32),S>>=H,M-=H,fo=1<<32-rs(d)+M|x<<M|S,ho=P+u}else fo=1<<P|x<<M|S,ho=u}function Hy(u){u.return!==null&&(rl(u,1),IM(u,1,0))}function $y(u){for(;u===Up;)Up=Mc[--Cc],Mc[Cc]=null,Gp=Mc[--Cc],Mc[Cc]=null;for(;u===nl;)nl=Ii[--Li],Ii[Li]=null,ho=Ii[--Li],Ii[Li]=null,fo=Ii[--Li],Ii[Li]=null}var ai=null,li=null,ln=!1,Of=!1,ss=null;function LM(u,d){var x=Fi(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=u,d=u.deletions,d===null?(u.deletions=[x],u.flags|=16):d.push(x)}function DM(u,d){switch(u.tag){case 5:return d=Ln(d,u.type,u.pendingProps),d!==null?(u.stateNode=d,ai=u,li=ye(d),!0):!1;case 6:return d=_c(d,u.pendingProps),d!==null?(u.stateNode=d,ai=u,li=null,!0):!1;case 13:if(d=Lf(d),d!==null){var x=nl!==null?{id:fo,overflow:ho}:null;return u.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=Fi(18,null,null,0),x.stateNode=d,x.return=u,u.child=x,ai=u,li=null,!0}return!1;default:return!1}}function Vy(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Wy(u){if(ln){var d=li;if(d){var x=d;if(!DM(u,d)){if(Vy(u))throw Error(o(418));d=ae(x);var S=ai;d&&DM(u,d)?LM(S,x):(u.flags=u.flags&-4097|2,ln=!1,ai=u)}}else{if(Vy(u))throw Error(o(418));u.flags=u.flags&-4097|2,ln=!1,ai=u}}}function kM(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ai=u}function Ff(u){if(!le||u!==ai)return!1;if(!ln)return kM(u),ln=!0,!1;if(u.tag!==3&&(u.tag!==5||Dr(u.type)&&!be(u.type,u.memoizedProps))){var d=li;if(d){if(Vy(u)){for(u=li;u;)u=ae(u);throw Error(o(418))}for(;d;)LM(u,d),d=ae(d)}}if(kM(u),u.tag===13){if(!le)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));li=gt(u)}else li=ai?ae(u.stateNode):null;return!0}function Ec(){le&&(li=ai=null,Of=ln=!1)}function jy(u){ss===null?ss=[u]:ss.push(u)}function Nf(u,d,x){if(u=x.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(o(309));var S=x.stateNode}if(!S)throw Error(o(147,u));var M=S,P=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===P?d.ref:(d=function(H){var Z=M.refs;Z===TM&&(Z=M.refs={}),H===null?delete Z[P]:Z[P]=H},d._stringRef=P,d)}if(typeof u!="string")throw Error(o(284));if(!x._owner)throw Error(o(290,u))}return u}function Hp(u,d){throw u=Object.prototype.toString.call(d),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function OM(u){var d=u._init;return d(u._payload)}function FM(u){function d(ce,ee){if(u){var he=ce.deletions;he===null?(ce.deletions=[ee],ce.flags|=16):he.push(ee)}}function x(ce,ee){if(!u)return null;for(;ee!==null;)d(ce,ee),ee=ee.sibling;return null}function S(ce,ee){for(ce=new Map;ee!==null;)ee.key!==null?ce.set(ee.key,ee):ce.set(ee.index,ee),ee=ee.sibling;return ce}function M(ce,ee){return ce=oa(ce,ee),ce.index=0,ce.sibling=null,ce}function P(ce,ee,he){return ce.index=he,u?(he=ce.alternate,he!==null?(he=he.index,he<ee?(ce.flags|=2,ee):he):(ce.flags|=2,ee)):(ce.flags|=1048576,ee)}function H(ce){return u&&ce.alternate===null&&(ce.flags|=2),ce}function Z(ce,ee,he,Je){return ee===null||ee.tag!==6?(ee=Rx(he,ce.mode,Je),ee.return=ce,ee):(ee=M(ee,he),ee.return=ce,ee)}function ge(ce,ee,he,Je){var ot=he.type;return ot===f?qe(ce,ee,he.props.children,Je,he.key):ee!==null&&(ee.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&OM(ot)===ee.type)?(Je=M(ee,he.props),Je.ref=Nf(ce,ee,he),Je.return=ce,Je):(Je=xm(he.type,he.key,he.props,null,ce.mode,Je),Je.ref=Nf(ce,ee,he),Je.return=ce,Je)}function Be(ce,ee,he,Je){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==he.containerInfo||ee.stateNode.implementation!==he.implementation?(ee=Px(he,ce.mode,Je),ee.return=ce,ee):(ee=M(ee,he.children||[]),ee.return=ce,ee)}function qe(ce,ee,he,Je,ot){return ee===null||ee.tag!==7?(ee=ul(he,ce.mode,Je,ot),ee.return=ce,ee):(ee=M(ee,he),ee.return=ce,ee)}function vt(ce,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Rx(""+ee,ce.mode,he),ee.return=ce,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:return he=xm(ee.type,ee.key,ee.props,null,ce.mode,he),he.ref=Nf(ce,null,ee),he.return=ce,he;case c:return ee=Px(ee,ce.mode,he),ee.return=ce,ee;case b:var Je=ee._init;return vt(ce,Je(ee._payload),he)}if(J(ee)||E(ee))return ee=ul(ee,ce.mode,he,null),ee.return=ce,ee;Hp(ce,ee)}return null}function ct(ce,ee,he,Je){var ot=ee!==null?ee.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return ot!==null?null:Z(ce,ee,""+he,Je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===ot?ge(ce,ee,he,Je):null;case c:return he.key===ot?Be(ce,ee,he,Je):null;case b:return ot=he._init,ct(ce,ee,ot(he._payload),Je)}if(J(he)||E(he))return ot!==null?null:qe(ce,ee,he,Je,null);Hp(ce,he)}return null}function qt(ce,ee,he,Je,ot){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ce=ce.get(he)||null,Z(ee,ce,""+Je,ot);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:return ce=ce.get(Je.key===null?he:Je.key)||null,ge(ee,ce,Je,ot);case c:return ce=ce.get(Je.key===null?he:Je.key)||null,Be(ee,ce,Je,ot);case b:var St=Je._init;return qt(ce,ee,he,St(Je._payload),ot)}if(J(Je)||E(Je))return ce=ce.get(he)||null,qe(ee,ce,Je,ot,null);Hp(ee,Je)}return null}function at(ce,ee,he,Je){for(var ot=null,St=null,yt=ee,Nt=ee=0,rr=null;yt!==null&&Nt<he.length;Nt++){yt.index>Nt?(rr=yt,yt=null):rr=yt.sibling;var zt=ct(ce,yt,he[Nt],Je);if(zt===null){yt===null&&(yt=rr);break}u&&yt&&zt.alternate===null&&d(ce,yt),ee=P(zt,ee,Nt),St===null?ot=zt:St.sibling=zt,St=zt,yt=rr}if(Nt===he.length)return x(ce,yt),ln&&rl(ce,Nt),ot;if(yt===null){for(;Nt<he.length;Nt++)yt=vt(ce,he[Nt],Je),yt!==null&&(ee=P(yt,ee,Nt),St===null?ot=yt:St.sibling=yt,St=yt);return ln&&rl(ce,Nt),ot}for(yt=S(ce,yt);Nt<he.length;Nt++)rr=qt(yt,ce,Nt,he[Nt],Je),rr!==null&&(u&&rr.alternate!==null&&yt.delete(rr.key===null?Nt:rr.key),ee=P(rr,ee,Nt),St===null?ot=rr:St.sibling=rr,St=rr);return u&&yt.forEach(function(aa){return d(ce,aa)}),ln&&rl(ce,Nt),ot}function br(ce,ee,he,Je){var ot=E(he);if(typeof ot!="function")throw Error(o(150));if(he=ot.call(he),he==null)throw Error(o(151));for(var St=ot=null,yt=ee,Nt=ee=0,rr=null,zt=he.next();yt!==null&&!zt.done;Nt++,zt=he.next()){yt.index>Nt?(rr=yt,yt=null):rr=yt.sibling;var aa=ct(ce,yt,zt.value,Je);if(aa===null){yt===null&&(yt=rr);break}u&&yt&&aa.alternate===null&&d(ce,yt),ee=P(aa,ee,Nt),St===null?ot=aa:St.sibling=aa,St=aa,yt=rr}if(zt.done)return x(ce,yt),ln&&rl(ce,Nt),ot;if(yt===null){for(;!zt.done;Nt++,zt=he.next())zt=vt(ce,zt.value,Je),zt!==null&&(ee=P(zt,ee,Nt),St===null?ot=zt:St.sibling=zt,St=zt);return ln&&rl(ce,Nt),ot}for(yt=S(ce,yt);!zt.done;Nt++,zt=he.next())zt=qt(yt,ce,Nt,zt.value,Je),zt!==null&&(u&&zt.alternate!==null&&yt.delete(zt.key===null?Nt:zt.key),ee=P(zt,ee,Nt),St===null?ot=zt:St.sibling=zt,St=zt);return u&&yt.forEach(function(iN){return d(ce,iN)}),ln&&rl(ce,Nt),ot}function Ni(ce,ee,he,Je){if(typeof he=="object"&&he!==null&&he.type===f&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var ot=he.key,St=ee;St!==null;){if(St.key===ot){if(ot=he.type,ot===f){if(St.tag===7){x(ce,St.sibling),ee=M(St,he.props.children),ee.return=ce,ce=ee;break e}}else if(St.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&OM(ot)===St.type){x(ce,St.sibling),ee=M(St,he.props),ee.ref=Nf(ce,St,he),ee.return=ce,ce=ee;break e}x(ce,St);break}else d(ce,St);St=St.sibling}he.type===f?(ee=ul(he.props.children,ce.mode,Je,he.key),ee.return=ce,ce=ee):(Je=xm(he.type,he.key,he.props,null,ce.mode,Je),Je.ref=Nf(ce,ee,he),Je.return=ce,ce=Je)}return H(ce);case c:e:{for(St=he.key;ee!==null;){if(ee.key===St)if(ee.tag===4&&ee.stateNode.containerInfo===he.containerInfo&&ee.stateNode.implementation===he.implementation){x(ce,ee.sibling),ee=M(ee,he.children||[]),ee.return=ce,ce=ee;break e}else{x(ce,ee);break}else d(ce,ee);ee=ee.sibling}ee=Px(he,ce.mode,Je),ee.return=ce,ce=ee}return H(ce);case b:return St=he._init,Ni(ce,ee,St(he._payload),Je)}if(J(he))return at(ce,ee,he,Je);if(E(he))return br(ce,ee,he,Je);Hp(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ee!==null&&ee.tag===6?(x(ce,ee.sibling),ee=M(ee,he),ee.return=ce,ce=ee):(x(ce,ee),ee=Rx(he,ce.mode,Je),ee.return=ce,ce=ee),H(ce)):x(ce,ee)}return Ni}var Tc=FM(!0),NM=FM(!1),zf={},Di=Ri(zf),Uf=Ri(zf),Rc=Ri(zf);function Ds(u){if(u===zf)throw Error(o(174));return u}function Jy(u,d){Bt(Rc,d),Bt(Uf,u),Bt(Di,zf),u=ne(d),_t(Di),Bt(Di,u)}function Pc(){_t(Di),_t(Uf),_t(Rc)}function zM(u){var d=Ds(Rc.current),x=Ds(Di.current);d=O(x,u.type,d),x!==d&&(Bt(Uf,u),Bt(Di,d))}function Ky(u){Uf.current===u&&(_t(Di),_t(Uf))}var hn=Ri(0);function $p(u){for(var d=u;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||wc(x)||el(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Xy=[];function Yy(){for(var u=0;u<Xy.length;u++){var d=Xy[u];Te?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Xy.length=0}var Vp=a.ReactCurrentDispatcher,ki=a.ReactCurrentBatchConfig,Bc=0,Cn=null,xr=null,nr=null,Wp=!1,Gf=!1,Hf=0,RF=0;function _r(){throw Error(o(321))}function Qy(u,d){if(d===null)return!1;for(var x=0;x<d.length&&x<u.length;x++)if(!Bs(u[x],d[x]))return!1;return!0}function qy(u,d,x,S,M,P){if(Bc=P,Cn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Vp.current=u===null||u.memoizedState===null?LF:DF,u=x(S,M),Gf){P=0;do{if(Gf=!1,Hf=0,25<=P)throw Error(o(301));P+=1,nr=xr=null,d.updateQueue=null,Vp.current=kF,u=x(S,M)}while(Gf)}if(Vp.current=Yp,d=xr!==null&&xr.next!==null,Bc=0,nr=xr=Cn=null,Wp=!1,d)throw Error(o(300));return u}function Zy(){var u=Hf!==0;return Hf=0,u}function po(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Cn.memoizedState=nr=u:nr=nr.next=u,nr}function ks(){if(xr===null){var u=Cn.alternate;u=u!==null?u.memoizedState:null}else u=xr.next;var d=nr===null?Cn.memoizedState:nr.next;if(d!==null)nr=d,xr=u;else{if(u===null)throw Error(o(310));xr=u,u={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},nr===null?Cn.memoizedState=nr=u:nr=nr.next=u}return nr}function il(u,d){return typeof d=="function"?d(u):d}function jp(u){var d=ks(),x=d.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=u;var S=xr,M=S.baseQueue,P=x.pending;if(P!==null){if(M!==null){var H=M.next;M.next=P.next,P.next=H}S.baseQueue=M=P,x.pending=null}if(M!==null){P=M.next,S=S.baseState;var Z=H=null,ge=null,Be=P;do{var qe=Be.lane;if((Bc&qe)===qe)ge!==null&&(ge=ge.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),S=Be.hasEagerState?Be.eagerState:u(S,Be.action);else{var vt={lane:qe,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};ge===null?(Z=ge=vt,H=S):ge=ge.next=vt,Cn.lanes|=qe,Lc|=qe}Be=Be.next}while(Be!==null&&Be!==P);ge===null?H=S:ge.next=Z,Bs(S,d.memoizedState)||(ci=!0),d.memoizedState=S,d.baseState=H,d.baseQueue=ge,x.lastRenderedState=S}if(u=x.interleaved,u!==null){M=u;do P=M.lane,Cn.lanes|=P,Lc|=P,M=M.next;while(M!==u)}else M===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function Jp(u){var d=ks(),x=d.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=u;var S=x.dispatch,M=x.pending,P=d.memoizedState;if(M!==null){x.pending=null;var H=M=M.next;do P=u(P,H.action),H=H.next;while(H!==M);Bs(P,d.memoizedState)||(ci=!0),d.memoizedState=P,d.baseQueue===null&&(d.baseState=P),x.lastRenderedState=P}return[P,S]}function UM(){}function GM(u,d){var x=Cn,S=ks(),M=d(),P=!Bs(S.memoizedState,M);if(P&&(S.memoizedState=M,ci=!0),S=S.queue,Vf(VM.bind(null,x,S,u),[u]),S.getSnapshot!==d||P||nr!==null&&nr.memoizedState.tag&1){if(x.flags|=2048,$f(9,$M.bind(null,x,S,M,d),void 0,null),Un===null)throw Error(o(349));Bc&30||HM(x,d,M)}return M}function HM(u,d,x){u.flags|=16384,u={getSnapshot:d,value:x},d=Cn.updateQueue,d===null?(d={lastEffect:null,stores:null},Cn.updateQueue=d,d.stores=[u]):(x=d.stores,x===null?d.stores=[u]:x.push(u))}function $M(u,d,x,S){d.value=x,d.getSnapshot=S,WM(d)&&Oi(u,1,-1)}function VM(u,d,x){return x(function(){WM(d)&&Oi(u,1,-1)})}function WM(u){var d=u.getSnapshot;u=u.value;try{var x=d();return!Bs(u,x)}catch{return!0}}function ex(u){var d=po();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:u},d.queue=u,u=u.dispatch=IF.bind(null,Cn,u),[d.memoizedState,u]}function $f(u,d,x,S){return u={tag:u,create:d,destroy:x,deps:S,next:null},d=Cn.updateQueue,d===null?(d={lastEffect:null,stores:null},Cn.updateQueue=d,d.lastEffect=u.next=u):(x=d.lastEffect,x===null?d.lastEffect=u.next=u:(S=x.next,x.next=u,u.next=S,d.lastEffect=u)),u}function jM(){return ks().memoizedState}function Kp(u,d,x,S){var M=po();Cn.flags|=u,M.memoizedState=$f(1|d,x,void 0,S===void 0?null:S)}function Xp(u,d,x,S){var M=ks();S=S===void 0?null:S;var P=void 0;if(xr!==null){var H=xr.memoizedState;if(P=H.destroy,S!==null&&Qy(S,H.deps)){M.memoizedState=$f(d,x,P,S);return}}Cn.flags|=u,M.memoizedState=$f(1|d,x,P,S)}function tx(u,d){return Kp(8390656,8,u,d)}function Vf(u,d){return Xp(2048,8,u,d)}function JM(u,d){return Xp(4,2,u,d)}function KM(u,d){return Xp(4,4,u,d)}function XM(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function YM(u,d,x){return x=x!=null?x.concat([u]):null,Xp(4,4,XM.bind(null,d,u),x)}function nx(){}function QM(u,d){var x=ks();d=d===void 0?null:d;var S=x.memoizedState;return S!==null&&d!==null&&Qy(d,S[1])?S[0]:(x.memoizedState=[u,d],u)}function qM(u,d){var x=ks();d=d===void 0?null:d;var S=x.memoizedState;return S!==null&&d!==null&&Qy(d,S[1])?S[0]:(u=u(),x.memoizedState=[u,d],u)}function PF(u,d){var x=Ft;Ft=x!==0&&4>x?x:4,u(!0);var S=ki.transition;ki.transition={};try{u(!1),d()}finally{Ft=x,ki.transition=S}}function ZM(){return ks().memoizedState}function BF(u,d,x){var S=ia(u);x={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null},eC(u)?tC(d,x):(nC(u,d,x),x=Or(),u=Oi(u,S,x),u!==null&&rC(u,d,S))}function IF(u,d,x){var S=ia(u),M={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null};if(eC(u))tC(d,M);else{nC(u,d,M);var P=u.alternate;if(u.lanes===0&&(P===null||P.lanes===0)&&(P=d.lastRenderedReducer,P!==null))try{var H=d.lastRenderedState,Z=P(H,x);if(M.hasEagerState=!0,M.eagerState=Z,Bs(Z,H))return}catch{}finally{}x=Or(),u=Oi(u,S,x),u!==null&&rC(u,d,S)}}function eC(u){var d=u.alternate;return u===Cn||d!==null&&d===Cn}function tC(u,d){Gf=Wp=!0;var x=u.pending;x===null?d.next=d:(d.next=x.next,x.next=d),u.pending=d}function nC(u,d,x){Un!==null&&u.mode&1&&!(Mt&2)?(u=d.interleaved,u===null?(x.next=x,Ls===null?Ls=[d]:Ls.push(d)):(x.next=u.next,u.next=x),d.interleaved=x):(u=d.pending,u===null?x.next=x:(x.next=u.next,u.next=x),d.pending=x)}function rC(u,d,x){if(x&4194240){var S=d.lanes;S&=u.pendingLanes,x|=S,d.lanes=x,Py(u,x)}}var Yp={readContext:Bi,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},LF={readContext:Bi,useCallback:function(u,d){return po().memoizedState=[u,d===void 0?null:d],u},useContext:Bi,useEffect:tx,useImperativeHandle:function(u,d,x){return x=x!=null?x.concat([u]):null,Kp(4194308,4,XM.bind(null,d,u),x)},useLayoutEffect:function(u,d){return Kp(4194308,4,u,d)},useInsertionEffect:function(u,d){return Kp(4,2,u,d)},useMemo:function(u,d){var x=po();return d=d===void 0?null:d,u=u(),x.memoizedState=[u,d],u},useReducer:function(u,d,x){var S=po();return d=x!==void 0?x(d):d,S.memoizedState=S.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},S.queue=u,u=u.dispatch=BF.bind(null,Cn,u),[S.memoizedState,u]},useRef:function(u){var d=po();return u={current:u},d.memoizedState=u},useState:ex,useDebugValue:nx,useDeferredValue:function(u){var d=ex(u),x=d[0],S=d[1];return tx(function(){var M=ki.transition;ki.transition={};try{S(u)}finally{ki.transition=M}},[u]),x},useTransition:function(){var u=ex(!1),d=u[0];return u=PF.bind(null,u[1]),po().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,x){var S=Cn,M=po();if(ln){if(x===void 0)throw Error(o(407));x=x()}else{if(x=d(),Un===null)throw Error(o(349));Bc&30||HM(S,d,x)}M.memoizedState=x;var P={value:x,getSnapshot:d};return M.queue=P,tx(VM.bind(null,S,P,u),[u]),S.flags|=2048,$f(9,$M.bind(null,S,P,x,d),void 0,null),x},useId:function(){var u=po(),d=Un.identifierPrefix;if(ln){var x=ho,S=fo;x=(S&~(1<<32-rs(S)-1)).toString(32)+x,d=":"+d+"R"+x,x=Hf++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=RF++,d=":"+d+"r"+x.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},DF={readContext:Bi,useCallback:QM,useContext:Bi,useEffect:Vf,useImperativeHandle:YM,useInsertionEffect:JM,useLayoutEffect:KM,useMemo:qM,useReducer:jp,useRef:jM,useState:function(){return jp(il)},useDebugValue:nx,useDeferredValue:function(u){var d=jp(il),x=d[0],S=d[1];return Vf(function(){var M=ki.transition;ki.transition={};try{S(u)}finally{ki.transition=M}},[u]),x},useTransition:function(){var u=jp(il)[0],d=ks().memoizedState;return[u,d]},useMutableSource:UM,useSyncExternalStore:GM,useId:ZM,unstable_isNewReconciler:!1},kF={readContext:Bi,useCallback:QM,useContext:Bi,useEffect:Vf,useImperativeHandle:YM,useInsertionEffect:JM,useLayoutEffect:KM,useMemo:qM,useReducer:Jp,useRef:jM,useState:function(){return Jp(il)},useDebugValue:nx,useDeferredValue:function(u){var d=Jp(il),x=d[0],S=d[1];return Vf(function(){var M=ki.transition;ki.transition={};try{S(u)}finally{ki.transition=M}},[u]),x},useTransition:function(){var u=Jp(il)[0],d=ks().memoizedState;return[u,d]},useMutableSource:UM,useSyncExternalStore:GM,useId:ZM,unstable_isNewReconciler:!1};function rx(u,d){try{var x="",S=d;do x+=TF(S),S=S.return;while(S);var M=x}catch(P){M=`
Error generating stack: `+P.message+`
`+P.stack}return{value:u,source:d,stack:M}}function ix(u,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var OF=typeof WeakMap=="function"?WeakMap:Map;function iC(u,d,x){x=uo(-1,x),x.tag=3,x.payload={element:null};var S=d.value;return x.callback=function(){dm||(dm=!0,bx=S),ix(u,d)},x}function sC(u,d,x){x=uo(-1,x),x.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var M=d.value;x.payload=function(){return S(M)},x.callback=function(){ix(u,d)}}var P=u.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(x.callback=function(){ix(u,d),typeof S!="function"&&(na===null?na=new Set([this]):na.add(this));var H=d.stack;this.componentDidCatch(d.value,{componentStack:H!==null?H:""})}),x}function oC(u,d,x){var S=u.pingCache;if(S===null){S=u.pingCache=new OF;var M=new Set;S.set(d,M)}else M=S.get(d),M===void 0&&(M=new Set,S.set(d,M));M.has(x)||(M.add(x),u=YF.bind(null,u,d,x),d.then(u,u))}function aC(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function lC(u,d,x,S,M){return u.mode&1?(u.flags|=65536,u.lanes=M,u):(u===d?u.flags|=65536:(u.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=uo(-1,1),d.tag=2,ta(x,d))),x.lanes|=1),u)}function Os(u){u.flags|=4}function cC(u,d){if(u!==null&&u.child===d.child)return!0;if(d.flags&16)return!1;for(u=d.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Wf,jf,Qp,qp;if(Qe)Wf=function(u,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)Q(u,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},jf=function(){},Qp=function(u,d,x,S,M){if(u=u.memoizedProps,u!==S){var P=d.stateNode,H=Ds(Di.current);x=_e(P,x,u,S,M,H),(d.updateQueue=x)&&Os(d)}},qp=function(u,d,x,S){x!==S&&Os(d)};else if(me){Wf=function(u,d,x,S){for(var M=d.child;M!==null;){if(M.tag===5){var P=M.stateNode;x&&S&&(P=Ct(P,M.type,M.memoizedProps,M)),Q(u,P)}else if(M.tag===6)P=M.stateNode,x&&S&&(P=zn(P,M.memoizedProps,M)),Q(u,P);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)P=M.child,P!==null&&(P.return=M),Wf(u,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var uC=function(u,d,x,S){for(var M=d.child;M!==null;){if(M.tag===5){var P=M.stateNode;x&&S&&(P=Ct(P,M.type,M.memoizedProps,M)),Dt(u,P)}else if(M.tag===6)P=M.stateNode,x&&S&&(P=zn(P,M.memoizedProps,M)),Dt(u,P);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)P=M.child,P!==null&&(P.return=M),uC(u,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};jf=function(u,d){var x=d.stateNode;if(!cC(u,d)){u=x.containerInfo;var S=wt(u);uC(S,d,!1,!1),x.pendingChildren=S,Os(d),Ot(u,S)}},Qp=function(u,d,x,S,M){var P=u.stateNode,H=u.memoizedProps;if((u=cC(u,d))&&H===S)d.stateNode=P;else{var Z=d.stateNode,ge=Ds(Di.current),Be=null;H!==S&&(Be=_e(Z,x,H,S,M,ge)),u&&Be===null?d.stateNode=P:(P=rt(P,Be,x,H,S,d,u,Z),re(P,x,S,M,ge)&&Os(d),d.stateNode=P,u?Os(d):Wf(P,d,!1,!1))}},qp=function(u,d,x,S){x!==S?(u=Ds(Rc.current),x=Ds(Di.current),d.stateNode=te(S,u,x,d),Os(d)):d.stateNode=u.stateNode}}else jf=function(){},Qp=function(){},qp=function(){};function Jf(u,d){if(!ln)switch(u.tailMode){case"hidden":d=u.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function wr(u){var d=u.alternate!==null&&u.alternate.child===u.child,x=0,S=0;if(d)for(var M=u.child;M!==null;)x|=M.lanes|M.childLanes,S|=M.subtreeFlags&14680064,S|=M.flags&14680064,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)x|=M.lanes|M.childLanes,S|=M.subtreeFlags,S|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=S,u.childLanes=x,d}function FF(u,d,x){var S=d.pendingProps;switch($y(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(d),null;case 1:return Jr(d.type)&&Ep(),wr(d),null;case 3:return S=d.stateNode,Pc(),_t(er),_t(Ht),Yy(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Ff(d)?Os(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,ss!==null&&(Mx(ss),ss=null))),jf(u,d),wr(d),null;case 5:Ky(d),x=Ds(Rc.current);var M=d.type;if(u!==null&&d.stateNode!=null)Qp(u,d,M,S,x),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(o(166));return wr(d),null}if(u=Ds(Di.current),Ff(d)){if(!le)throw Error(o(175));u=Ve(d.stateNode,d.type,d.memoizedProps,x,u,d,!Of),d.updateQueue=u,u!==null&&Os(d)}else{var P=se(M,S,x,u,d);Wf(P,d,!1,!1),d.stateNode=P,re(P,M,S,x,u)&&Os(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return wr(d),null;case 6:if(u&&d.stateNode!=null)qp(u,d,u.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(o(166));if(u=Ds(Rc.current),x=Ds(Di.current),Ff(d)){if(!le)throw Error(o(176));if(u=d.stateNode,S=d.memoizedProps,(x=tt(u,S,d,!Of))&&(M=ai,M!==null))switch(P=(M.mode&1)!==0,M.tag){case 3:ns(M.stateNode.containerInfo,u,S,P);break;case 5:so(M.type,M.memoizedProps,M.stateNode,u,S,P)}x&&Os(d)}else d.stateNode=te(S,u,x,d)}return wr(d),null;case 13:if(_t(hn),S=d.memoizedState,ln&&li!==null&&d.mode&1&&!(d.flags&128)){for(u=li;u;)u=ae(u);return Ec(),d.flags|=98560,d}if(S!==null&&S.dehydrated!==null){if(S=Ff(d),u===null){if(!S)throw Error(o(318));if(!le)throw Error(o(344));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));mt(u,d)}else Ec(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return wr(d),null}return ss!==null&&(Mx(ss),ss=null),d.flags&128?(d.lanes=x,d):(S=S!==null,x=!1,u===null?Ff(d):x=u.memoizedState!==null,S&&!x&&(d.child.flags|=8192,d.mode&1&&(u===null||hn.current&1?jn===0&&(jn=3):Ex())),d.updateQueue!==null&&(d.flags|=4),wr(d),null);case 4:return Pc(),jf(u,d),u===null&&Ce(d.stateNode.containerInfo),wr(d),null;case 10:return Fy(d.type._context),wr(d),null;case 17:return Jr(d.type)&&Ep(),wr(d),null;case 19:if(_t(hn),M=d.memoizedState,M===null)return wr(d),null;if(S=(d.flags&128)!==0,P=M.rendering,P===null)if(S)Jf(M,!1);else{if(jn!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(P=$p(u),P!==null){for(d.flags|=128,Jf(M,!1),u=P.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),d.subtreeFlags=0,u=x,S=d.child;S!==null;)x=S,M=u,x.flags&=14680066,P=x.alternate,P===null?(x.childLanes=0,x.lanes=M,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=P.childLanes,x.lanes=P.lanes,x.child=P.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=P.memoizedProps,x.memoizedState=P.memoizedState,x.updateQueue=P.updateQueue,x.type=P.type,M=P.dependencies,x.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),S=S.sibling;return Bt(hn,hn.current&1|2),d.child}u=u.sibling}M.tail!==null&&tr()>wx&&(d.flags|=128,S=!0,Jf(M,!1),d.lanes=4194304)}else{if(!S)if(u=$p(P),u!==null){if(d.flags|=128,S=!0,u=u.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),Jf(M,!0),M.tail===null&&M.tailMode==="hidden"&&!P.alternate&&!ln)return wr(d),null}else 2*tr()-M.renderingStartTime>wx&&x!==1073741824&&(d.flags|=128,S=!0,Jf(M,!1),d.lanes=4194304);M.isBackwards?(P.sibling=d.child,d.child=P):(u=M.last,u!==null?u.sibling=P:d.child=P,M.last=P)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=tr(),d.sibling=null,u=hn.current,Bt(hn,S?u&1|2:u&1),d):(wr(d),null);case 22:case 23:return Cx(),S=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(d.flags|=8192),S&&d.mode&1?ui&1073741824&&(wr(d),Qe&&d.subtreeFlags&6&&(d.flags|=8192)):wr(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var NF=a.ReactCurrentOwner,ci=!1;function kr(u,d,x,S){d.child=u===null?NM(d,null,x,S):Tc(d,u.child,x,S)}function fC(u,d,x,S,M){x=x.render;var P=d.ref;return Ac(d,M),S=qy(u,d,x,S,P,M),x=Zy(),u!==null&&!ci?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~M,mo(u,d,M)):(ln&&x&&Hy(d),d.flags|=1,kr(u,d,S,M),d.child)}function dC(u,d,x,S,M){if(u===null){var P=x.type;return typeof P=="function"&&!Tx(P)&&P.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=P,hC(u,d,P,S,M)):(u=xm(x.type,null,S,d,d.mode,M),u.ref=d.ref,u.return=d,d.child=u)}if(P=u.child,!(u.lanes&M)){var H=P.memoizedProps;if(x=x.compare,x=x!==null?x:Dp,x(H,S)&&u.ref===d.ref)return mo(u,d,M)}return d.flags|=1,u=oa(P,S),u.ref=d.ref,u.return=d,d.child=u}function hC(u,d,x,S,M){if(u!==null&&Dp(u.memoizedProps,S)&&u.ref===d.ref)if(ci=!1,(u.lanes&M)!==0)u.flags&131072&&(ci=!0);else return d.lanes=u.lanes,mo(u,d,M);return sx(u,d,x,S,M)}function pC(u,d,x){var S=d.pendingProps,M=S.children,P=u!==null?u.memoizedState:null;if(S.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Bt(Ic,ui),ui|=x;else if(x&1073741824)d.memoizedState={baseLanes:0,cachePool:null},S=P!==null?P.baseLanes:x,Bt(Ic,ui),ui|=S;else return u=P!==null?P.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null},d.updateQueue=null,Bt(Ic,ui),ui|=u,null;else P!==null?(S=P.baseLanes|x,d.memoizedState=null):S=x,Bt(Ic,ui),ui|=S;return kr(u,d,M,x),d.child}function mC(u,d){var x=d.ref;(u===null&&x!==null||u!==null&&u.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function sx(u,d,x,S,M){var P=Jr(x)?ao:Ht.current;return P=lo(d,P),Ac(d,M),x=qy(u,d,x,S,P,M),S=Zy(),u!==null&&!ci?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~M,mo(u,d,M)):(ln&&S&&Hy(d),d.flags|=1,kr(u,d,x,M),d.child)}function gC(u,d,x,S,M){if(Jr(x)){var P=!0;Tp(d)}else P=!1;if(Ac(d,M),d.stateNode===null)u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),PM(d,x,S),Gy(d,x,S,M),S=!0;else if(u===null){var H=d.stateNode,Z=d.memoizedProps;H.props=Z;var ge=H.context,Be=x.contextType;typeof Be=="object"&&Be!==null?Be=Bi(Be):(Be=Jr(x)?ao:Ht.current,Be=lo(d,Be));var qe=x.getDerivedStateFromProps,vt=typeof qe=="function"||typeof H.getSnapshotBeforeUpdate=="function";vt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==S||ge!==Be)&&BM(d,H,S,Be),ea=!1;var ct=d.memoizedState;H.state=ct,Np(d,S,H,M),ge=d.memoizedState,Z!==S||ct!==ge||er.current||ea?(typeof qe=="function"&&(Uy(d,x,qe,S),ge=d.memoizedState),(Z=ea||RM(d,x,Z,S,ct,ge,Be))?(vt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(d.flags|=4194308)):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=ge),H.props=S,H.state=ge,H.context=Be,S=Z):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{H=d.stateNode,MM(u,d),Z=d.memoizedProps,Be=d.type===d.elementType?Z:is(d.type,Z),H.props=Be,vt=d.pendingProps,ct=H.context,ge=x.contextType,typeof ge=="object"&&ge!==null?ge=Bi(ge):(ge=Jr(x)?ao:Ht.current,ge=lo(d,ge));var qt=x.getDerivedStateFromProps;(qe=typeof qt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==vt||ct!==ge)&&BM(d,H,S,ge),ea=!1,ct=d.memoizedState,H.state=ct,Np(d,S,H,M);var at=d.memoizedState;Z!==vt||ct!==at||er.current||ea?(typeof qt=="function"&&(Uy(d,x,qt,S),at=d.memoizedState),(Be=ea||RM(d,x,Be,S,ct,at,ge)||!1)?(qe||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(S,at,ge),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(S,at,ge)),typeof H.componentDidUpdate=="function"&&(d.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof H.componentDidUpdate!="function"||Z===u.memoizedProps&&ct===u.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&ct===u.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=at),H.props=S,H.state=at,H.context=ge,S=Be):(typeof H.componentDidUpdate!="function"||Z===u.memoizedProps&&ct===u.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&ct===u.memoizedState||(d.flags|=1024),S=!1)}return ox(u,d,x,S,P,M)}function ox(u,d,x,S,M,P){mC(u,d);var H=(d.flags&128)!==0;if(!S&&!H)return M&&_M(d,x,!1),mo(u,d,P);S=d.stateNode,NF.current=d;var Z=H&&typeof x.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,u!==null&&H?(d.child=Tc(d,u.child,null,P),d.child=Tc(d,null,Z,P)):kr(u,d,Z,P),d.memoizedState=S.state,M&&_M(d,x,!0),d.child}function vC(u){var d=u.stateNode;d.pendingContext?yM(u,d.pendingContext,d.pendingContext!==d.context):d.context&&yM(u,d.context,!1),Jy(u,d.containerInfo)}function yC(u,d,x,S,M){return Ec(),jy(M),d.flags|=256,kr(u,d,x,S),d.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function em(u){return{baseLanes:u,cachePool:null}}function xC(u,d,x){var S=d.pendingProps,M=hn.current,P=!1,H=(d.flags&128)!==0,Z;if((Z=H)||(Z=u!==null&&u.memoizedState===null?!1:(M&2)!==0),Z?(P=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(M|=1),Bt(hn,M&1),u===null)return Wy(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(d.mode&1?el(u)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(M=S.children,u=S.fallback,P?(S=d.mode,P=d.child,M={mode:"hidden",children:M},!(S&1)&&P!==null?(P.childLanes=0,P.pendingProps=M):P=_m(M,S,0,null),u=ul(u,S,x,null),P.return=d,u.return=d,P.sibling=u,d.child=P,d.child.memoizedState=em(x),d.memoizedState=Zp,u):ax(d,M));if(M=u.memoizedState,M!==null){if(Z=M.dehydrated,Z!==null){if(H)return d.flags&256?(d.flags&=-257,tm(u,d,x,Error(o(422)))):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(P=S.fallback,M=d.mode,S=_m({mode:"visible",children:S.children},M,0,null),P=ul(P,M,x,null),P.flags|=2,S.return=d,P.return=d,S.sibling=P,d.child=S,d.mode&1&&Tc(d,u.child,null,x),d.child.memoizedState=em(x),d.memoizedState=Zp,P);if(!(d.mode&1))d=tm(u,d,x,null);else if(el(Z))d=tm(u,d,x,Error(o(419)));else if(S=(x&u.childLanes)!==0,ci||S){if(S=Un,S!==null){switch(x&-x){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}S=P&(S.suspendedLanes|x)?0:P,S!==0&&S!==M.retryLane&&(M.retryLane=S,Oi(u,S,-1))}Ex(),d=tm(u,d,x,Error(o(421)))}else wc(Z)?(d.flags|=128,d.child=u.child,d=QF.bind(null,u),U(Z,d),d=null):(x=M.treeContext,le&&(li=xe(Z),ai=d,ln=!0,ss=null,Of=!1,x!==null&&(Ii[Li++]=fo,Ii[Li++]=ho,Ii[Li++]=nl,fo=x.id,ho=x.overflow,nl=d)),d=ax(d,d.pendingProps.children),d.flags|=4096);return d}return P?(S=wC(u,d,S.children,S.fallback,x),P=d.child,M=u.child.memoizedState,P.memoizedState=M===null?em(x):{baseLanes:M.baseLanes|x,cachePool:null},P.childLanes=u.childLanes&~x,d.memoizedState=Zp,S):(x=_C(u,d,S.children,x),d.memoizedState=null,x)}return P?(S=wC(u,d,S.children,S.fallback,x),P=d.child,M=u.child.memoizedState,P.memoizedState=M===null?em(x):{baseLanes:M.baseLanes|x,cachePool:null},P.childLanes=u.childLanes&~x,d.memoizedState=Zp,S):(x=_C(u,d,S.children,x),d.memoizedState=null,x)}function ax(u,d){return d=_m({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function _C(u,d,x,S){var M=u.child;return u=M.sibling,x=oa(M,{mode:"visible",children:x}),!(d.mode&1)&&(x.lanes=S),x.return=d,x.sibling=null,u!==null&&(S=d.deletions,S===null?(d.deletions=[u],d.flags|=16):S.push(u)),d.child=x}function wC(u,d,x,S,M){var P=d.mode;u=u.child;var H=u.sibling,Z={mode:"hidden",children:x};return!(P&1)&&d.child!==u?(x=d.child,x.childLanes=0,x.pendingProps=Z,d.deletions=null):(x=oa(u,Z),x.subtreeFlags=u.subtreeFlags&14680064),H!==null?S=oa(H,S):(S=ul(S,P,M,null),S.flags|=2),S.return=d,x.return=d,x.sibling=S,d.child=x,S}function tm(u,d,x,S){return S!==null&&jy(S),Tc(d,u.child,null,x),u=ax(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function bC(u,d,x){u.lanes|=d;var S=u.alternate;S!==null&&(S.lanes|=d),Ny(u.return,d,x)}function lx(u,d,x,S,M){var P=u.memoizedState;P===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:x,tailMode:M}:(P.isBackwards=d,P.rendering=null,P.renderingStartTime=0,P.last=S,P.tail=x,P.tailMode=M)}function SC(u,d,x){var S=d.pendingProps,M=S.revealOrder,P=S.tail;if(kr(u,d,S.children,x),S=hn.current,S&2)S=S&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&bC(u,x,d);else if(u.tag===19)bC(u,x,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(Bt(hn,S),!(d.mode&1))d.memoizedState=null;else switch(M){case"forwards":for(x=d.child,M=null;x!==null;)u=x.alternate,u!==null&&$p(u)===null&&(M=x),x=x.sibling;x=M,x===null?(M=d.child,d.child=null):(M=x.sibling,x.sibling=null),lx(d,!1,M,x,P);break;case"backwards":for(x=null,M=d.child,d.child=null;M!==null;){if(u=M.alternate,u!==null&&$p(u)===null){d.child=M;break}u=M.sibling,M.sibling=x,x=M,M=u}lx(d,!0,x,null,P);break;case"together":lx(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function mo(u,d,x){if(u!==null&&(d.dependencies=u.dependencies),Lc|=d.lanes,!(x&d.childLanes))return null;if(u!==null&&d.child!==u.child)throw Error(o(153));if(d.child!==null){for(u=d.child,x=oa(u,u.pendingProps),d.child=x,x.return=d;u.sibling!==null;)u=u.sibling,x=x.sibling=oa(u,u.pendingProps),x.return=d;x.sibling=null}return d.child}function zF(u,d,x){switch(d.tag){case 3:vC(d),Ec();break;case 5:zM(d);break;case 1:Jr(d.type)&&Tp(d);break;case 4:Jy(d,d.stateNode.containerInfo);break;case 10:AM(d,d.type._context,d.memoizedProps.value);break;case 13:var S=d.memoizedState;if(S!==null)return S.dehydrated!==null?(Bt(hn,hn.current&1),d.flags|=128,null):x&d.child.childLanes?xC(u,d,x):(Bt(hn,hn.current&1),u=mo(u,d,x),u!==null?u.sibling:null);Bt(hn,hn.current&1);break;case 19:if(S=(x&d.childLanes)!==0,u.flags&128){if(S)return SC(u,d,x);d.flags|=128}var M=d.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Bt(hn,hn.current),S)break;return null;case 22:case 23:return d.lanes=0,pC(u,d,x)}return mo(u,d,x)}function UF(u,d){switch($y(d),d.tag){case 1:return Jr(d.type)&&Ep(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Pc(),_t(er),_t(Ht),Yy(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 5:return Ky(d),null;case 13:if(_t(hn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(o(340));Ec()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return _t(hn),null;case 4:return Pc(),null;case 10:return Fy(d.type._context),null;case 22:case 23:return Cx(),null;case 24:return null;default:return null}}var nm=!1,sl=!1,GF=typeof WeakSet=="function"?WeakSet:Set,We=null;function rm(u,d){var x=u.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(S){Yr(u,d,S)}else x.current=null}function cx(u,d,x){try{x()}catch(S){Yr(u,d,S)}}var AC=!1;function HF(u,d){for(W(u.containerInfo),We=d;We!==null;)if(u=We,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,We=d;else for(;We!==null;){u=We;try{var x=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,M=x.memoizedState,P=u.stateNode,H=P.getSnapshotBeforeUpdate(u.elementType===u.type?S:is(u.type,S),M);P.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Qe&&ke(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){Yr(u,u.return,Z)}if(d=u.sibling,d!==null){d.return=u.return,We=d;break}We=u.return}return x=AC,AC=!1,x}function ol(u,d,x){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var M=S=S.next;do{if((M.tag&u)===u){var P=M.destroy;M.destroy=void 0,P!==void 0&&cx(d,x,P)}M=M.next}while(M!==S)}}function Kf(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&u)===u){var S=x.create;x.destroy=S()}x=x.next}while(x!==d)}}function ux(u){var d=u.ref;if(d!==null){var x=u.stateNode;switch(u.tag){case 5:u=q(x);break;default:u=x}typeof d=="function"?d(u):d.current=u}}function MC(u,d,x){if(Ps&&typeof Ps.onCommitFiberUnmount=="function")try{Ps.onCommitFiberUnmount(Ip,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(u=d.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var S=u=u.next;do{var M=S,P=M.destroy;M=M.tag,P!==void 0&&(M&2||M&4)&&cx(d,x,P),S=S.next}while(S!==u)}break;case 1:if(rm(d,x),u=d.stateNode,typeof u.componentWillUnmount=="function")try{u.props=d.memoizedProps,u.state=d.memoizedState,u.componentWillUnmount()}catch(H){Yr(d,x,H)}break;case 5:rm(d,x);break;case 4:Qe?BC(u,d,x):me&&me&&(d=d.stateNode.containerInfo,x=wt(d),Nn(d,x))}}function CC(u,d,x){for(var S=d;;)if(MC(u,S,x),S.child===null||Qe&&S.tag===4){if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function EC(u){var d=u.alternate;d!==null&&(u.alternate=null,EC(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&nt(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function TC(u){return u.tag===5||u.tag===3||u.tag===4}function RC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||TC(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function PC(u){if(Qe){e:{for(var d=u.return;d!==null;){if(TC(d))break e;d=d.return}throw Error(o(160))}var x=d;switch(x.tag){case 5:d=x.stateNode,x.flags&32&&(Se(d),x.flags&=-33),x=RC(u),dx(u,x,d);break;case 3:case 4:d=x.stateNode.containerInfo,x=RC(u),fx(u,x,d);break;default:throw Error(o(161))}}}function fx(u,d,x){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?et(x,u,d):pe(x,u);else if(S!==4&&(u=u.child,u!==null))for(fx(u,d,x),u=u.sibling;u!==null;)fx(u,d,x),u=u.sibling}function dx(u,d,x){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?Ne(x,u,d):Ge(x,u);else if(S!==4&&(u=u.child,u!==null))for(dx(u,d,x),u=u.sibling;u!==null;)dx(u,d,x),u=u.sibling}function BC(u,d,x){for(var S=d,M=!1,P,H;;){if(!M){M=S.return;e:for(;;){if(M===null)throw Error(o(160));switch(P=M.stateNode,M.tag){case 5:H=!1;break e;case 3:P=P.containerInfo,H=!0;break e;case 4:P=P.containerInfo,H=!0;break e}M=M.return}M=!0}if(S.tag===5||S.tag===6)CC(u,S,x),H?Y(P,S.stateNode):$e(P,S.stateNode);else if(S.tag===18)H?An(P,S.stateNode):Tt(P,S.stateNode);else if(S.tag===4){if(S.child!==null){P=S.stateNode.containerInfo,H=!0,S.child.return=S,S=S.child;continue}}else if(MC(u,S,x),S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return,S.tag===4&&(M=!1)}S.sibling.return=S.return,S=S.sibling}}function hx(u,d){if(Qe){switch(d.tag){case 0:case 11:case 14:case 15:ol(3,d,d.return),Kf(3,d),ol(5,d,d.return);return;case 1:return;case 5:var x=d.stateNode;if(x!=null){var S=d.memoizedProps;u=u!==null?u.memoizedProps:S;var M=d.type,P=d.updateQueue;d.updateQueue=null,P!==null&&Pe(x,P,M,u,S,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));x=d.memoizedProps,ue(d.stateNode,u!==null?u.memoizedProps:x,x);return;case 3:le&&u!==null&&u.memoizedState.isDehydrated&&pt(d.stateNode.containerInfo);return;case 12:return;case 13:im(d);return;case 19:im(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:ol(3,d,d.return),Kf(3,d),ol(5,d,d.return);return;case 12:return;case 13:im(d);return;case 19:im(d);return;case 3:le&&u!==null&&u.memoizedState.isDehydrated&&pt(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(me){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Nn(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function im(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var x=u.stateNode;x===null&&(x=u.stateNode=new GF),d.forEach(function(S){var M=qF.bind(null,u,S);x.has(S)||(x.add(S),S.then(M,M))})}}function $F(u,d){for(We=d;We!==null;){d=We;var x=d.deletions;if(x!==null)for(var S=0;S<x.length;S++){var M=x[S];try{var P=u;Qe?BC(P,M,d):CC(P,M,d);var H=M.alternate;H!==null&&(H.return=null),M.return=null}catch(ot){Yr(M,d,ot)}}if(x=d.child,d.subtreeFlags&12854&&x!==null)x.return=d,We=x;else for(;We!==null;){d=We;try{var Z=d.flags;if(Z&32&&Qe&&Se(d.stateNode),Z&512){var ge=d.alternate;if(ge!==null){var Be=ge.ref;Be!==null&&(typeof Be=="function"?Be(null):Be.current=null)}}if(Z&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var qe=d.alternate;(qe===null||qe.memoizedState===null)&&(_x=tr())}break;case 22:var vt=d.memoizedState!==null,ct=d.alternate,qt=ct!==null&&ct.memoizedState!==null;if(x=d,Qe){e:if(S=x,M=vt,P=null,Qe)for(var at=S;;){if(at.tag===5){if(P===null){P=at;var br=at.stateNode;M?je(br):fe(at.stateNode,at.memoizedProps)}}else if(at.tag===6){if(P===null){var Ni=at.stateNode;M?K(Ni):Me(Ni,at.memoizedProps)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===S)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===S)break;for(;at.sibling===null;){if(at.return===null||at.return===S)break e;P===at&&(P=null),at=at.return}P===at&&(P=null),at.sibling.return=at.return,at=at.sibling}}if(vt&&!qt&&x.mode&1){We=x;for(var ce=x.child;ce!==null;){for(x=We=ce;We!==null;){S=We;var ee=S.child;switch(S.tag){case 0:case 11:case 14:case 15:ol(4,S,S.return);break;case 1:rm(S,S.return);var he=S.stateNode;if(typeof he.componentWillUnmount=="function"){var Je=S.return;try{he.props=S.memoizedProps,he.state=S.memoizedState,he.componentWillUnmount()}catch(ot){Yr(S,Je,ot)}}break;case 5:rm(S,S.return);break;case 22:if(S.memoizedState!==null){DC(x);continue}}ee!==null?(ee.return=S,We=ee):DC(x)}ce=ce.sibling}}}switch(Z&4102){case 2:PC(d),d.flags&=-3;break;case 6:PC(d),d.flags&=-3,hx(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,hx(d.alternate,d);break;case 4:hx(d.alternate,d)}}catch(ot){Yr(d,d.return,ot)}if(x=d.sibling,x!==null){x.return=d.return,We=x;break}We=d.return}}}function VF(u,d,x){We=u,IC(u)}function IC(u,d,x){for(var S=(u.mode&1)!==0;We!==null;){var M=We,P=M.child;if(M.tag===22&&S){var H=M.memoizedState!==null||nm;if(!H){var Z=M.alternate,ge=Z!==null&&Z.memoizedState!==null||sl;Z=nm;var Be=sl;if(nm=H,(sl=ge)&&!Be)for(We=M;We!==null;)H=We,ge=H.child,H.tag===22&&H.memoizedState!==null?kC(M):ge!==null?(ge.return=H,We=ge):kC(M);for(;P!==null;)We=P,IC(P),P=P.sibling;We=M,nm=Z,sl=Be}LC(u)}else M.subtreeFlags&8772&&P!==null?(P.return=M,We=P):LC(u)}}function LC(u){for(;We!==null;){var d=We;if(d.flags&8772){var x=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:sl||Kf(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!sl)if(x===null)S.componentDidMount();else{var M=d.elementType===d.type?x.memoizedProps:is(d.type,x.memoizedProps);S.componentDidUpdate(M,x.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var P=d.updateQueue;P!==null&&EM(d,P,S);break;case 3:var H=d.updateQueue;if(H!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=q(d.child.stateNode);break;case 1:x=d.child.stateNode}EM(d,H,x)}break;case 5:var Z=d.stateNode;x===null&&d.flags&4&&ze(Z,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&d.memoizedState===null){var ge=d.alternate;if(ge!==null){var Be=ge.memoizedState;if(Be!==null){var qe=Be.dehydrated;qe!==null&&Et(qe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}sl||d.flags&512&&ux(d)}catch(vt){Yr(d,d.return,vt)}}if(d===u){We=null;break}if(x=d.sibling,x!==null){x.return=d.return,We=x;break}We=d.return}}function DC(u){for(;We!==null;){var d=We;if(d===u){We=null;break}var x=d.sibling;if(x!==null){x.return=d.return,We=x;break}We=d.return}}function kC(u){for(;We!==null;){var d=We;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{Kf(4,d)}catch(ge){Yr(d,x,ge)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var M=d.return;try{S.componentDidMount()}catch(ge){Yr(d,M,ge)}}var P=d.return;try{ux(d)}catch(ge){Yr(d,P,ge)}break;case 5:var H=d.return;try{ux(d)}catch(ge){Yr(d,H,ge)}}}catch(ge){Yr(d,d.return,ge)}if(d===u){We=null;break}var Z=d.sibling;if(Z!==null){Z.return=d.return,We=Z;break}We=d.return}}var sm=0,om=1,am=2,lm=3,cm=4;if(typeof Symbol=="function"&&Symbol.for){var Xf=Symbol.for;sm=Xf("selector.component"),om=Xf("selector.has_pseudo_class"),am=Xf("selector.role"),lm=Xf("selector.test_id"),cm=Xf("selector.text")}function px(u){var d=Ae(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(u=lt(u),u===null)throw Error(o(362));return u.stateNode.current}function mx(u,d){switch(d.$$typeof){case sm:if(u.type===d.value)return!0;break;case om:e:{d=d.value,u=[u,0];for(var x=0;x<u.length;){var S=u[x++],M=u[x++],P=d[M];if(S.tag!==5||!V(S)){for(;P!=null&&mx(S,P);)M++,P=d[M];if(M===d.length){d=!0;break e}else for(S=S.child;S!==null;)u.push(S,M),S=S.sibling}}d=!1}return d;case am:if(u.tag===5&&ie(u.stateNode,d.value))return!0;break;case cm:if((u.tag===5||u.tag===6)&&(u=D(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case lm:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function gx(u){switch(u.$$typeof){case sm:return"<"+(B(u.value)||"Unknown")+">";case om:return":has("+(gx(u)||"")+")";case am:return'[role="'+u.value+'"]';case cm:return'"'+u.value+'"';case lm:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function OC(u,d){var x=[];u=[u,0];for(var S=0;S<u.length;){var M=u[S++],P=u[S++],H=d[P];if(M.tag!==5||!V(M)){for(;H!=null&&mx(M,H);)P++,H=d[P];if(P===d.length)x.push(M);else for(M=M.child;M!==null;)u.push(M,P),M=M.sibling}}return x}function vx(u,d){if(!st)throw Error(o(363));u=px(u),u=OC(u,d),d=[],u=Array.from(u);for(var x=0;x<u.length;){var S=u[x++];if(S.tag===5)V(S)||d.push(S.stateNode);else for(S=S.child;S!==null;)u.push(S),S=S.sibling}return d}var WF=Math.ceil,um=a.ReactCurrentDispatcher,yx=a.ReactCurrentOwner,Dn=a.ReactCurrentBatchConfig,Mt=0,Un=null,Gn=null,fr=0,ui=0,Ic=Ri(0),jn=0,Yf=null,Lc=0,fm=0,xx=0,Qf=null,Kr=null,_x=0,wx=1/0;function Dc(){wx=tr()+500}var dm=!1,bx=null,na=null,hm=!1,ra=null,pm=0,qf=0,Sx=null,mm=-1,gm=0;function Or(){return Mt&6?tr():mm!==-1?mm:mm=tr()}function ia(u){return u.mode&1?Mt&2&&fr!==0?fr&-fr:EF.transition!==null?(gm===0&&(u=Rp,Rp<<=1,!(Rp&4194240)&&(Rp=64),gm=u),gm):(u=Ft,u!==0?u:Ee()):1}function Oi(u,d,x){if(50<qf)throw qf=0,Sx=null,Error(o(185));var S=vm(u,d);return S===null?null:(kf(S,d,x),(!(Mt&2)||S!==Un)&&(S===Un&&(!(Mt&2)&&(fm|=d),jn===4&&sa(S,fr)),Xr(S,x),d===1&&Mt===0&&!(u.mode&1)&&(Dc(),Lp&&Is())),S)}function vm(u,d){u.lanes|=d;var x=u.alternate;for(x!==null&&(x.lanes|=d),x=u,u=u.return;u!==null;)u.childLanes|=d,x=u.alternate,x!==null&&(x.childLanes|=d),x=u,u=u.return;return x.tag===3?x.stateNode:null}function Xr(u,d){var x=u.callbackNode;yF(u,d);var S=Bp(u,u===Un?fr:0);if(S===0)x!==null&&bM(x),u.callbackNode=null,u.callbackPriority=0;else if(d=S&-S,u.callbackPriority!==d){if(x!=null&&bM(x),d===1)u.tag===0?CF(NC.bind(null,u)):SM(NC.bind(null,u)),Ke?Xe(function(){Mt===0&&Is()}):By(Iy,Is),x=null;else{switch(wM(S)){case 1:x=Iy;break;case 4:x=bF;break;case 16:x=Ly;break;case 536870912:x=SF;break;default:x=Ly}x=JC(x,FC.bind(null,u))}u.callbackPriority=d,u.callbackNode=x}}function FC(u,d){if(mm=-1,gm=0,Mt&6)throw Error(o(327));var x=u.callbackNode;if(cl()&&u.callbackNode!==x)return null;var S=Bp(u,u===Un?fr:0);if(S===0)return null;if(S&30||S&u.expiredLanes||d)d=ym(u,S);else{d=S;var M=Mt;Mt|=2;var P=GC();(Un!==u||fr!==d)&&(Dc(),al(u,d));do try{KF();break}catch(Z){UC(u,Z)}while(1);Oy(),um.current=P,Mt=M,Gn!==null?d=0:(Un=null,fr=0,d=jn)}if(d!==0){if(d===2&&(M=Ty(u),M!==0&&(S=M,d=Ax(u,M))),d===1)throw x=Yf,al(u,0),sa(u,S),Xr(u,tr()),x;if(d===6)sa(u,S);else{if(M=u.current.alternate,!(S&30)&&!jF(M)&&(d=ym(u,S),d===2&&(P=Ty(u),P!==0&&(S=P,d=Ax(u,P))),d===1))throw x=Yf,al(u,0),sa(u,S),Xr(u,tr()),x;switch(u.finishedWork=M,u.finishedLanes=S,d){case 0:case 1:throw Error(o(345));case 2:ll(u,Kr);break;case 3:if(sa(u,S),(S&130023424)===S&&(d=_x+500-tr(),10<d)){if(Bp(u,0)!==0)break;if(M=u.suspendedLanes,(M&S)!==S){Or(),u.pingedLanes|=u.suspendedLanes&M;break}u.timeoutHandle=De(ll.bind(null,u,Kr),d);break}ll(u,Kr);break;case 4:if(sa(u,S),(S&4194240)===S)break;for(d=u.eventTimes,M=-1;0<S;){var H=31-rs(S);P=1<<H,H=d[H],H>M&&(M=H),S&=~P}if(S=M,S=tr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*WF(S/1960))-S,10<S){u.timeoutHandle=De(ll.bind(null,u,Kr),S);break}ll(u,Kr);break;case 5:ll(u,Kr);break;default:throw Error(o(329))}}}return Xr(u,tr()),u.callbackNode===x?FC.bind(null,u):null}function Ax(u,d){var x=Qf;return u.current.memoizedState.isDehydrated&&(al(u,d).flags|=256),u=ym(u,d),u!==2&&(d=Kr,Kr=x,d!==null&&Mx(d)),u}function Mx(u){Kr===null?Kr=u:Kr.push.apply(Kr,u)}function jF(u){for(var d=u;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var S=0;S<x.length;S++){var M=x[S],P=M.getSnapshot;M=M.value;try{if(!Bs(P(),M))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function sa(u,d){for(d&=~xx,d&=~fm,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var x=31-rs(d),S=1<<x;u[x]=-1,d&=~S}}function NC(u){if(Mt&6)throw Error(o(327));cl();var d=Bp(u,0);if(!(d&1))return Xr(u,tr()),null;var x=ym(u,d);if(u.tag!==0&&x===2){var S=Ty(u);S!==0&&(d=S,x=Ax(u,S))}if(x===1)throw x=Yf,al(u,0),sa(u,d),Xr(u,tr()),x;if(x===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,ll(u,Kr),Xr(u,tr()),null}function zC(u){ra!==null&&ra.tag===0&&!(Mt&6)&&cl();var d=Mt;Mt|=1;var x=Dn.transition,S=Ft;try{if(Dn.transition=null,Ft=1,u)return u()}finally{Ft=S,Dn.transition=x,Mt=d,!(Mt&6)&&Is()}}function Cx(){ui=Ic.current,_t(Ic)}function al(u,d){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;if(x!==Ie&&(u.timeoutHandle=Ie,Fe(x)),Gn!==null)for(x=Gn.return;x!==null;){var S=x;switch($y(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Ep();break;case 3:Pc(),_t(er),_t(Ht),Yy();break;case 5:Ky(S);break;case 4:Pc();break;case 13:_t(hn);break;case 19:_t(hn);break;case 10:Fy(S.type._context);break;case 22:case 23:Cx()}x=x.return}if(Un=u,Gn=u=oa(u.current,null),fr=ui=d,jn=0,Yf=null,xx=fm=Lc=0,Kr=Qf=null,Ls!==null){for(d=0;d<Ls.length;d++)if(x=Ls[d],S=x.interleaved,S!==null){x.interleaved=null;var M=S.next,P=x.pending;if(P!==null){var H=P.next;P.next=M,S.next=H}x.pending=S}Ls=null}return u}function UC(u,d){do{var x=Gn;try{if(Oy(),Vp.current=Yp,Wp){for(var S=Cn.memoizedState;S!==null;){var M=S.queue;M!==null&&(M.pending=null),S=S.next}Wp=!1}if(Bc=0,nr=xr=Cn=null,Gf=!1,Hf=0,yx.current=null,x===null||x.return===null){jn=1,Yf=d,Gn=null;break}e:{var P=u,H=x.return,Z=x,ge=d;if(d=fr,Z.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Be=ge,qe=Z,vt=qe.tag;if(!(qe.mode&1)&&(vt===0||vt===11||vt===15)){var ct=qe.alternate;ct?(qe.updateQueue=ct.updateQueue,qe.memoizedState=ct.memoizedState,qe.lanes=ct.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var qt=aC(H);if(qt!==null){qt.flags&=-257,lC(qt,H,Z,P,d),qt.mode&1&&oC(P,Be,d),d=qt,ge=Be;var at=d.updateQueue;if(at===null){var br=new Set;br.add(ge),d.updateQueue=br}else at.add(ge);break e}else{if(!(d&1)){oC(P,Be,d),Ex();break e}ge=Error(o(426))}}else if(ln&&Z.mode&1){var Ni=aC(H);if(Ni!==null){!(Ni.flags&65536)&&(Ni.flags|=256),lC(Ni,H,Z,P,d),jy(ge);break e}}P=ge,jn!==4&&(jn=2),Qf===null?Qf=[P]:Qf.push(P),ge=rx(ge,Z),Z=H;do{switch(Z.tag){case 3:Z.flags|=65536,d&=-d,Z.lanes|=d;var ce=iC(Z,ge,d);CM(Z,ce);break e;case 1:P=ge;var ee=Z.type,he=Z.stateNode;if(!(Z.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(na===null||!na.has(he)))){Z.flags|=65536,d&=-d,Z.lanes|=d;var Je=sC(Z,P,d);CM(Z,Je);break e}}Z=Z.return}while(Z!==null)}$C(x)}catch(ot){d=ot,Gn===x&&x!==null&&(Gn=x=x.return);continue}break}while(1)}function GC(){var u=um.current;return um.current=Yp,u===null?Yp:u}function Ex(){(jn===0||jn===3||jn===2)&&(jn=4),Un===null||!(Lc&268435455)&&!(fm&268435455)||sa(Un,fr)}function ym(u,d){var x=Mt;Mt|=2;var S=GC();Un===u&&fr===d||al(u,d);do try{JF();break}catch(M){UC(u,M)}while(1);if(Oy(),Mt=x,um.current=S,Gn!==null)throw Error(o(261));return Un=null,fr=0,jn}function JF(){for(;Gn!==null;)HC(Gn)}function KF(){for(;Gn!==null&&!_F();)HC(Gn)}function HC(u){var d=jC(u.alternate,u,ui);u.memoizedProps=u.pendingProps,d===null?$C(u):Gn=d,yx.current=null}function $C(u){var d=u;do{var x=d.alternate;if(u=d.return,d.flags&32768){if(x=UF(x,d),x!==null){x.flags&=32767,Gn=x;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{jn=6,Gn=null;return}}else if(x=FF(x,d,ui),x!==null){Gn=x;return}if(d=d.sibling,d!==null){Gn=d;return}Gn=d=u}while(d!==null);jn===0&&(jn=5)}function ll(u,d){var x=Ft,S=Dn.transition;try{Dn.transition=null,Ft=1,XF(u,d,x)}finally{Dn.transition=S,Ft=x}return null}function XF(u,d,x){do cl();while(ra!==null);if(Mt&6)throw Error(o(327));var S=u.finishedWork,M=u.finishedLanes;if(S===null)return null;if(u.finishedWork=null,u.finishedLanes=0,S===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var P=S.lanes|S.childLanes;if(xF(u,P),u===Un&&(Gn=Un=null,fr=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||hm||(hm=!0,JC(Ly,function(){return cl(),null})),P=(S.flags&15990)!==0,S.subtreeFlags&15990||P){P=Dn.transition,Dn.transition=null;var H=Ft;Ft=1;var Z=Mt;Mt|=4,yx.current=null,HF(u,S),$F(u,S),X(u.containerInfo),u.current=S,VF(S),wF(),Mt=Z,Ft=H,Dn.transition=P}else u.current=S;if(hm&&(hm=!1,ra=u,pm=M),P=u.pendingLanes,P===0&&(na=null),AF(S.stateNode),Xr(u,tr()),d!==null)for(x=u.onRecoverableError,S=0;S<d.length;S++)x(d[S]);if(dm)throw dm=!1,u=bx,bx=null,u;return pm&1&&u.tag!==0&&cl(),P=u.pendingLanes,P&1?u===Sx?qf++:(qf=0,Sx=u):qf=0,Is(),null}function cl(){if(ra!==null){var u=wM(pm),d=Dn.transition,x=Ft;try{if(Dn.transition=null,Ft=16>u?16:u,ra===null)var S=!1;else{if(u=ra,ra=null,pm=0,Mt&6)throw Error(o(331));var M=Mt;for(Mt|=4,We=u.current;We!==null;){var P=We,H=P.child;if(We.flags&16){var Z=P.deletions;if(Z!==null){for(var ge=0;ge<Z.length;ge++){var Be=Z[ge];for(We=Be;We!==null;){var qe=We;switch(qe.tag){case 0:case 11:case 15:ol(8,qe,P)}var vt=qe.child;if(vt!==null)vt.return=qe,We=vt;else for(;We!==null;){qe=We;var ct=qe.sibling,qt=qe.return;if(EC(qe),qe===Be){We=null;break}if(ct!==null){ct.return=qt,We=ct;break}We=qt}}}var at=P.alternate;if(at!==null){var br=at.child;if(br!==null){at.child=null;do{var Ni=br.sibling;br.sibling=null,br=Ni}while(br!==null)}}We=P}}if(P.subtreeFlags&2064&&H!==null)H.return=P,We=H;else e:for(;We!==null;){if(P=We,P.flags&2048)switch(P.tag){case 0:case 11:case 15:ol(9,P,P.return)}var ce=P.sibling;if(ce!==null){ce.return=P.return,We=ce;break e}We=P.return}}var ee=u.current;for(We=ee;We!==null;){H=We;var he=H.child;if(H.subtreeFlags&2064&&he!==null)he.return=H,We=he;else e:for(H=ee;We!==null;){if(Z=We,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:Kf(9,Z)}}catch(ot){Yr(Z,Z.return,ot)}if(Z===H){We=null;break e}var Je=Z.sibling;if(Je!==null){Je.return=Z.return,We=Je;break e}We=Z.return}}if(Mt=M,Is(),Ps&&typeof Ps.onPostCommitFiberRoot=="function")try{Ps.onPostCommitFiberRoot(Ip,u)}catch{}S=!0}return S}finally{Ft=x,Dn.transition=d}}return!1}function VC(u,d,x){d=rx(x,d),d=iC(u,d,1),ta(u,d),d=Or(),u=vm(u,1),u!==null&&(kf(u,1,d),Xr(u,d))}function Yr(u,d,x){if(u.tag===3)VC(u,u,x);else for(;d!==null;){if(d.tag===3){VC(d,u,x);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(na===null||!na.has(S))){u=rx(x,u),u=sC(d,u,1),ta(d,u),u=Or(),d=vm(d,1),d!==null&&(kf(d,1,u),Xr(d,u));break}}d=d.return}}function YF(u,d,x){var S=u.pingCache;S!==null&&S.delete(d),d=Or(),u.pingedLanes|=u.suspendedLanes&x,Un===u&&(fr&x)===x&&(jn===4||jn===3&&(fr&130023424)===fr&&500>tr()-_x?al(u,0):xx|=x),Xr(u,d)}function WC(u,d){d===0&&(u.mode&1?(d=Pp,Pp<<=1,!(Pp&130023424)&&(Pp=4194304)):d=1);var x=Or();u=vm(u,d),u!==null&&(kf(u,d,x),Xr(u,x))}function QF(u){var d=u.memoizedState,x=0;d!==null&&(x=d.retryLane),WC(u,x)}function qF(u,d){var x=0;switch(u.tag){case 13:var S=u.stateNode,M=u.memoizedState;M!==null&&(x=M.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(d),WC(u,x)}var jC;jC=function(u,d,x){if(u!==null)if(u.memoizedProps!==d.pendingProps||er.current)ci=!0;else{if(!(u.lanes&x)&&!(d.flags&128))return ci=!1,zF(u,d,x);ci=!!(u.flags&131072)}else ci=!1,ln&&d.flags&1048576&&IM(d,Gp,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps;var M=lo(d,Ht.current);Ac(d,x),M=qy(null,d,S,u,M,x);var P=Zy();return d.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Jr(S)?(P=!0,Tp(d)):P=!1,d.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,zy(d),M.updater=zp,d.stateNode=M,M._reactInternals=d,Gy(d,S,u,x),d=ox(null,d,S,!0,P,x)):(d.tag=0,ln&&P&&Hy(d),kr(null,d,M,x),d=d.child),d;case 16:S=d.elementType;e:{switch(u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps,M=S._init,S=M(S._payload),d.type=S,M=d.tag=eN(S),u=is(S,u),M){case 0:d=sx(null,d,S,u,x);break e;case 1:d=gC(null,d,S,u,x);break e;case 11:d=fC(null,d,S,u,x);break e;case 14:d=dC(null,d,S,is(S.type,u),x);break e}throw Error(o(306,S,""))}return d;case 0:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:is(S,M),sx(u,d,S,M,x);case 1:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:is(S,M),gC(u,d,S,M,x);case 3:e:{if(vC(d),u===null)throw Error(o(387));S=d.pendingProps,P=d.memoizedState,M=P.element,MM(u,d),Np(d,S,null,x);var H=d.memoizedState;if(S=H.element,le&&P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:H.cache,transitions:H.transitions},d.updateQueue.baseState=P,d.memoizedState=P,d.flags&256){M=Error(o(423)),d=yC(u,d,S,x,M);break e}else if(S!==M){M=Error(o(424)),d=yC(u,d,S,x,M);break e}else for(le&&(li=oe(d.stateNode.containerInfo),ai=d,ln=!0,ss=null,Of=!1),x=NM(d,null,S,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ec(),S===M){d=mo(u,d,x);break e}kr(u,d,S,x)}d=d.child}return d;case 5:return zM(d),u===null&&Wy(d),S=d.type,M=d.pendingProps,P=u!==null?u.memoizedProps:null,H=M.children,be(S,M)?H=null:P!==null&&be(S,P)&&(d.flags|=32),mC(u,d),kr(u,d,H,x),d.child;case 6:return u===null&&Wy(d),null;case 13:return xC(u,d,x);case 4:return Jy(d,d.stateNode.containerInfo),S=d.pendingProps,u===null?d.child=Tc(d,null,S,x):kr(u,d,S,x),d.child;case 11:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:is(S,M),fC(u,d,S,M,x);case 7:return kr(u,d,d.pendingProps,x),d.child;case 8:return kr(u,d,d.pendingProps.children,x),d.child;case 12:return kr(u,d,d.pendingProps.children,x),d.child;case 10:e:{if(S=d.type._context,M=d.pendingProps,P=d.memoizedProps,H=M.value,AM(d,S,H),P!==null)if(Bs(P.value,H)){if(P.children===M.children&&!er.current){d=mo(u,d,x);break e}}else for(P=d.child,P!==null&&(P.return=d);P!==null;){var Z=P.dependencies;if(Z!==null){H=P.child;for(var ge=Z.firstContext;ge!==null;){if(ge.context===S){if(P.tag===1){ge=uo(-1,x&-x),ge.tag=2;var Be=P.updateQueue;if(Be!==null){Be=Be.shared;var qe=Be.pending;qe===null?ge.next=ge:(ge.next=qe.next,qe.next=ge),Be.pending=ge}}P.lanes|=x,ge=P.alternate,ge!==null&&(ge.lanes|=x),Ny(P.return,x,d),Z.lanes|=x;break}ge=ge.next}}else if(P.tag===10)H=P.type===d.type?null:P.child;else if(P.tag===18){if(H=P.return,H===null)throw Error(o(341));H.lanes|=x,Z=H.alternate,Z!==null&&(Z.lanes|=x),Ny(H,x,d),H=P.sibling}else H=P.child;if(H!==null)H.return=P;else for(H=P;H!==null;){if(H===d){H=null;break}if(P=H.sibling,P!==null){P.return=H.return,H=P;break}H=H.return}P=H}kr(u,d,M.children,x),d=d.child}return d;case 9:return M=d.type,S=d.pendingProps.children,Ac(d,x),M=Bi(M),S=S(M),d.flags|=1,kr(u,d,S,x),d.child;case 14:return S=d.type,M=is(S,d.pendingProps),M=is(S.type,M),dC(u,d,S,M,x);case 15:return hC(u,d,d.type,d.pendingProps,x);case 17:return S=d.type,M=d.pendingProps,M=d.elementType===S?M:is(S,M),u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Jr(S)?(u=!0,Tp(d)):u=!1,Ac(d,x),PM(d,S,M),Gy(d,S,M,x),ox(null,d,S,!0,u,x);case 19:return SC(u,d,x);case 22:return pC(u,d,x)}throw Error(o(156,d.tag))};function JC(u,d){return By(u,d)}function ZF(u,d,x,S){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(u,d,x,S){return new ZF(u,d,x,S)}function Tx(u){return u=u.prototype,!(!u||!u.isReactComponent)}function eN(u){if(typeof u=="function")return Tx(u)?1:0;if(u!=null){if(u=u.$$typeof,u===g)return 11;if(u===w)return 14}return 2}function oa(u,d){var x=u.alternate;return x===null?(x=Fi(u.tag,d,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=d,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&14680064,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,d=u.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x}function xm(u,d,x,S,M,P){var H=2;if(S=u,typeof u=="function")Tx(u)&&(H=1);else if(typeof u=="string")H=5;else e:switch(u){case f:return ul(x.children,M,P,d);case h:H=8,M|=8;break;case p:return u=Fi(12,x,d,M|2),u.elementType=p,u.lanes=P,u;case y:return u=Fi(13,x,d,M),u.elementType=y,u.lanes=P,u;case _:return u=Fi(19,x,d,M),u.elementType=_,u.lanes=P,u;case A:return _m(x,M,P,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:H=10;break e;case v:H=9;break e;case g:H=11;break e;case w:H=14;break e;case b:H=16,S=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return d=Fi(H,x,d,M),d.elementType=u,d.type=S,d.lanes=P,d}function ul(u,d,x,S){return u=Fi(7,u,S,d),u.lanes=x,u}function _m(u,d,x,S){return u=Fi(22,u,S,d),u.elementType=A,u.lanes=x,u.stateNode={},u}function Rx(u,d,x){return u=Fi(6,u,null,d),u.lanes=x,u}function Px(u,d,x){return d=Fi(4,u.children!==null?u.children:[],u.key,d),d.lanes=x,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function tN(u,d,x,S,M){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ie,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ry(0),this.expirationTimes=Ry(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ry(0),this.identifierPrefix=S,this.onRecoverableError=M,le&&(this.mutableSourceEagerHydrationData=null)}function KC(u,d,x,S,M,P,H,Z,ge){return u=new tN(u,d,x,Z,ge),d===1?(d=1,P===!0&&(d|=8)):d=0,P=Fi(3,null,null,d),u.current=P,P.stateNode=u,P.memoizedState={element:S,isDehydrated:x,cache:null,transitions:null},zy(P),u}function XC(u){if(!u)return Pi;u=u._reactInternals;e:{if(I(u)!==u||u.tag!==1)throw Error(o(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Jr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(u.tag===1){var x=u.type;if(Jr(x))return xM(u,x,d)}return d}function YC(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=G(d),u===null?null:u.stateNode}function QC(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<d?x:d}}function Bx(u,d){QC(u,d),(u=u.alternate)&&QC(u,d)}function nN(u){return u=G(u),u===null?null:u.stateNode}function rN(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var d=Or();Oi(u,134217728,d),Bx(u,134217728)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=Or(),x=ia(u);Oi(u,x,d),Bx(u,x)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var x=Df(d.pendingLanes);x!==0&&(Py(d,x|1),Xr(d,tr()),!(Mt&6)&&(Dc(),Is()))}break;case 13:var S=Or();zC(function(){return Oi(u,1,S)}),Bx(u,1)}},n.batchedUpdates=function(u,d){var x=Mt;Mt|=1;try{return u(d)}finally{Mt=x,Mt===0&&(Dc(),Lp&&Is())}},n.createComponentSelector=function(u){return{$$typeof:sm,value:u}},n.createContainer=function(u,d,x,S,M,P,H){return KC(u,d,!1,null,x,S,M,P,H)},n.createHasPseudoClassSelector=function(u){return{$$typeof:om,value:u}},n.createHydrationContainer=function(u,d,x,S,M,P,H,Z,ge){return u=KC(x,S,!0,u,M,P,H,Z,ge),u.context=XC(null),x=u.current,S=Or(),M=ia(x),P=uo(S,M),P.callback=d??null,ta(x,P),u.current.lanes=M,kf(u,M,S),Xr(u,S),u},n.createPortal=function(u,d,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:u,containerInfo:d,implementation:x}},n.createRoleSelector=function(u){return{$$typeof:am,value:u}},n.createTestNameSelector=function(u){return{$$typeof:lm,value:u}},n.createTextSelector=function(u){return{$$typeof:cm,value:u}},n.deferredUpdates=function(u){var d=Ft,x=Dn.transition;try{return Dn.transition=null,Ft=16,u()}finally{Ft=d,Dn.transition=x}},n.discreteUpdates=function(u,d,x,S,M){var P=Ft,H=Dn.transition;try{return Dn.transition=null,Ft=1,u(d,x,S,M)}finally{Ft=P,Dn.transition=H,Mt===0&&Dc()}},n.findAllNodes=vx,n.findBoundingRects=function(u,d){if(!st)throw Error(o(363));d=vx(u,d),u=[];for(var x=0;x<d.length;x++)u.push($(d[x]));for(d=u.length-1;0<d;d--){x=u[d];for(var S=x.x,M=S+x.width,P=x.y,H=P+x.height,Z=d-1;0<=Z;Z--)if(d!==Z){var ge=u[Z],Be=ge.x,qe=Be+ge.width,vt=ge.y,ct=vt+ge.height;if(S>=Be&&P>=vt&&M<=qe&&H<=ct){u.splice(d,1);break}else if(S!==Be||x.width!==ge.width||ct<P||vt>H){if(!(P!==vt||x.height!==ge.height||qe<S||Be>M)){Be>S&&(ge.width+=Be-S,ge.x=S),qe<M&&(ge.width=M-Be),u.splice(d,1);break}}else{vt>P&&(ge.height+=vt-P,ge.y=P),ct<H&&(ge.height=H-vt),u.splice(d,1);break}}}return u},n.findHostInstance=YC,n.findHostInstanceWithNoPortals=function(u){return u=k(u),u=u!==null?F(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return YC(u)},n.flushControlled=function(u){var d=Mt;Mt|=1;var x=Dn.transition,S=Ft;try{Dn.transition=null,Ft=1,u()}finally{Ft=S,Dn.transition=x,Mt=d,Mt===0&&(Dc(),Is())}},n.flushPassiveEffects=cl,n.flushSync=zC,n.focusWithin=function(u,d){if(!st)throw Error(o(363));for(u=px(u),d=OC(u,d),d=Array.from(d),u=0;u<d.length;){var x=d[u++];if(!V(x)){if(x.tag===5&&de(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Ft},n.getFindAllNodesFailureDescription=function(u,d){if(!st)throw Error(o(363));var x=0,S=[];u=[px(u),0];for(var M=0;M<u.length;){var P=u[M++],H=u[M++],Z=d[H];if((P.tag!==5||!V(P))&&(mx(P,Z)&&(S.push(gx(Z)),H++,H>x&&(x=H)),H<d.length))for(P=P.child;P!==null;)u.push(P,H),P=P.sibling}if(x<d.length){for(u=[];x<d.length;x++)u.push(gx(d[x]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return q(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:nN,findFiberByHostInstance:u.findFiberByHostInstance||rN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{Ip=d.inject(u),Ps=d}catch{}u=!!d.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,d,x,S){if(!st)throw Error(o(363));u=vx(u,d);var M=ve(u,x,S).disconnect;return{disconnect:function(){M()}}},n.registerMutableSourceForHydration=function(u,d){var x=d._getVersion;x=x(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,x]:u.mutableSourceEagerHydrationData.push(d,x)},n.runWithPriority=function(u,d){var x=Ft;try{return Ft=u,d()}finally{Ft=x}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,d,x,S){var M=d.current,P=Or(),H=ia(M);return x=XC(x),d.context===null?d.context=x:d.pendingContext=x,d=uo(P,H),d.payload={element:u},S=S===void 0?null:S,S!==null&&(d.callback=S),ta(M,d),u=Oi(M,H,P),u!==null&&Fp(u,M,H),H},n};(function(t){t.exports=O$})(D$);const F$=mv(Yw),N$=t=>typeof t=="object"&&typeof t.then=="function",Nl=[];function dD(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function hD(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Nl)if(dD(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Nl.indexOf(i);s!==-1&&Nl.splice(s,1)},promise:(N$(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Nl.push(i),!n)throw i.promise}const z$=(t,e,n)=>hD(t,e,!1,n),U$=(t,e,n)=>void hD(t,e,!0,n),G$=t=>{if(t===void 0||t.length===0)Nl.splice(0,Nl.length);else{const e=Nl.find(n=>dD(t,n.keys,n.equal));e&&e.remove()}},wA={},H$=t=>void Object.assign(wA,t);function $$(t,e){function n(f,{args:h=[],attach:p,...m},v){let g=`${f[0].toUpperCase()}${f.slice(1)}`,y;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=m.object;y=uu(_,{type:f,root:v,attach:p,primitive:!0})}else{const _=wA[g];if(!_)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");y=uu(new _(...h),{type:f,root:v,attach:p,memoizedProps:{args:h}})}return y.__r3f.attach===void 0&&(y instanceof xt?y.__r3f.attach="geometry":y instanceof Wn&&(y.__r3f.attach="material")),g!=="inject"&&U1(y,m),y}function r(f,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?z1(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(v=f.__r3f)==null||v.objects.push(h),h.__r3f||uu(h,{}),h.__r3f.parent=f,qw(h),fu(h)}}function i(f,h,p){let m=!1;if(h){var v,g;if((v=h.__r3f)!=null&&v.attach)z1(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"});const y=f.children.filter(w=>w!==h),_=y.indexOf(p);f.children=[...y.slice(0,_),h,...y.slice(_)],m=!0}m||(g=f.__r3f)==null||g.objects.push(h),h.__r3f||uu(h,{}),h.__r3f.parent=f,qw(h),fu(h)}}function s(f,h,p=!1){f&&[...f].forEach(m=>o(h,m,p))}function o(f,h,p){if(h){var m,v,g;if(h.__r3f&&(h.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(A=>A!==h)),(v=h.__r3f)!=null&&v.attach)I2(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var y;f.remove(h),(y=h.__r3f)!=null&&y.root&&q$(f0(h),h)}const w=(g=h.__r3f)==null?void 0:g.primitive,b=!w&&(p===void 0?h.dispose!==null:p);if(!w){var _;s((_=h.__r3f)==null?void 0:_.objects,h,b),s(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const A=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Lh.unstable_scheduleCallback(Lh.unstable_IdlePriority,A):A()}fu(f)}}function a(f,h,p,m){var v;const g=(v=f.__r3f)==null?void 0:v.parent;if(!g)return;const y=n(h,p,f.__r3f.root);if(f.children){for(const _ of f.children)_.__r3f&&r(y,_);f.children=f.children.filter(_=>!_.__r3f)}f.__r3f.objects.forEach(_=>r(y,_)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(g,f),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(g,y),y.raycast&&y.__r3f.eventCount&&f0(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(_=>{_!==null&&(_.stateNode=y,_.ref&&(typeof _.ref=="function"?_.ref(y):_.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:F$({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const m=f.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;const p=(h=f==null?void 0:f.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(f,h,p,m){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:y=[],children:_,...w}=m,{args:b=[],children:A,...C}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((B,T)=>B!==b[T]))return[!0];const E=_D(f,w,C,!0);return E.changes.length?[!1,E]:null}},commitUpdate(f,[h,p],m,v,g,y){h?a(f,m,g,y):U1(f,p)},commitMount(f,h,p,m){var v;const g=(v=f.__r3f)!=null?v:{};f.raycast&&g.handlers&&g.eventCount&&f0(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>uu(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:m}=(h=f.__r3f)!=null?h:{};p&&m&&I2(m,f,p),f.isObject3D&&(f.visible=!1),fu(f)},unhideInstance(f,h){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&z1(v,f,m),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),fu(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ca.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&sn.fun(performance.now)?performance.now:sn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:sn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:sn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:U1}}var T2,R2;const N1=t=>"colorSpace"in t||"outputColorSpace"in t,pD=()=>{var t;return(t=wA.ColorManagement)!=null?t:null},mD=t=>t&&t.isOrthographicCamera,V$=t=>t&&t.hasOwnProperty("current"),pp=typeof window<"u"&&((T2=window.document)!=null&&T2.createElement||((R2=window.navigator)==null?void 0:R2.product)==="ReactNative")?R.useLayoutEffect:R.useEffect;function gD(t){const e=R.useRef(t);return pp(()=>void(e.current=t),[t]),e}function W$({set:t}){return pp(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class vD extends R.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}vD.getDerivedStateFromError=()=>({error:!0});const yD="__default",P2=new Map,j$=t=>t&&!!t.memoized&&!!t.changes;function xD(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const xd=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function f0(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const sn={obj:t=>t===Object(t)&&!sn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(sn.str(t)||sn.num(t))return t===e;const s=sn.obj(t);if(s&&r==="reference")return t===e;const o=sn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!sn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(sn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function J$(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function K$(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function uu(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Qw(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const B2=/-\d+$/;function z1(t,e,n){if(sn.str(n)){if(B2.test(n)){const s=n.replace(B2,""),{target:o,key:a}=Qw(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Qw(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function I2(t,e,n){var r,i;if(sn.str(n)){const{target:s,key:o}=Qw(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function _D(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var f;const h=(f=t==null?void 0:t.__r3f)!=null?f:{},p=Object.entries(i),m=[];if(c){const g=Object.keys(l);for(let y=0;y<g.length;y++)i.hasOwnProperty(g[y])||p.unshift([g[y],yD+"remove"])}p.forEach(([g,y])=>{var _;if((_=t.__r3f)!=null&&_.primitive&&g==="object"||sn.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return m.push([g,y,!0,[]]);let w=[];g.includes("-")&&(w=g.split("-")),m.push([g,y,!1,w]);for(const b in i){const A=i[b];b.startsWith(`${g}-`)&&m.push([b,A,!1,b.split("-")])}});const v={...i};return h.memoizedProps&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:m}}const X$=typeof process<"u"&&!1;function U1(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=j$(e)?e:_D(t,e),f=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,g,y]=c[p];if(N1(t)){const A="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?A:C):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?A:C)}let _=t,w=_[m];if(y.length&&(w=y.reduce((b,A)=>b[A],t),!(w&&w.set))){const[b,...A]=y.reverse();_=A.reverse().reduce((C,E)=>C[E],t),m=b}if(v===yD+"remove")if(_.constructor){let b=P2.get(_.constructor);b||(b=new _.constructor,P2.set(_.constructor,b)),v=b[m]}else v=0;if(g)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Kl)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(X$?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){const b=w instanceof He;!b&&w.setScalar?w.setScalar(v):w instanceof Kl&&v instanceof Kl?w.mask=v.mask:w.set(v),!pD()&&!a.linear&&b&&w.convertSRGBToLinear()}}else if(_[m]=v,_[m]instanceof fn&&_[m].format===Zr&&_[m].type===Go){const b=_[m];N1(b)&&N1(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}fu(t)}if(s.parent&&t.raycast&&f!==s.eventCount){const p=f0(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&qw(t),t}function fu(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function qw(t){t.onUpdate==null||t.onUpdate(t)}function Y$(t,e){t.manual||(mD(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Sg(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Q$(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ca.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ca.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ca.ContinuousEventPriority;default:return Ca.DefaultEventPriority}}function wD(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function q$(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{wD(n.capturedMap,e,r,i)})}function Z$(t){function e(l){const{internal:c}=t.getState(),f=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function r(l,c){const f=t.getState(),h=new Set,p=[],m=c?c(f.internal.interaction):f.internal.interaction;for(let _=0;_<m.length;_++){const w=xd(m[_]);w&&(w.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(_){const w=xd(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(l,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let g=m.flatMap(v).sort((_,w)=>{const b=xd(_.object),A=xd(w.object);return!b||!A?_.distance-w.distance:A.events.priority-b.events.priority||_.distance-w.distance}).filter(_=>{const w=Sg(_);return h.has(w)?!1:(h.add(w),!0)});f.events.filter&&(g=f.events.filter(g,f));for(const _ of g){let w=_.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&p.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let _ of f.internal.capturedMap.get(l.pointerId).values())h.has(Sg(_.intersection))||p.push(_.intersection);return p}function i(l,c,f,h){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const g=xd(v.object)||p,{raycaster:y,pointer:_,camera:w,internal:b}=g,A=new N(_.x,_.y,0).unproject(w),C=L=>{var k,G;return(k=(G=b.capturedMap.get(L))==null?void 0:G.has(v.eventObject))!=null?k:!1},E=L=>{const k={intersection:v,target:c.target};b.capturedMap.has(L)?b.capturedMap.get(L).set(v.eventObject,k):b.capturedMap.set(L,new Map([[v.eventObject,k]])),c.target.setPointerCapture(L)},B=L=>{const k=b.capturedMap.get(L);k&&wD(b.capturedMap,v.eventObject,k,L)};let T={};for(let L in c){let k=c[L];typeof k!="function"&&(T[L]=k)}let I={...v,...T,pointer:_,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:A,ray:y.ray,camera:w,stopPropagation(){const L="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!L||L.has(v.eventObject))&&(I.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(k=>k.eventObject===v.eventObject))){const k=l.slice(0,l.indexOf(v));s([...k,v])}},target:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:B},currentTarget:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:B},nativeEvent:c};if(h(I),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const f of c.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Sg(f)),p!=null&&p.eventCount){const v={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let f=0;f<c.length;f++){const h=c[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=t.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=f;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(f,m?n:void 0),_=v?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=y.map(b=>b.eventObject)),v&&!y.length&&_<=2&&(o(f,p.interaction),h&&h(f)),m&&s(y);function w(b){const A=b.eventObject,C=A.__r3f,E=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const B=Sg(b),T=p.hovered.get(B);T?T.stopped&&b.stopPropagation():(p.hovered.set(B,b),E.onPointerOver==null||E.onPointerOver(b),E.onPointerEnter==null||E.onPointerEnter(b))}E.onPointerMove==null||E.onPointerMove(b)}else{const B=E[l];B?(!v||p.initialHits.includes(A))&&(o(f,p.interaction.filter(T=>!p.initialHits.includes(T))),B(b)):v&&p.initialHits.includes(A)&&o(f,p.interaction.filter(T=>!p.initialHits.includes(T)))}}i(y,f,_,w)}}return{handlePointer:a}}const bD=t=>!!(t!=null&&t.render),SD=R.createContext(null),eV=(t,e)=>{const n=uD((a,l)=>{const c=new N,f=new N,h=new N;function p(_=l().camera,w=f,b=l().size){const{width:A,height:C,top:E,left:B}=b,T=A/C;w instanceof N?h.copy(w):h.set(...w);const I=_.getWorldPosition(c).distanceTo(h);if(mD(_))return{width:A/_.zoom,height:C/_.zoom,top:E,left:B,factor:1,distance:I,aspect:T};{const L=_.fov*Math.PI/180,k=2*Math.tan(L/2)*I,G=k*(A/C);return{width:G,height:k,top:E,left:B,factor:A/G,distance:I,aspect:T}}}let m;const v=_=>a(w=>({performance:{...w.performance,current:_}})),g=new we;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(l(),_),advance:(_,w)=>e(_,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vA,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();m&&clearTimeout(m),_.performance.current!==_.performance.min&&v(_.performance.min),m=setTimeout(()=>v(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,b,A,C)=>{const E=l().camera,B={width:_,height:w,top:A||0,left:C||0,updateStyle:b};a(T=>({size:B,viewport:{...T.viewport,...p(E,f,B)}}))},setDpr:_=>a(w=>{const b=xD(_);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(_="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:R.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,w,b)=>{const A=l().internal;return A.priority=A.priority+(w>0?1:0),A.subscribers.push({ref:_,priority:w,store:b}),A.subscribers=A.subscribers.sort((C,E)=>C.priority-E.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(w>0?1:0),C.subscribers=C.subscribers.filter(E=>E.ref!==_))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:h}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,Y$(a,l),f.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Ag,tV=new Set,nV=new Set,rV=new Set;function G1(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function _d(t,e){switch(t){case"before":return G1(tV,e);case"after":return G1(nV,e);case"tail":return G1(rV,e)}}let H1,$1;function V1(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),H1=e.internal.subscribers,Ag=0;Ag<H1.length;Ag++)$1=H1[Ag],$1.ref.current($1.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function iV(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,_d("before",l);for(const f of t.values()){var c;i=f.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=V1(l,i))}if(_d("after",l),n===0)return _d("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var f;if(!l)return t.forEach(h=>o(h.store.getState(),c));(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,f,h){if(c&&_d("before",l),f)V1(l,f,h);else for(const p of t.values())V1(l,p.store.getState());c&&_d("after",l)}return{loop:s,invalidate:o,advance:a}}function AD(){const t=R.useContext(SD);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Us(t=n=>n,e){return AD()(t,e)}function bA(t,e=0){const n=AD(),r=n.getState().internal.subscribe,i=gD(t);return pp(()=>r(i,e,n),[e,r,n]),null}const L2=new WeakMap;function MD(t,e){return function(n,...r){let i=L2.get(n);return i||(i=new n,L2.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,J$(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function mp(t,e,n,r){const i=Array.isArray(e)?e:[e],s=z$(MD(n,r),[t,...i],{equal:sn.equ});return Array.isArray(e)?s:s[0]}mp.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return U$(MD(n),[t,...r])};mp.clear=function(t,e){const n=Array.isArray(e)?e:[e];return G$([t,...n])};const sf=new Map,{invalidate:D2,advance:k2}=iV(sf),{reconciler:X0,applyProps:eu}=$$(sf,Q$),tu={objects:"shallow",strict:!1},sV=(t,e)=>{const n=typeof t=="function"?t(e):t;return bD(n)?n:new KS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function oV(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function aV(t){const e=sf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||eV(D2,k2),o=n||X0.createContainer(s,Ca.ConcurrentRoot,null,!1,null,"",i,null);e||sf.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(f={}){let{gl:h,size:p,scene:m,events:v,onCreated:g,shadows:y=!1,linear:_=!1,flat:w=!1,legacy:b=!1,orthographic:A=!1,frameloop:C="always",dpr:E=[1,2],performance:B,raycaster:T,camera:I,onPointerMissed:L}=f,k=s.getState(),G=k.gl;k.gl||k.set({gl:G=sV(h,t)});let z=k.raycaster;z||k.set({raycaster:z=new lD});const{params:F,...J}=T||{};if(sn.equ(J,z,tu)||eu(z,{...J}),sn.equ(F,z.params,tu)||eu(z,{params:{...z.params,...F}}),!k.camera||k.camera===c&&!sn.equ(c,I,tu)){c=I;const X=I instanceof qh,se=X?I:A?new js(0,0,0,0,.1,1e3):new xn(75,0,.1,1e3);X||(se.position.z=5,I&&eu(se,I),!k.camera&&!(I!=null&&I.rotation)&&se.lookAt(0,0,0)),k.set({camera:se}),z.camera=se}if(!k.scene){let X;m instanceof K0?X=m:(X=new K0,m&&eu(X,m)),k.set({scene:uu(X)})}if(!k.xr){var q;const X=(re,_e)=>{const be=s.getState();be.frameloop!=="never"&&k2(re,!0,be,_e)},se=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?X:null),re.gl.xr.isPresenting||D2(re)},Q={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",se),re.xr.addEventListener("sessionend",se)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",se),re.xr.removeEventListener("sessionend",se)}};typeof((q=G.xr)==null?void 0:q.addEventListener)=="function"&&Q.connect(),k.set({xr:Q})}if(G.shadowMap){const X=G.shadowMap.enabled,se=G.shadowMap.type;if(G.shadowMap.enabled=!!y,sn.boo(y))G.shadowMap.type=jd;else if(sn.str(y)){var ne;const Q={basic:pI,percentage:Iv,soft:jd,variance:Ll};G.shadowMap.type=(ne=Q[y])!=null?ne:jd}else sn.obj(y)&&Object.assign(G.shadowMap,y);(X!==G.shadowMap.enabled||se!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const O=pD();O&&("enabled"in O?O.enabled=!b:"legacyMode"in O&&(O.legacyMode=b)),l||eu(G,{outputEncoding:_?3e3:3001,toneMapping:w?ys:FS}),k.legacy!==b&&k.set(()=>({legacy:b})),k.linear!==_&&k.set(()=>({linear:_})),k.flat!==w&&k.set(()=>({flat:w})),h&&!sn.fun(h)&&!bD(h)&&!sn.equ(h,G,tu)&&eu(G,h),v&&!k.events.handlers&&k.set({events:v(s)});const W=oV(t,p);return sn.equ(W,k.size,tu)||k.setSize(W.width,W.height,W.updateStyle,W.top,W.left),E&&k.viewport.dpr!==xD(E)&&k.setDpr(E),k.frameloop!==C&&k.setFrameloop(C),k.onPointerMissed||k.set({onPointerMissed:L}),B&&!sn.equ(B,k.performance,tu)&&k.set(X=>({performance:{...X.performance,...B}})),a=g,l=!0,this},render(f){return l||this.configure(),X0.updateContainer(R.createElement(lV,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){CD(t)}}}function lV({store:t,children:e,onCreated:n,rootElement:r}){return pp(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),R.createElement(SD.Provider,{value:t},e)}function CD(t,e){const n=sf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),X0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),K$(i),sf.delete(t),e&&e(t)}catch{}},500)})}}X0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:R.version});function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function Zw(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,n||(a=t.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var f=n&&!r;return r||(r=setTimeout(l,e)),f&&(a=t.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}Zw.debounce=Zw;var O2=Zw;function cV(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=R.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=R.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,h=R.useRef(!1);R.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,v]=R.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:b,top:A,width:C,height:E,bottom:B,right:T,x:I,y:L}=l.current.element.getBoundingClientRect(),k={left:b,top:A,width:C,height:E,bottom:B,right:T,x:I,y:L};l.current.element instanceof HTMLElement&&i&&(k.height=l.current.element.offsetHeight,k.width=l.current.element.offsetWidth),Object.freeze(k),h.current&&!hV(l.current.lastBounds,k)&&a(l.current.lastBounds=k)};return[w,f?O2(w,f):w,c?O2(w,c):w]},[a,i,c,f]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",v,{capture:!0,passive:!0})))}const _=w=>{!w||w===l.current.element||(g(),l.current.element=w,l.current.scrollContainers=ED(w),y())};return fV(v,Boolean(n)),uV(m),R.useEffect(()=>{g(),y()},[n,v,m]),R.useEffect(()=>g,[]),[_,o,p]}function uV(t){R.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function fV(t,e){R.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function ED(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...ED(t.parentElement)]}const dV=["x","y","top","bottom","left","right","width","height"],hV=(t,e)=>dV.every(n=>t[n]===e[n]);var pV=Object.defineProperty,mV=Object.defineProperties,gV=Object.getOwnPropertyDescriptors,F2=Object.getOwnPropertySymbols,vV=Object.prototype.hasOwnProperty,yV=Object.prototype.propertyIsEnumerable,N2=(t,e,n)=>e in t?pV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z2=(t,e)=>{for(var n in e||(e={}))vV.call(e,n)&&N2(t,n,e[n]);if(F2)for(var n of F2(e))yV.call(e,n)&&N2(t,n,e[n]);return t},xV=(t,e)=>mV(t,gV(e));function TD(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=TD(r,e,n);if(i)return i;r=e?null:r.sibling}}function RD(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const SA=RD(R.createContext(null));class PD extends R.Component{render(){return R.createElement(SA.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:_V,ReactCurrentDispatcher:wV}=R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function bV(){const t=R.useContext(SA);if(!t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=R.useId();return R.useMemo(()=>{var r;return(r=_V.current)!=null?r:TD(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[t,e])}function SV(){var t,e;const n=bV(),[r]=R.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==SA&&!r.has(s)&&r.set(s,(e=wV.current)==null?void 0:e.readContext(RD(s))),i=i.return}return R.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>R.createElement(s,null,R.createElement(o.Provider,xV(z2({},a),{value:r.get(o)}))),s=>R.createElement(PD,z2({},s))),[r])}const W1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function AV(t){const{handlePointer:e}=Z$(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(W1).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=W1[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=W1[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const MV=R.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=AV,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:g,performance:y,raycaster:_,camera:w,scene:b,onPointerMissed:A,onCreated:C,...E},B){R.useMemo(()=>H$(P$),[]);const T=SV(),[I,L]=cV({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=R.useRef(null),G=R.useRef(null);R.useImperativeHandle(B,()=>k.current);const z=gD(A),[F,J]=R.useState(!1),[q,ne]=R.useState(!1);if(F)throw F;if(q)throw q;const O=R.useRef(null);pp(()=>{const X=k.current;L.width>0&&L.height>0&&X&&(O.current||(O.current=aV(X)),O.current.configure({gl:s,events:o,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:g,performance:y,raycaster:_,camera:w,scene:b,size:L,onPointerMissed:(...se)=>z.current==null?void 0:z.current(...se),onCreated:se=>{se.events.connect==null||se.events.connect(a?V$(a)?a.current:a:G.current),l&&se.setEvents({compute:(Q,re)=>{const _e=Q[l+"X"],be=Q[l+"Y"];re.pointer.set(_e/re.size.width*2-1,-(be/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),C==null||C(se)}}),O.current.render(R.createElement(T,null,R.createElement(vD,{set:ne},R.createElement(R.Suspense,{fallback:R.createElement(W$,{set:J})},e)))))}),R.useEffect(()=>{const X=k.current;if(X)return()=>CD(X)},[]);const W=a?"none":"auto";return R.createElement("div",Y0({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i}},E),R.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},R.createElement("canvas",{ref:k,style:{display:"block"}},n)))}),CV=R.forwardRef(function(e,n){return R.createElement(PD,null,R.createElement(MV,Y0({},e,{ref:n})))}),EV={black:"#000",white:"#fff"},Dh=EV,TV={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},nu=TV,RV={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ru=RV,PV={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},iu=PV,BV={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},su=BV,IV={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ou=IV,LV={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},wd=LV,DV={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},kV=DV;function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}function Rl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function BD(t){if(!Rl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=BD(t[n])}),e}function xs(t,e,n={clone:!0}){const r=n.clone?Ou({},t):t;return Rl(t)&&Rl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Rl(e[i])&&i in t&&Rl(t[i])?r[i]=xs(t[i],e[i],n):n.clone?r[i]=Rl(e[i])?BD(e[i]):e[i]:r[i]=e[i])}),r}var Xt={},OV={get exports(){return Xt},set exports(t){Xt=t}},FV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NV=FV,zV=NV;function ID(){}function LD(){}LD.resetWarningCache=ID;var UV=function(){function t(r,i,s,o,a,l){if(l!==zV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LD,resetWarningCache:ID};return n.PropTypes=n,n};OV.exports=UV();function of(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function en(t){if(typeof t!="string")throw new Error(of(7));return t.charAt(0).toUpperCase()+t.slice(1)}function GV(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function j1(t,e){return R.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function d0(t){return t&&t.ownerDocument||document}function HV(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const $V=typeof window<"u"?R.useLayoutEffect:R.useEffect,DD=$V;let U2=0;function VV(t){const[e,n]=R.useState(t),r=t||e;return R.useEffect(()=>{e==null&&(U2+=1,n(`mui-${U2}`))},[e]),r}const G2=x0["useId"];function WV(t){if(G2!==void 0){const e=G2();return t??e}return VV(t)}function AA({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=R.useRef(t!==void 0),[s,o]=R.useState(e),a=i?t:s,l=R.useCallback(c=>{i||o(c)},[]);return[a,l]}function zl(t){const e=R.useRef(t);return DD(()=>{e.current=t}),R.useCallback((...n)=>(0,e.current)(...n),[])}function af(...t){return R.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{HV(n,e)})},t)}let Xv=!0,eb=!1,H2;const jV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function JV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&jV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function KV(t){t.metaKey||t.altKey||t.ctrlKey||(Xv=!0)}function J1(){Xv=!1}function XV(){this.visibilityState==="hidden"&&eb&&(Xv=!0)}function YV(t){t.addEventListener("keydown",KV,!0),t.addEventListener("mousedown",J1,!0),t.addEventListener("pointerdown",J1,!0),t.addEventListener("touchstart",J1,!0),t.addEventListener("visibilitychange",XV,!0)}function QV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Xv||JV(e)}function kD(){const t=R.useCallback(i=>{i!=null&&YV(i.ownerDocument)},[]),e=R.useRef(!1);function n(){return e.current?(eb=!0,window.clearTimeout(H2),H2=window.setTimeout(()=>{eb=!1},100),e.current=!1,!0):!1}function r(i){return QV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}const qV={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},ZV=qV;function OD(t,e){const n=Ou({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Ou({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Ou({},s),Object.keys(i).forEach(o=>{n[r][o]=OD(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function io(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const $2=t=>t,eW=()=>{let t=$2;return{configure(e){t=e},generate(e){return t(e)},reset(){t=$2}}},tW=eW(),FD=tW,nW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Cs(t,e,n="Mui"){const r=nW[e];return r?`${n}-${r}`:`${FD.generate(t)}-${e}`}function Es(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Cs(t,i,n)}),r}function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oe.apply(this,arguments)}function yr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}function ND(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rW=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iW=ND(function(t){return rW.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function sW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function oW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var aW=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(oW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=sW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Er="-ms-",Q0="-moz-",Gt="-webkit-",zD="comm",MA="rule",CA="decl",lW="@import",UD="@keyframes",cW=Math.abs,Yv=String.fromCharCode,uW=Object.assign;function fW(t,e){return hr(t,0)^45?(((e<<2^hr(t,0))<<2^hr(t,1))<<2^hr(t,2))<<2^hr(t,3):0}function GD(t){return t.trim()}function dW(t,e){return(t=e.exec(t))?t[0]:t}function $t(t,e,n){return t.replace(e,n)}function nb(t,e){return t.indexOf(e)}function hr(t,e){return t.charCodeAt(e)|0}function kh(t,e,n){return t.slice(e,n)}function Gs(t){return t.length}function EA(t){return t.length}function Mg(t,e){return e.push(t),t}function hW(t,e){return t.map(e).join("")}var Qv=1,lf=1,HD=0,oi=0,$n=0,Af="";function qv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Qv,column:lf,length:o,return:""}}function bd(t,e){return uW(qv("",null,null,"",null,null,0),t,{length:-t.length},e)}function pW(){return $n}function mW(){return $n=oi>0?hr(Af,--oi):0,lf--,$n===10&&(lf=1,Qv--),$n}function _i(){return $n=oi<HD?hr(Af,oi++):0,lf++,$n===10&&(lf=1,Qv++),$n}function Qs(){return hr(Af,oi)}function h0(){return oi}function gp(t,e){return kh(Af,t,e)}function Oh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $D(t){return Qv=lf=1,HD=Gs(Af=t),oi=0,[]}function VD(t){return Af="",t}function p0(t){return GD(gp(oi-1,rb(t===91?t+2:t===40?t+1:t)))}function gW(t){for(;($n=Qs())&&$n<33;)_i();return Oh(t)>2||Oh($n)>3?"":" "}function vW(t,e){for(;--e&&_i()&&!($n<48||$n>102||$n>57&&$n<65||$n>70&&$n<97););return gp(t,h0()+(e<6&&Qs()==32&&_i()==32))}function rb(t){for(;_i();)switch($n){case t:return oi;case 34:case 39:t!==34&&t!==39&&rb($n);break;case 40:t===41&&rb(t);break;case 92:_i();break}return oi}function yW(t,e){for(;_i()&&t+$n!==47+10;)if(t+$n===42+42&&Qs()===47)break;return"/*"+gp(e,oi-1)+"*"+Yv(t===47?t:_i())}function xW(t){for(;!Oh(Qs());)_i();return gp(t,oi)}function _W(t){return VD(m0("",null,null,null,[""],t=$D(t),0,[0],t))}function m0(t,e,n,r,i,s,o,a,l){for(var c=0,f=0,h=o,p=0,m=0,v=0,g=1,y=1,_=1,w=0,b="",A=i,C=s,E=r,B=b;y;)switch(v=w,w=_i()){case 40:if(v!=108&&hr(B,h-1)==58){nb(B+=$t(p0(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:B+=p0(w);break;case 9:case 10:case 13:case 32:B+=gW(v);break;case 92:B+=vW(h0()-1,7);continue;case 47:switch(Qs()){case 42:case 47:Mg(wW(yW(_i(),h0()),e,n),l);break;default:B+="/"}break;case 123*g:a[c++]=Gs(B)*_;case 125*g:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+f:m>0&&Gs(B)-h&&Mg(m>32?W2(B+";",r,n,h-1):W2($t(B," ","")+";",r,n,h-2),l);break;case 59:B+=";";default:if(Mg(E=V2(B,e,n,c,f,i,a,b,A=[],C=[],h),s),w===123)if(f===0)m0(B,e,E,E,A,s,h,a,C);else switch(p===99&&hr(B,3)===110?100:p){case 100:case 109:case 115:m0(t,E,E,r&&Mg(V2(t,E,E,0,0,i,a,b,i,A=[],h),C),i,C,h,a,r?A:C);break;default:m0(B,E,E,E,[""],C,0,a,C)}}c=f=m=0,g=_=1,b=B="",h=o;break;case 58:h=1+Gs(B),m=v;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&mW()==125)continue}switch(B+=Yv(w),w*g){case 38:_=f>0?1:(B+="\f",-1);break;case 44:a[c++]=(Gs(B)-1)*_,_=1;break;case 64:Qs()===45&&(B+=p0(_i())),p=Qs(),f=h=Gs(b=B+=xW(h0())),w++;break;case 45:v===45&&Gs(B)==2&&(g=0)}}return s}function V2(t,e,n,r,i,s,o,a,l,c,f){for(var h=i-1,p=i===0?s:[""],m=EA(p),v=0,g=0,y=0;v<r;++v)for(var _=0,w=kh(t,h+1,h=cW(g=o[v])),b=t;_<m;++_)(b=GD(g>0?p[_]+" "+w:$t(w,/&\f/g,p[_])))&&(l[y++]=b);return qv(t,e,n,i===0?MA:a,l,c,f)}function wW(t,e,n){return qv(t,e,n,zD,Yv(pW()),kh(t,2,-2),0)}function W2(t,e,n,r){return qv(t,e,n,CA,kh(t,0,r),kh(t,r+1,-1),r)}function Fu(t,e){for(var n="",r=EA(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function bW(t,e,n,r){switch(t.type){case lW:case CA:return t.return=t.return||t.value;case zD:return"";case UD:return t.return=t.value+"{"+Fu(t.children,r)+"}";case MA:t.value=t.props.join(",")}return Gs(n=Fu(t.children,r))?t.return=t.value+"{"+n+"}":""}function SW(t){var e=EA(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function AW(t){return function(e){e.root||(e=e.return)&&t(e)}}var MW=function(e,n,r){for(var i=0,s=0;i=s,s=Qs(),i===38&&s===12&&(n[r]=1),!Oh(s);)_i();return gp(e,oi)},CW=function(e,n){var r=-1,i=44;do switch(Oh(i)){case 0:i===38&&Qs()===12&&(n[r]=1),e[r]+=MW(oi-1,n,r);break;case 2:e[r]+=p0(i);break;case 4:if(i===44){e[++r]=Qs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Yv(i)}while(i=_i());return e},EW=function(e,n){return VD(CW($D(e),n))},j2=new WeakMap,TW=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!j2.get(r))&&!i){j2.set(e,!0);for(var s=[],o=EW(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var f=0;f<a.length;f++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},RW=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function WD(t,e){switch(fW(t,e)){case 5103:return Gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+t+Q0+t+Er+t+t;case 6828:case 4268:return Gt+t+Er+t+t;case 6165:return Gt+t+Er+"flex-"+t+t;case 5187:return Gt+t+$t(t,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+Er+"flex-$1$2")+t;case 5443:return Gt+t+Er+"flex-item-"+$t(t,/flex-|-self/,"")+t;case 4675:return Gt+t+Er+"flex-line-pack"+$t(t,/align-content|flex-|-self/,"")+t;case 5548:return Gt+t+Er+$t(t,"shrink","negative")+t;case 5292:return Gt+t+Er+$t(t,"basis","preferred-size")+t;case 6060:return Gt+"box-"+$t(t,"-grow","")+Gt+t+Er+$t(t,"grow","positive")+t;case 4554:return Gt+$t(t,/([^-])(transform)/g,"$1"+Gt+"$2")+t;case 6187:return $t($t($t(t,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),t,"")+t;case 5495:case 3959:return $t(t,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return $t($t(t,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+Er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+t+t;case 4095:case 3583:case 4068:case 2532:return $t(t,/(.+)-inline(.+)/,Gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gs(t)-1-e>6)switch(hr(t,e+1)){case 109:if(hr(t,e+4)!==45)break;case 102:return $t(t,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+Q0+(hr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~nb(t,"stretch")?WD($t(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(hr(t,e+1)!==115)break;case 6444:switch(hr(t,Gs(t)-3-(~nb(t,"!important")&&10))){case 107:return $t(t,":",":"+Gt)+t;case 101:return $t(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gt+(hr(t,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+Er+"$2box$3")+t}break;case 5936:switch(hr(t,e+11)){case 114:return Gt+t+Er+$t(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gt+t+Er+$t(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gt+t+Er+$t(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gt+t+Er+t+t}return t}var PW=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case CA:e.return=WD(e.value,e.length);break;case UD:return Fu([bd(e,{value:$t(e.value,"@","@"+Gt)})],i);case MA:if(e.length)return hW(e.props,function(s){switch(dW(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fu([bd(e,{props:[$t(s,/:(read-\w+)/,":"+Q0+"$1")]})],i);case"::placeholder":return Fu([bd(e,{props:[$t(s,/:(plac\w+)/,":"+Gt+"input-$1")]}),bd(e,{props:[$t(s,/:(plac\w+)/,":"+Q0+"$1")]}),bd(e,{props:[$t(s,/:(plac\w+)/,Er+"input-$1")]})],i)}return""})}},BW=[PW],IW=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||BW,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),_=1;_<y.length;_++)s[y[_]]=!0;a.push(g)});var l,c=[TW,RW];{var f,h=[bW,AW(function(g){f.insert(g)})],p=SW(c.concat(i,h)),m=function(y){return Fu(_W(y),p)};l=function(y,_,w,b){f=w,m(y?y+"{"+_.styles+"}":_.styles),b&&(v.inserted[_.name]=!0)}}var v={key:n,sheet:new aW({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},ib={},LW={get exports(){return ib},set exports(t){ib=t}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ur=typeof Symbol=="function"&&Symbol.for,TA=ur?Symbol.for("react.element"):60103,RA=ur?Symbol.for("react.portal"):60106,Zv=ur?Symbol.for("react.fragment"):60107,ey=ur?Symbol.for("react.strict_mode"):60108,ty=ur?Symbol.for("react.profiler"):60114,ny=ur?Symbol.for("react.provider"):60109,ry=ur?Symbol.for("react.context"):60110,PA=ur?Symbol.for("react.async_mode"):60111,iy=ur?Symbol.for("react.concurrent_mode"):60111,sy=ur?Symbol.for("react.forward_ref"):60112,oy=ur?Symbol.for("react.suspense"):60113,DW=ur?Symbol.for("react.suspense_list"):60120,ay=ur?Symbol.for("react.memo"):60115,ly=ur?Symbol.for("react.lazy"):60116,kW=ur?Symbol.for("react.block"):60121,OW=ur?Symbol.for("react.fundamental"):60117,FW=ur?Symbol.for("react.responder"):60118,NW=ur?Symbol.for("react.scope"):60119;function Ei(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case TA:switch(t=t.type,t){case PA:case iy:case Zv:case ty:case ey:case oy:return t;default:switch(t=t&&t.$$typeof,t){case ry:case sy:case ly:case ay:case ny:return t;default:return e}}case RA:return e}}}function jD(t){return Ei(t)===iy}Jt.AsyncMode=PA;Jt.ConcurrentMode=iy;Jt.ContextConsumer=ry;Jt.ContextProvider=ny;Jt.Element=TA;Jt.ForwardRef=sy;Jt.Fragment=Zv;Jt.Lazy=ly;Jt.Memo=ay;Jt.Portal=RA;Jt.Profiler=ty;Jt.StrictMode=ey;Jt.Suspense=oy;Jt.isAsyncMode=function(t){return jD(t)||Ei(t)===PA};Jt.isConcurrentMode=jD;Jt.isContextConsumer=function(t){return Ei(t)===ry};Jt.isContextProvider=function(t){return Ei(t)===ny};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===TA};Jt.isForwardRef=function(t){return Ei(t)===sy};Jt.isFragment=function(t){return Ei(t)===Zv};Jt.isLazy=function(t){return Ei(t)===ly};Jt.isMemo=function(t){return Ei(t)===ay};Jt.isPortal=function(t){return Ei(t)===RA};Jt.isProfiler=function(t){return Ei(t)===ty};Jt.isStrictMode=function(t){return Ei(t)===ey};Jt.isSuspense=function(t){return Ei(t)===oy};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zv||t===iy||t===ty||t===ey||t===oy||t===DW||typeof t=="object"&&t!==null&&(t.$$typeof===ly||t.$$typeof===ay||t.$$typeof===ny||t.$$typeof===ry||t.$$typeof===sy||t.$$typeof===OW||t.$$typeof===FW||t.$$typeof===NW||t.$$typeof===kW)};Jt.typeOf=Ei;(function(t){t.exports=Jt})(LW);var JD=ib,zW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},UW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KD={};KD[JD.ForwardRef]=zW;KD[JD.Memo]=UW;var GW=!0;function HW(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var XD=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||GW===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},$W=function(e,n,r){XD(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function VW(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var WW={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jW=/[A-Z]|^ms/g,JW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YD=function(e){return e.charCodeAt(1)===45},J2=function(e){return e!=null&&typeof e!="boolean"},K1=ND(function(t){return YD(t)?t:t.replace(jW,"-$&").toLowerCase()}),K2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(JW,function(r,i,s){return Hs={name:i,styles:s,next:Hs},i})}return WW[e]!==1&&!YD(e)&&typeof n=="number"&&n!==0?n+"px":n};function Fh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Hs={name:n.name,styles:n.styles,next:Hs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Hs={name:r.name,styles:r.styles,next:Hs},r=r.next;var i=n.styles+";";return i}return KW(t,e,n)}case"function":{if(t!==void 0){var s=Hs,o=n(t);return Hs=s,Fh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function KW(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Fh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":J2(o)&&(r+=K1(s)+":"+K2(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)J2(o[a])&&(r+=K1(s)+":"+K2(s,o[a])+";");else{var l=Fh(t,e,o);switch(s){case"animation":case"animationName":{r+=K1(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var X2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hs,QD=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Hs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Fh(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Fh(r,n,e[a]),i&&(s+=o[a]);X2.lastIndex=0;for(var l="",c;(c=X2.exec(s))!==null;)l+="-"+c[1];var f=VW(s)+l;return{name:f,styles:s,next:Hs}},XW=function(e){return e()},YW=x0["useInsertionEffect"]?x0["useInsertionEffect"]:!1,QW=YW||XW,qD=R.createContext(typeof HTMLElement<"u"?IW({key:"css"}):null);qD.Provider;var qW=function(e){return R.forwardRef(function(n,r){var i=R.useContext(qD);return e(n,i,r)})},ZW=R.createContext({});function e7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return QD(e)}var BA=function(){var e=e7.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},t7=iW,n7=function(e){return e!=="theme"},Y2=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?t7:n7},Q2=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},r7=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return XD(n,r,i),QW(function(){return $W(n,r,i)}),null},i7=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Q2(e,n,r),l=a||Y2(i),c=!l("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{h.push(f[0][0]);for(var p=f.length,m=1;m<p;m++)h.push(f[m],f[0][m])}var v=qW(function(g,y,_){var w=c&&g.as||i,b="",A=[],C=g;if(g.theme==null){C={};for(var E in g)C[E]=g[E];C.theme=R.useContext(ZW)}typeof g.className=="string"?b=HW(y.registered,A,g.className):g.className!=null&&(b=g.className+" ");var B=QD(h.concat(A),y.registered,C);b+=y.key+"-"+B.name,o!==void 0&&(b+=" "+o);var T=c&&a===void 0?Y2(w):l,I={};for(var L in g)c&&L==="as"||T(L)&&(I[L]=g[L]);return I.className=b,I.ref=_,R.createElement(R.Fragment,null,R.createElement(r7,{cache:y,serialized:B,isStringTag:typeof w=="string"}),R.createElement(w,I))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(g,y){return t(g,tb({},n,y,{shouldForwardProp:Q2(v,y,!0)})).apply(void 0,h)},v}},s7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],sb=i7.bind();s7.forEach(function(t){sb[t]=sb(t)});const o7=sb;/**
 * @mui/styled-engine v5.11.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ZD(t,e){return o7(t,e)}const a7=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Rr(){return Rr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rr.apply(this,arguments)}function Yd(t,e){return e?xs(t,e,{clone:!1}):t}const IA={xs:0,sm:600,md:900,lg:1200,xl:1536},q2={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${IA[t]}px)`};function ws(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||q2;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||q2;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||IA).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function ek(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function tk(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function l7(t,...e){const n=ek(t),r=[n,...e].reduce((i,s)=>xs(i,s),{});return tk(Object.keys(n),r)}function c7(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function X1({values:t,breakpoints:e,base:n}){const r=n||c7(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function cy(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function q0(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=cy(t,n)||r,e&&(i=e(i,r,t)),i}function Vt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=cy(l,r)||{};return ws(o,a,h=>{let p=q0(c,i,h);return h===p&&typeof h=="string"&&(p=q0(c,i,`${e}${h==="default"?"":en(h)}`,h)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function uy(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Yd(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function u7(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const f7={m:"margin",p:"padding"},d7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Z2={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},h7=u7(t=>{if(t.length>2)if(Z2[t])t=Z2[t];else return[t];const[e,n]=t.split(""),r=f7[e],i=d7[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),LA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],DA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...LA,...DA];function vp(t,e,n,r){var i;const s=(i=cy(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function kA(t){return vp(t,"spacing",8)}function Mf(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function p7(t,e){return n=>t.reduce((r,i)=>(r[i]=Mf(e,n),r),{})}function m7(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=h7(n),s=p7(i,r),o=t[n];return ws(t,o,s)}function nk(t,e){const n=kA(t.theme);return Object.keys(t).map(r=>m7(t,e,r,n)).reduce(Yd,{})}function Tn(t){return nk(t,LA)}Tn.propTypes={};Tn.filterProps=LA;function Rn(t){return nk(t,DA)}Rn.propTypes={};Rn.filterProps=DA;function Vs(t){return typeof t!="number"?t:`${t}px solid`}const g7=Vt({prop:"border",themeKey:"borders",transform:Vs}),v7=Vt({prop:"borderTop",themeKey:"borders",transform:Vs}),y7=Vt({prop:"borderRight",themeKey:"borders",transform:Vs}),x7=Vt({prop:"borderBottom",themeKey:"borders",transform:Vs}),_7=Vt({prop:"borderLeft",themeKey:"borders",transform:Vs}),w7=Vt({prop:"borderColor",themeKey:"palette"}),b7=Vt({prop:"borderTopColor",themeKey:"palette"}),S7=Vt({prop:"borderRightColor",themeKey:"palette"}),A7=Vt({prop:"borderBottomColor",themeKey:"palette"}),M7=Vt({prop:"borderLeftColor",themeKey:"palette"}),fy=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=vp(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Mf(e,r)});return ws(t,t.borderRadius,n)}return null};fy.propTypes={};fy.filterProps=["borderRadius"];uy(g7,v7,y7,x7,_7,w7,b7,S7,A7,M7,fy);const dy=t=>{if(t.gap!==void 0&&t.gap!==null){const e=vp(t.theme,"spacing",8),n=r=>({gap:Mf(e,r)});return ws(t,t.gap,n)}return null};dy.propTypes={};dy.filterProps=["gap"];const hy=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=vp(t.theme,"spacing",8),n=r=>({columnGap:Mf(e,r)});return ws(t,t.columnGap,n)}return null};hy.propTypes={};hy.filterProps=["columnGap"];const py=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=vp(t.theme,"spacing",8),n=r=>({rowGap:Mf(e,r)});return ws(t,t.rowGap,n)}return null};py.propTypes={};py.filterProps=["rowGap"];const C7=Vt({prop:"gridColumn"}),E7=Vt({prop:"gridRow"}),T7=Vt({prop:"gridAutoFlow"}),R7=Vt({prop:"gridAutoColumns"}),P7=Vt({prop:"gridAutoRows"}),B7=Vt({prop:"gridTemplateColumns"}),I7=Vt({prop:"gridTemplateRows"}),L7=Vt({prop:"gridTemplateAreas"}),D7=Vt({prop:"gridArea"});uy(dy,hy,py,C7,E7,T7,R7,P7,B7,I7,L7,D7);function Nu(t,e){return e==="grey"?e:t}const k7=Vt({prop:"color",themeKey:"palette",transform:Nu}),O7=Vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nu}),F7=Vt({prop:"backgroundColor",themeKey:"palette",transform:Nu});uy(k7,O7,F7);function mi(t){return t<=1&&t!==0?`${t*100}%`:t}const N7=Vt({prop:"width",transform:mi}),OA=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||IA[n]||mi(n)}};return ws(t,t.maxWidth,e)}return null};OA.filterProps=["maxWidth"];const z7=Vt({prop:"minWidth",transform:mi}),U7=Vt({prop:"height",transform:mi}),G7=Vt({prop:"maxHeight",transform:mi}),H7=Vt({prop:"minHeight",transform:mi});Vt({prop:"size",cssProperty:"width",transform:mi});Vt({prop:"size",cssProperty:"height",transform:mi});const $7=Vt({prop:"boxSizing"});uy(N7,OA,z7,U7,G7,H7,$7);const V7={border:{themeKey:"borders",transform:Vs},borderTop:{themeKey:"borders",transform:Vs},borderRight:{themeKey:"borders",transform:Vs},borderBottom:{themeKey:"borders",transform:Vs},borderLeft:{themeKey:"borders",transform:Vs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fy},color:{themeKey:"palette",transform:Nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nu},backgroundColor:{themeKey:"palette",transform:Nu},p:{style:Rn},pt:{style:Rn},pr:{style:Rn},pb:{style:Rn},pl:{style:Rn},px:{style:Rn},py:{style:Rn},padding:{style:Rn},paddingTop:{style:Rn},paddingRight:{style:Rn},paddingBottom:{style:Rn},paddingLeft:{style:Rn},paddingX:{style:Rn},paddingY:{style:Rn},paddingInline:{style:Rn},paddingInlineStart:{style:Rn},paddingInlineEnd:{style:Rn},paddingBlock:{style:Rn},paddingBlockStart:{style:Rn},paddingBlockEnd:{style:Rn},m:{style:Tn},mt:{style:Tn},mr:{style:Tn},mb:{style:Tn},ml:{style:Tn},mx:{style:Tn},my:{style:Tn},margin:{style:Tn},marginTop:{style:Tn},marginRight:{style:Tn},marginBottom:{style:Tn},marginLeft:{style:Tn},marginX:{style:Tn},marginY:{style:Tn},marginInline:{style:Tn},marginInlineStart:{style:Tn},marginInlineEnd:{style:Tn},marginBlock:{style:Tn},marginBlockStart:{style:Tn},marginBlockEnd:{style:Tn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:dy},rowGap:{style:py},columnGap:{style:hy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mi},maxWidth:{style:OA},minWidth:{transform:mi},height:{transform:mi},maxHeight:{transform:mi},minHeight:{transform:mi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},my=V7;function W7(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function j7(t,e){return typeof t=="function"?t(e):t}function J7(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:f,style:h}=a;if(r==null)return null;const p=cy(i,c)||{};return h?h(o):ws(o,r,v=>{let g=q0(p,f,v);return v===g&&typeof v=="string"&&(g=q0(p,f,`${n}${v==="default"?"":en(v)}`,v)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:my;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const f=ek(s.breakpoints),h=Object.keys(f);let p=f;return Object.keys(c).forEach(m=>{const v=j7(c[m],s);if(v!=null)if(typeof v=="object")if(o[m])p=Yd(p,t(m,v,s,o));else{const g=ws({theme:s},v,y=>({[m]:y}));W7(g,v)?p[m]=e({sx:v,theme:s}):p=Yd(p,g)}else p=Yd(p,t(m,v,s,o))}),tk(h,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const rk=J7();rk.filterProps=["sx"];const gy=rk;function Oa(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const K7=["sx"],X7=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:my;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function FA(t){const{sx:e}=t,n=Oa(t,K7),{systemProps:r,otherProps:i}=X7(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Rl(a)?Rr({},r,a):r}:s=Rr({},r,e),Rr({},i,{sx:s})}function ik(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ik(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Yt(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=ik(t))&&(r&&(r+=" "),r+=e);return r}const Y7=["values","unit","step"],Q7=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Rr({},n,{[r.key]:r.val}),{})};function q7(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Oa(t,Y7),s=Q7(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,m){const v=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:m)-r/100}${n})`}function f(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function h(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return Rr({keys:o,values:s,up:a,down:l,between:c,only:f,not:h,unit:n},i)}const Z7={borderRadius:4},ej=Z7;function tj(t=8){if(t.mui)return t;const e=kA({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const nj=["breakpoints","palette","spacing","shape"];function NA(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Oa(t,nj),a=q7(n),l=tj(i);let c=xs({breakpoints:a,direction:"ltr",components:{},palette:Rr({mode:"light"},r),spacing:l,shape:Rr({},ej,s)},o);return c=e.reduce((f,h)=>xs(f,h),c),c.unstable_sxConfig=Rr({},my,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return gy({sx:h,theme:this})},c}const rj=R.createContext(null),ij=rj;function sj(){return R.useContext(ij)}function oj(t){return Object.keys(t).length===0}function aj(t=null){const e=sj();return!e||oj(e)?t:e}const lj=NA();function zA(t=lj){return aj(t)}const cj=["className","component"];function uj(t={}){const{defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:r}=t,i=ZD("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(gy);return R.forwardRef(function(a,l){const c=zA(e),f=FA(a),{className:h,component:p="div"}=f,m=Oa(f,cj);return Le(i,Rr({as:p,ref:l,className:Yt(h,r?r(n):n),theme:c},m))})}const fj=["variant"];function eR(t){return t.length===0}function sk(t){const{variant:e}=t,n=Oa(t,fj);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=eR(r)?t[i]:en(t[i]):r+=`${eR(r)?i:en(i)}${en(t[i].toString())}`}),r}const dj=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],hj=["theme"],pj=["theme"];function Sd(t){return Object.keys(t).length===0}function mj(t){return typeof t=="string"&&t.charCodeAt(0)>96}const gj=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,vj=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=sk(i.props);r[s]=i.style}),r},yj=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let f=!0;Object.keys(c.props).forEach(h=>{o[h]!==c.props[h]&&t[h]!==c.props[h]&&(f=!1)}),f&&a.push(e[sk(c.props)])}),a};function Qd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const xj=NA();function _j(t={}){const{defaultTheme:e=xj,rootShouldForwardProp:n=Qd,slotShouldForwardProp:r=Qd}=t,i=s=>{const o=Sd(s.theme)?e:s.theme;return gy(Rr({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{a7(s,b=>b.filter(A=>!(A!=null&&A.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:f,overridesResolver:h}=o,p=Oa(o,dj),m=c!==void 0?c:l&&l!=="Root"||!1,v=f||!1;let g,y=Qd;l==="Root"?y=n:l?y=r:mj(s)&&(y=void 0);const _=ZD(s,Rr({shouldForwardProp:y,label:g},p)),w=(b,...A)=>{const C=A?A.map(I=>typeof I=="function"&&I.__emotion_real!==I?L=>{let{theme:k}=L,G=Oa(L,hj);return I(Rr({theme:Sd(k)?e:k},G))}:I):[];let E=b;a&&h&&C.push(I=>{const L=Sd(I.theme)?e:I.theme,k=gj(a,L);if(k){const G={};return Object.entries(k).forEach(([z,F])=>{G[z]=typeof F=="function"?F(Rr({},I,{theme:L})):F}),h(I,G)}return null}),a&&!m&&C.push(I=>{const L=Sd(I.theme)?e:I.theme;return yj(I,vj(a,L),L,a)}),v||C.push(i);const B=C.length-A.length;if(Array.isArray(b)&&B>0){const I=new Array(B).fill("");E=[...b,...I],E.raw=[...b.raw,...I]}else typeof b=="function"&&b.__emotion_real!==b&&(E=I=>{let{theme:L}=I,k=Oa(I,pj);return b(Rr({theme:Sd(L)?e:L},k))});return _(E,...C)};return _.withConfig&&(w.withConfig=_.withConfig),w}}function wj(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:OD(e.components[n].defaultProps,r)}function bj({props:t,name:e,defaultTheme:n}){const r=zA(n);return wj({theme:r,name:e,props:t})}function UA(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Sj(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lc(t){if(t.type)return t;if(t.charAt(0)==="#")return lc(Sj(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(of(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(of(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function vy(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Aj(t){t=lc(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,f=(c+n/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),vy({type:a,values:l})}function tR(t){t=lc(t);let e=t.type==="hsl"||t.type==="hsla"?lc(Aj(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Mj(t,e){const n=tR(t),r=tR(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ob(t,e){return t=lc(t),e=UA(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,vy(t)}function ok(t,e){if(t=lc(t),e=UA(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return vy(t)}function ak(t,e){if(t=lc(t),e=UA(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return vy(t)}function Cj(t,e){return Oe({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Ej=["mode","contrastThreshold","tonalOffset"],nR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Dh.white,default:Dh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Y1={text:{primary:Dh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Dh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rR(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=ak(t.main,i):e==="dark"&&(t.dark=ok(t.main,s)))}function Tj(t="light"){return t==="dark"?{main:iu[200],light:iu[50],dark:iu[400]}:{main:iu[700],light:iu[400],dark:iu[800]}}function Rj(t="light"){return t==="dark"?{main:ru[200],light:ru[50],dark:ru[400]}:{main:ru[500],light:ru[300],dark:ru[700]}}function Pj(t="light"){return t==="dark"?{main:nu[500],light:nu[300],dark:nu[700]}:{main:nu[700],light:nu[400],dark:nu[800]}}function Bj(t="light"){return t==="dark"?{main:su[400],light:su[300],dark:su[700]}:{main:su[700],light:su[500],dark:su[900]}}function Ij(t="light"){return t==="dark"?{main:ou[400],light:ou[300],dark:ou[700]}:{main:ou[800],light:ou[500],dark:ou[900]}}function Lj(t="light"){return t==="dark"?{main:wd[400],light:wd[300],dark:wd[700]}:{main:"#ed6c02",light:wd[500],dark:wd[900]}}function Dj(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=yr(t,Ej),s=t.primary||Tj(e),o=t.secondary||Rj(e),a=t.error||Pj(e),l=t.info||Bj(e),c=t.success||Ij(e),f=t.warning||Lj(e);function h(g){return Mj(g,Y1.text.primary)>=n?Y1.text.primary:nR.text.primary}const p=({color:g,name:y,mainShade:_=500,lightShade:w=300,darkShade:b=700})=>{if(g=Oe({},g),!g.main&&g[_]&&(g.main=g[_]),!g.hasOwnProperty("main"))throw new Error(of(11,y?` (${y})`:"",_));if(typeof g.main!="string")throw new Error(of(12,y?` (${y})`:"",JSON.stringify(g.main)));return rR(g,"light",w,r),rR(g,"dark",b,r),g.contrastText||(g.contrastText=h(g.main)),g},m={dark:Y1,light:nR};return xs(Oe({common:Oe({},Dh),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:f,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:kV,contrastThreshold:n,getContrastText:h,augmentColor:p,tonalOffset:r},m[e]),i)}const kj=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Oj(t){return Math.round(t*1e5)/1e5}const iR={textTransform:"uppercase"},sR='"Roboto", "Helvetica", "Arial", sans-serif';function Fj(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=sR,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:f,pxToRem:h}=n,p=yr(n,kj),m=i/14,v=h||(_=>`${_/c*m}rem`),g=(_,w,b,A,C)=>Oe({fontFamily:r,fontWeight:_,fontSize:v(w),lineHeight:b},r===sR?{letterSpacing:`${Oj(A/w)}em`}:{},C,f),y={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,iR),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,iR)};return xs(Oe({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},y),p,{clone:!1})}const Nj=.2,zj=.14,Uj=.12;function cn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Nj})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${zj})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Uj})`].join(",")}const Gj=["none",cn(0,2,1,-1,0,1,1,0,0,1,3,0),cn(0,3,1,-2,0,2,2,0,0,1,5,0),cn(0,3,3,-2,0,3,4,0,0,1,8,0),cn(0,2,4,-1,0,4,5,0,0,1,10,0),cn(0,3,5,-1,0,5,8,0,0,1,14,0),cn(0,3,5,-1,0,6,10,0,0,1,18,0),cn(0,4,5,-2,0,7,10,1,0,2,16,1),cn(0,5,5,-3,0,8,10,1,0,3,14,2),cn(0,5,6,-3,0,9,12,1,0,3,16,2),cn(0,6,6,-3,0,10,14,1,0,4,18,3),cn(0,6,7,-4,0,11,15,1,0,4,20,3),cn(0,7,8,-4,0,12,17,2,0,5,22,4),cn(0,7,8,-4,0,13,19,2,0,5,24,4),cn(0,7,9,-4,0,14,21,2,0,5,26,4),cn(0,8,9,-5,0,15,22,2,0,6,28,5),cn(0,8,10,-5,0,16,24,2,0,6,30,5),cn(0,8,11,-5,0,17,26,2,0,6,32,5),cn(0,9,11,-5,0,18,28,2,0,7,34,6),cn(0,9,12,-6,0,19,29,2,0,7,36,6),cn(0,10,13,-6,0,20,31,3,0,8,38,7),cn(0,10,13,-6,0,21,33,3,0,8,40,7),cn(0,10,14,-6,0,22,35,3,0,8,42,7),cn(0,11,14,-7,0,23,36,3,0,9,44,8),cn(0,11,15,-7,0,24,38,3,0,9,46,8)],Hj=Gj,$j=["duration","easing","delay"],Vj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Wj={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oR(t){return`${Math.round(t)}ms`}function jj(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Jj(t){const e=Oe({},Vj,t.easing),n=Oe({},Wj,t.duration);return Oe({getAutoHeightDuration:jj,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return yr(s,$j),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:oR(o)} ${a} ${typeof l=="string"?l:oR(l)}`).join(",")}},t,{easing:e,duration:n})}const Kj={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Xj=Kj,Yj=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function lk(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=yr(t,Yj);if(t.vars)throw new Error(of(18));const a=Dj(r),l=NA(t);let c=xs(l,{mixins:Cj(l.breakpoints,n),palette:a,shadows:Hj.slice(),typography:Fj(a,s),transitions:Jj(i),zIndex:Oe({},Xj)});return c=xs(c,o),c=e.reduce((f,h)=>xs(f,h),c),c.unstable_sxConfig=Oe({},my,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return gy({sx:h,theme:this})},c}const Qj=lk(),GA=Qj;function qj(){return zA(GA)}function Ts({props:t,name:e}){return bj({props:t,name:e,defaultTheme:GA})}const ck=t=>Qd(t)&&t!=="classes",uk=Qd,Zj=_j({defaultTheme:GA,rootShouldForwardProp:ck}),dn=Zj;function pr(){return pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pr.apply(this,arguments)}function qd(t){return typeof t=="string"}function eJ(t,e,n){return t===void 0||qd(t)?e:pr({},e,{ownerState:pr({},e.ownerState,n)})}function tJ(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function nJ(t,e){return typeof t=="function"?t(e):t}function rJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aR(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function iJ(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const m=Yt(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),v=pr({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=pr({},n,i,r);return m.length>0&&(g.className=m),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const o=tJ(pr({},i,r)),a=aR(r),l=aR(i),c=e(o),f=Yt(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=pr({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),p=pr({},c,n,l,a);return f.length>0&&(p.className=f),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:c.ref}}const sJ=["elementType","externalSlotProps","ownerState"];function pa(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=rJ(t,sJ),o=nJ(r,i),{props:a,internalRef:l}=iJ(pr({},s,{externalSlotProps:o})),c=af(l,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return eJ(n,pr({},a,{ref:c}),i)}const oJ=2;function fk(t,e){return t-e}function Ad(t,e,n){return t==null?e:Math.min(Math.max(e,t),n)}function lR(t,e){var n;const{index:r}=(n=t.reduce((i,s,o)=>{const a=Math.abs(e-s);return i===null||a<i.distance||a===i.distance?{distance:a,index:o}:i},null))!=null?n:{};return r}function Cg(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function cR(t,e,n){return(t-e)*100/(n-e)}function aJ(t,e,n){return(n-e)*t+e}function lJ(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function cJ(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(lJ(e)))}function uR({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(fk)}function Eg({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const s=d0(t.current);if(!((r=t.current)!=null&&r.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()}n&&n(e)}const uJ={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},fJ=t=>t;let Tg;function Q1(){return Tg===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Tg=CSS.supports("touch-action","none"):Tg=!0),Tg}function dJ(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:s=!1,marks:o=!1,max:a=100,min:l=0,name:c,onChange:f,onChangeCommitted:h,orientation:p="horizontal",ref:m,scale:v=fJ,step:g=1,tabIndex:y,value:_}=t,w=R.useRef(),[b,A]=R.useState(-1),[C,E]=R.useState(-1),[B,T]=R.useState(!1),I=R.useRef(0),[L,k]=AA({controlled:_,default:n??l,name:"Slider"}),G=f&&((V,ie,de)=>{const ve=V.nativeEvent||V,Ge=new ve.constructor(ve.type,ve);Object.defineProperty(Ge,"target",{writable:!0,value:{value:ie,name:c}}),f(Ge,ie,de)}),z=Array.isArray(L);let F=z?L.slice().sort(fk):[L];F=F.map(V=>Ad(V,l,a));const J=o===!0&&g!==null?[...Array(Math.floor((a-l)/g)+1)].map((V,ie)=>({value:l+g*ie})):o||[],q=J.map(V=>V.value),{isFocusVisibleRef:ne,onBlur:O,onFocus:W,ref:X}=kD(),[se,Q]=R.useState(-1),re=R.useRef(),_e=af(X,re),be=af(m,_e),te=V=>ie=>{var de;const ve=Number(ie.currentTarget.getAttribute("data-index"));W(ie),ne.current===!0&&Q(ve),E(ve),V==null||(de=V.onFocus)==null||de.call(V,ie)},De=V=>ie=>{var de;O(ie),ne.current===!1&&Q(-1),E(-1),V==null||(de=V.onBlur)==null||de.call(V,ie)};DD(()=>{if(r&&re.current.contains(document.activeElement)){var V;(V=document.activeElement)==null||V.blur()}},[r]),r&&b!==-1&&A(-1),r&&se!==-1&&Q(-1);const Fe=V=>ie=>{var de;(de=V.onChange)==null||de.call(V,ie);const ve=Number(ie.currentTarget.getAttribute("data-index")),Ge=F[ve],pe=q.indexOf(Ge);let ue=ie.target.valueAsNumber;if(J&&g==null&&(ue=ue<Ge?q[pe-1]:q[pe+1]),ue=Ad(ue,l,a),J&&g==null){const ze=q.indexOf(F[ve]);ue=ue<F[ve]?q[ze-1]:q[ze+1]}if(z){i&&(ue=Ad(ue,F[ve-1]||-1/0,F[ve+1]||1/0));const ze=ue;ue=uR({values:F,newValue:ue,index:ve});let Pe=ve;i||(Pe=ue.indexOf(ze)),Eg({sliderRef:re,activeIndex:Pe})}k(ue),Q(ve),G&&G(ie,ue,ve),h&&h(ie,ue)},Ie=R.useRef();let Te=p;s&&p==="horizontal"&&(Te+="-reverse");const Qe=({finger:V,move:ie=!1})=>{const{current:de}=re,{width:ve,height:Ge,bottom:pe,left:ue}=de.getBoundingClientRect();let ze;Te.indexOf("vertical")===0?ze=(pe-V.y)/Ge:ze=(V.x-ue)/ve,Te.indexOf("-reverse")!==-1&&(ze=1-ze);let Pe;if(Pe=aJ(ze,l,a),g)Pe=cJ(Pe,g,l);else{const et=lR(q,Pe);Pe=q[et]}Pe=Ad(Pe,l,a);let Ne=0;if(z){ie?Ne=Ie.current:Ne=lR(F,Pe),i&&(Pe=Ad(Pe,F[Ne-1]||-1/0,F[Ne+1]||1/0));const et=Pe;Pe=uR({values:F,newValue:Pe,index:Ne}),i&&ie||(Ne=Pe.indexOf(et),Ie.current=Ne)}return{newValue:Pe,activeIndex:Ne}},me=zl(V=>{const ie=Cg(V,w);if(!ie)return;if(I.current+=1,V.type==="mousemove"&&V.buttons===0){le(V);return}const{newValue:de,activeIndex:ve}=Qe({finger:ie,move:!0});Eg({sliderRef:re,activeIndex:ve,setActive:A}),k(de),!B&&I.current>oJ&&T(!0),G&&de!==L&&G(V,de,ve)}),le=zl(V=>{const ie=Cg(V,w);if(T(!1),!ie)return;const{newValue:de}=Qe({finger:ie,move:!0});A(-1),V.type==="touchend"&&E(-1),h&&h(V,de),w.current=void 0,Ce()}),Ae=zl(V=>{if(r)return;Q1()||V.preventDefault();const ie=V.changedTouches[0];ie!=null&&(w.current=ie.identifier);const de=Cg(V,w);if(de!==!1){const{newValue:Ge,activeIndex:pe}=Qe({finger:de});Eg({sliderRef:re,activeIndex:pe,setActive:A}),k(Ge),G&&G(V,Ge,pe)}I.current=0;const ve=d0(re.current);ve.addEventListener("touchmove",me),ve.addEventListener("touchend",le)}),Ce=R.useCallback(()=>{const V=d0(re.current);V.removeEventListener("mousemove",me),V.removeEventListener("mouseup",le),V.removeEventListener("touchmove",me),V.removeEventListener("touchend",le)},[le,me]);R.useEffect(()=>{const{current:V}=re;return V.addEventListener("touchstart",Ae,{passive:Q1()}),()=>{V.removeEventListener("touchstart",Ae,{passive:Q1()}),Ce()}},[Ce,Ae]),R.useEffect(()=>{r&&Ce()},[r,Ce]);const Ee=V=>ie=>{var de;if((de=V.onMouseDown)==null||de.call(V,ie),r||ie.defaultPrevented||ie.button!==0)return;ie.preventDefault();const ve=Cg(ie,w);if(ve!==!1){const{newValue:pe,activeIndex:ue}=Qe({finger:ve});Eg({sliderRef:re,activeIndex:ue,setActive:A}),k(pe),G&&G(ie,pe,ue)}I.current=0;const Ge=d0(re.current);Ge.addEventListener("mousemove",me),Ge.addEventListener("mouseup",le)},nt=cR(z?F[0]:l,l,a),Ke=cR(F[F.length-1],l,a)-nt,Xe=(V={})=>{const ie={onMouseDown:Ee(V||{})},de=pr({},V,ie);return pr({ref:be},de)},st=V=>ie=>{var de;(de=V.onMouseOver)==null||de.call(V,ie);const ve=Number(ie.currentTarget.getAttribute("data-index"));E(ve)},lt=V=>ie=>{var de;(de=V.onMouseLeave)==null||de.call(V,ie),E(-1)};return{active:b,axis:Te,axisProps:uJ,dragging:B,focusedThumbIndex:se,getHiddenInputProps:(V={})=>{var ie;const de={onChange:Fe(V||{}),onFocus:te(V||{}),onBlur:De(V||{})},ve=pr({},V,de);return pr({tabIndex:y,"aria-labelledby":e,"aria-orientation":p,"aria-valuemax":v(a),"aria-valuemin":v(l),name:c,type:"range",min:t.min,max:t.max,step:(ie=t.step)!=null?ie:void 0,disabled:r},ve,{style:pr({},ZV,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Xe,getThumbProps:(V={})=>{const ie={onMouseOver:st(V||{}),onMouseLeave:lt(V||{})};return pr({},V,ie)},marks:J,open:C,range:z,trackLeap:Ke,trackOffset:nt,values:F}}function hJ(t){return Cs("MuiSvgIcon",t)}Es("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const pJ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],mJ=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${en(e)}`,`fontSize${en(n)}`]};return io(i,hJ,r)},gJ=dn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${en(n.color)}`],e[`fontSize${en(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,f,h,p,m,v,g,y,_,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((f=t.typography)==null||(h=f.pxToRem)==null?void 0:h.call(f,35))||"2.1875rem"}[e.fontSize],color:(p=(m=(t.vars||t).palette)==null||(v=m[e.color])==null?void 0:v.main)!=null?p:{action:(g=(t.vars||t).palette)==null||(y=g.action)==null?void 0:y.active,disabled:(_=(t.vars||t).palette)==null||(w=_.action)==null?void 0:w.disabled,inherit:void 0}[e.color]}}),dk=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:f=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,m=yr(r,pJ),v=Oe({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:p}),g={};f||(g.viewBox=p);const y=mJ(v);return vn(gJ,Oe({as:a,className:Yt(y.root,s),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},g,m,{ownerState:v,children:[i,h?Le("title",{children:h}):null]}))});dk.muiName="SvgIcon";const fR=dk;function hk(t,e){function n(r,i){return Le(fR,Oe({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=fR.muiName,R.memo(R.forwardRef(n))}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}function vJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function yJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lb(t,e)}const dR=j.createContext(null);function xJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HA(t,e){var n=function(s){return e&&R.isValidElement(s)?e(s):s},r=Object.create(null);return t&&R.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function _J(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ul(t,e,n){return n[e]!=null?n[e]:t.props[e]}function wJ(t,e){return HA(t.children,function(n){return R.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ul(n,"appear",t),enter:Ul(n,"enter",t),exit:Ul(n,"exit",t)})})}function bJ(t,e,n){var r=HA(t.children),i=_J(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(R.isValidElement(o)){var a=s in e,l=s in r,c=e[s],f=R.isValidElement(c)&&!c.props.in;l&&(!a||f)?i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ul(o,"exit",t),enter:Ul(o,"enter",t)}):!l&&a&&!f?i[s]=R.cloneElement(o,{in:!1}):l&&a&&R.isValidElement(c)&&(i[s]=R.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ul(o,"exit",t),enter:Ul(o,"enter",t)}))}}),i}var SJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},AJ={component:"div",childFactory:function(e){return e}},$A=function(t){yJ(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(xJ(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?wJ(i,a):bJ(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=HA(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=ab({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=vJ(i,["component","childFactory"]),l=this.state.contextValue,c=SJ(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?j.createElement(dR.Provider,{value:l},c):j.createElement(dR.Provider,{value:l},j.createElement(s,a,c))},e}(j.Component);$A.propTypes={};$A.defaultProps=AJ;const MJ=$A;function CJ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[f,h]=R.useState(!1),p=Yt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=Yt(n.child,f&&n.childLeaving,r&&n.childPulsate);return!a&&!f&&h(!0),R.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,a,c]),Le("span",{className:p,style:m,children:Le("span",{className:v})})}const EJ=Es("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Hi=EJ,TJ=["center","classes","className"];let yy=t=>t,hR,pR,mR,gR;const cb=550,RJ=80,PJ=BA(hR||(hR=yy`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),BJ=BA(pR||(pR=yy`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),IJ=BA(mR||(mR=yy`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),LJ=dn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),DJ=dn(CJ,{name:"MuiTouchRipple",slot:"Ripple"})(gR||(gR=yy`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Hi.rippleVisible,PJ,cb,({theme:t})=>t.transitions.easing.easeInOut,Hi.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Hi.child,Hi.childLeaving,BJ,cb,({theme:t})=>t.transitions.easing.easeInOut,Hi.childPulsate,IJ,({theme:t})=>t.transitions.easing.easeInOut),kJ=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=yr(r,TJ),[l,c]=R.useState([]),f=R.useRef(0),h=R.useRef(null);R.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const p=R.useRef(!1),m=R.useRef(null),v=R.useRef(null),g=R.useRef(null);R.useEffect(()=>()=>{clearTimeout(m.current)},[]);const y=R.useCallback(A=>{const{pulsate:C,rippleX:E,rippleY:B,rippleSize:T,cb:I}=A;c(L=>[...L,Le(DJ,{classes:{ripple:Yt(s.ripple,Hi.ripple),rippleVisible:Yt(s.rippleVisible,Hi.rippleVisible),ripplePulsate:Yt(s.ripplePulsate,Hi.ripplePulsate),child:Yt(s.child,Hi.child),childLeaving:Yt(s.childLeaving,Hi.childLeaving),childPulsate:Yt(s.childPulsate,Hi.childPulsate)},timeout:cb,pulsate:C,rippleX:E,rippleY:B,rippleSize:T},f.current)]),f.current+=1,h.current=I},[s]),_=R.useCallback((A={},C={},E=()=>{})=>{const{pulsate:B=!1,center:T=i||C.pulsate,fakeElement:I=!1}=C;if((A==null?void 0:A.type)==="mousedown"&&p.current){p.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(p.current=!0);const L=I?null:g.current,k=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let G,z,F;if(T||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)G=Math.round(k.width/2),z=Math.round(k.height/2);else{const{clientX:J,clientY:q}=A.touches&&A.touches.length>0?A.touches[0]:A;G=Math.round(J-k.left),z=Math.round(q-k.top)}if(T)F=Math.sqrt((2*k.width**2+k.height**2)/3),F%2===0&&(F+=1);else{const J=Math.max(Math.abs((L?L.clientWidth:0)-G),G)*2+2,q=Math.max(Math.abs((L?L.clientHeight:0)-z),z)*2+2;F=Math.sqrt(J**2+q**2)}A!=null&&A.touches?v.current===null&&(v.current=()=>{y({pulsate:B,rippleX:G,rippleY:z,rippleSize:F,cb:E})},m.current=setTimeout(()=>{v.current&&(v.current(),v.current=null)},RJ)):y({pulsate:B,rippleX:G,rippleY:z,rippleSize:F,cb:E})},[i,y]),w=R.useCallback(()=>{_({},{pulsate:!0})},[_]),b=R.useCallback((A,C)=>{if(clearTimeout(m.current),(A==null?void 0:A.type)==="touchend"&&v.current){v.current(),v.current=null,m.current=setTimeout(()=>{b(A,C)});return}v.current=null,c(E=>E.length>0?E.slice(1):E),h.current=C},[]);return R.useImperativeHandle(n,()=>({pulsate:w,start:_,stop:b}),[w,_,b]),Le(LJ,Oe({className:Yt(Hi.root,s.root,o),ref:g},a,{children:Le(MJ,{component:null,exit:!0,children:l})}))}),OJ=kJ;function FJ(t){return Cs("MuiButtonBase",t)}const NJ=Es("MuiButtonBase",["root","disabled","focusVisible"]),zJ=NJ,UJ=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],GJ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=io({root:["root",e&&"disabled",n&&"focusVisible"]},FJ,i);return n&&r&&(o.root+=` ${r}`),o},HJ=dn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${zJ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$J=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:p=!1,LinkComponent:m="a",onBlur:v,onClick:g,onContextMenu:y,onDragLeave:_,onFocus:w,onFocusVisible:b,onKeyDown:A,onKeyUp:C,onMouseDown:E,onMouseLeave:B,onMouseUp:T,onTouchEnd:I,onTouchMove:L,onTouchStart:k,tabIndex:G=0,TouchRippleProps:z,touchRippleRef:F,type:J}=r,q=yr(r,UJ),ne=R.useRef(null),O=R.useRef(null),W=af(O,F),{isFocusVisibleRef:X,onFocus:se,onBlur:Q,ref:re}=kD(),[_e,be]=R.useState(!1);c&&_e&&be(!1),R.useImperativeHandle(i,()=>({focusVisible:()=>{be(!0),ne.current.focus()}}),[]);const[te,De]=R.useState(!1);R.useEffect(()=>{De(!0)},[]);const Fe=te&&!f&&!c;R.useEffect(()=>{_e&&p&&!f&&te&&O.current.pulsate()},[f,p,_e,te]);function Ie(pe,ue,ze=h){return zl(Pe=>(ue&&ue(Pe),!ze&&O.current&&O.current[pe](Pe),!0))}const Te=Ie("start",E),Qe=Ie("stop",y),me=Ie("stop",_),le=Ie("stop",T),Ae=Ie("stop",pe=>{_e&&pe.preventDefault(),B&&B(pe)}),Ce=Ie("start",k),Ee=Ie("stop",I),nt=Ie("stop",L),Ke=Ie("stop",pe=>{Q(pe),X.current===!1&&be(!1),v&&v(pe)},!1),Xe=zl(pe=>{ne.current||(ne.current=pe.currentTarget),se(pe),X.current===!0&&(be(!0),b&&b(pe)),w&&w(pe)}),st=()=>{const pe=ne.current;return l&&l!=="button"&&!(pe.tagName==="A"&&pe.href)},lt=R.useRef(!1),$=zl(pe=>{p&&!lt.current&&_e&&O.current&&pe.key===" "&&(lt.current=!0,O.current.stop(pe,()=>{O.current.start(pe)})),pe.target===pe.currentTarget&&st()&&pe.key===" "&&pe.preventDefault(),A&&A(pe),pe.target===pe.currentTarget&&st()&&pe.key==="Enter"&&!c&&(pe.preventDefault(),g&&g(pe))}),D=zl(pe=>{p&&pe.key===" "&&O.current&&_e&&!pe.defaultPrevented&&(lt.current=!1,O.current.stop(pe,()=>{O.current.pulsate(pe)})),C&&C(pe),g&&pe.target===pe.currentTarget&&st()&&pe.key===" "&&!pe.defaultPrevented&&g(pe)});let V=l;V==="button"&&(q.href||q.to)&&(V=m);const ie={};V==="button"?(ie.type=J===void 0?"button":J,ie.disabled=c):(!q.href&&!q.to&&(ie.role="button"),c&&(ie["aria-disabled"]=c));const de=af(n,re,ne),ve=Oe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:f,disableTouchRipple:h,focusRipple:p,tabIndex:G,focusVisible:_e}),Ge=GJ(ve);return vn(HJ,Oe({as:V,className:Yt(Ge.root,a),ownerState:ve,onBlur:Ke,onClick:g,onContextMenu:Qe,onFocus:Xe,onKeyDown:$,onKeyUp:D,onMouseDown:Te,onMouseLeave:Ae,onMouseUp:le,onDragLeave:me,onTouchEnd:Ee,onTouchMove:nt,onTouchStart:Ce,ref:de,tabIndex:c?-1:G,type:J},ie,q,{children:[o,Fe?Le(OJ,Oe({ref:W,center:s},z)):null]}))}),VJ=$J;function WJ(t){return Cs("MuiTypography",t)}Es("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const jJ=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],JJ=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${en(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return io(a,WJ,o)},KJ=dn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${en(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>Oe({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),vR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},XJ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},YJ=t=>XJ[t]||t,QJ=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiTypography"}),i=YJ(r.color),s=FA(Oe({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:f=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=vR}=s,v=yr(s,jJ),g=Oe({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:f,paragraph:h,variant:p,variantMapping:m}),y=l||(h?"p":m[p]||vR[p])||"span",_=JJ(g);return Le(KJ,Oe({as:y,ref:n,ownerState:g,className:Yt(_.root,a)},v))}),ub=QJ;function VA({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const qJ=R.createContext(void 0),pk=qJ;function xy(){return R.useContext(pk)}function yR(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function ZJ(t,e=!1){return t&&(yR(t.value)&&t.value!==""||e&&yR(t.defaultValue)&&t.defaultValue!=="")}function eK(t){return t.startAdornment}const tK=t=>!t||!qd(t),nK=tK,rK=lk(),iK=uj({defaultTheme:rK,defaultClassName:"MuiBox-root",generateClassName:FD.generate}),Rg=iK;function sK(t){return Cs("PrivateSwitchBase",t)}Es("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const oK=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],aK=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${en(i)}`],input:["input"]};return io(s,sK,e)},lK=dn(VJ)(({ownerState:t})=>Oe({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),cK=dn("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),uK=R.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:f=!1,icon:h,id:p,inputProps:m,inputRef:v,name:g,onBlur:y,onChange:_,onFocus:w,readOnly:b,required:A=!1,tabIndex:C,type:E,value:B}=e,T=yr(e,oK),[I,L]=AA({controlled:i,default:Boolean(a),name:"SwitchBase",state:"checked"}),k=xy(),G=W=>{w&&w(W),k&&k.onFocus&&k.onFocus(W)},z=W=>{y&&y(W),k&&k.onBlur&&k.onBlur(W)},F=W=>{if(W.nativeEvent.defaultPrevented)return;const X=W.target.checked;L(X),_&&_(W,X)};let J=l;k&&typeof J>"u"&&(J=k.disabled);const q=E==="checkbox"||E==="radio",ne=Oe({},e,{checked:I,disabled:J,disableFocusRipple:c,edge:f}),O=aK(ne);return vn(lK,Oe({component:"span",className:Yt(O.root,o),centerRipple:!0,focusRipple:!c,disabled:J,tabIndex:null,role:void 0,onFocus:G,onBlur:z,ownerState:ne,ref:n},T,{children:[Le(cK,Oe({autoFocus:r,checked:i,defaultChecked:a,className:O.input,disabled:J,id:q&&p,name:g,onChange:F,readOnly:b,ref:v,required:A,ownerState:ne,tabIndex:C,type:E},E==="checkbox"&&B===void 0?{}:{value:B},m)),I?s:h]}))}),fK=uK;function dK(t){return Cs("MuiFormControl",t)}Es("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const hK=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],pK=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${en(n)}`,r&&"fullWidth"]};return io(i,dK,e)},mK=dn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>Oe({},e.root,e[`margin${en(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>Oe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),gK=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:f,fullWidth:h=!1,hiddenLabel:p=!1,margin:m="none",required:v=!1,size:g="medium",variant:y="outlined"}=r,_=yr(r,hK),w=Oe({},r,{color:o,component:a,disabled:l,error:c,fullWidth:h,hiddenLabel:p,margin:m,required:v,size:g,variant:y}),b=pK(w),[A,C]=R.useState(()=>{let z=!1;return i&&R.Children.forEach(i,F=>{if(!j1(F,["Input","Select"]))return;const J=j1(F,["Select"])?F.props.input:F;J&&eK(J.props)&&(z=!0)}),z}),[E,B]=R.useState(()=>{let z=!1;return i&&R.Children.forEach(i,F=>{j1(F,["Input","Select"])&&ZJ(F.props,!0)&&(z=!0)}),z}),[T,I]=R.useState(!1);l&&T&&I(!1);const L=f!==void 0&&!l?f:T;let k;const G=R.useMemo(()=>({adornedStart:A,setAdornedStart:C,color:o,disabled:l,error:c,filled:E,focused:L,fullWidth:h,hiddenLabel:p,size:g,onBlur:()=>{I(!1)},onEmpty:()=>{B(!1)},onFilled:()=>{B(!0)},onFocus:()=>{I(!0)},registerEffect:k,required:v,variant:y}),[A,o,l,c,E,L,h,p,k,v,g,y]);return Le(pk.Provider,{value:G,children:Le(mK,Oe({as:a,ownerState:w,className:Yt(b.root,s),ref:n},_,{children:i}))})}),q1=gK;function vK(t){return Cs("MuiFormControlLabel",t)}const yK=Es("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),Pg=yK,xK=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","slotProps","value"],_K=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i}=t,s={root:["root",n&&"disabled",`labelPlacement${en(r)}`,i&&"error"],label:["label",n&&"disabled"]};return io(s,vK,e)},wK=dn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Pg.label}`]:e.label},e.root,e[`labelPlacement${en(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>Oe({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Pg.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Pg.label}`]:{[`&.${Pg.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),bK=R.forwardRef(function(e,n){var r;const i=Ts({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:o={},control:a,disabled:l,disableTypography:c,label:f,labelPlacement:h="end",slotProps:p={}}=i,m=yr(i,xK),v=xy();let g=l;typeof g>"u"&&typeof a.props.disabled<"u"&&(g=a.props.disabled),typeof g>"u"&&v&&(g=v.disabled);const y={disabled:g};["checked","name","onChange","value","inputRef"].forEach(E=>{typeof a.props[E]>"u"&&typeof i[E]<"u"&&(y[E]=i[E])});const _=VA({props:i,muiFormControl:v,states:["error"]}),w=Oe({},i,{disabled:g,labelPlacement:h,error:_.error}),b=_K(w),A=(r=p.typography)!=null?r:o.typography;let C=f;return C!=null&&C.type!==ub&&!c&&(C=Le(ub,Oe({component:"span"},A,{className:Yt(b.label,A==null?void 0:A.className),children:C}))),vn(wK,Oe({className:Yt(b.root,s),ownerState:w,ref:n},m,{children:[R.cloneElement(a,y),C]}))}),xl=bK;function SK(t){return Cs("MuiFormGroup",t)}Es("MuiFormGroup",["root","row","error"]);const AK=["className","row"],MK=t=>{const{classes:e,row:n,error:r}=t;return io({root:["root",n&&"row",r&&"error"]},SK,e)},CK=dn("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>Oe({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),EK=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=r,o=yr(r,AK),a=xy(),l=VA({props:r,muiFormControl:a,states:["error"]}),c=Oe({},r,{row:s,error:l.error}),f=MK(c);return Le(CK,Oe({className:Yt(f.root,i),ownerState:c,ref:n},o))}),TK=EK;function RK(t){return Cs("MuiFormLabel",t)}const PK=Es("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),g0=PK,BK=["children","className","color","component","disabled","error","filled","focused","required"],IK=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${en(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return io(l,RK,e)},LK=dn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>Oe({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>Oe({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${g0.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${g0.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${g0.error}`]:{color:(t.vars||t).palette.error.main}})),DK=dn("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${g0.error}`]:{color:(t.vars||t).palette.error.main}})),kK=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=yr(r,BK),l=xy(),c=VA({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),f=Oe({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=IK(f);return vn(LK,Oe({as:o,ownerState:f,className:Yt(h.root,s),ref:n},a,{children:[i,c.required&&vn(DK,{ownerState:f,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))}),Bg=kK,OK=hk(Le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),FK=hk(Le("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),NK=dn("span")({position:"relative",display:"flex"}),zK=dn(OK)({transform:"scale(1)"}),UK=dn(FK)(({theme:t,ownerState:e})=>Oe({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function mk(t){const{checked:e=!1,classes:n={},fontSize:r}=t,i=Oe({},t,{checked:e});return vn(NK,{className:n.root,ownerState:i,children:[Le(zK,{fontSize:r,className:n.background,ownerState:i}),Le(UK,{fontSize:r,className:n.dot,ownerState:i})]})}const GK=R.createContext(void 0),gk=GK;function HK(){return R.useContext(gk)}function $K(t){return Cs("MuiRadio",t)}const VK=Es("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),xR=VK,WK=["checked","checkedIcon","color","icon","name","onChange","size","className"],jK=t=>{const{classes:e,color:n}=t,r={root:["root",`color${en(n)}`]};return Oe({},e,io(r,$K,e))},JK=dn(fK,{shouldForwardProp:t=>ck(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${en(n.color)}`]]}})(({theme:t,ownerState:e})=>Oe({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ob(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${xR.checked}`]:{color:(t.vars||t).palette[e.color].main}},{[`&.${xR.disabled}`]:{color:(t.vars||t).palette.action.disabled}}));function KK(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const _R=Le(mk,{checked:!0}),wR=Le(mk,{}),XK=R.forwardRef(function(e,n){var r,i;const s=Ts({props:e,name:"MuiRadio"}),{checked:o,checkedIcon:a=_R,color:l="primary",icon:c=wR,name:f,onChange:h,size:p="medium",className:m}=s,v=yr(s,WK),g=Oe({},s,{color:l,size:p}),y=jK(g),_=HK();let w=o;const b=GV(h,_&&_.onChange);let A=f;return _&&(typeof w>"u"&&(w=KK(_.value,s.value)),typeof A>"u"&&(A=_.name)),Le(JK,Oe({type:"radio",icon:R.cloneElement(c,{fontSize:(r=wR.props.fontSize)!=null?r:p}),checkedIcon:R.cloneElement(a,{fontSize:(i=_R.props.fontSize)!=null?i:p}),ownerState:g,classes:y,name:A,checked:w,onChange:b,ref:n,className:Yt(y.root,m)},v))}),_l=XK,YK=["actions","children","defaultValue","name","onChange","value"],QK=R.forwardRef(function(e,n){const{actions:r,children:i,defaultValue:s,name:o,onChange:a,value:l}=e,c=yr(e,YK),f=R.useRef(null),[h,p]=AA({controlled:l,default:s,name:"RadioGroup"});R.useImperativeHandle(r,()=>({focus:()=>{let y=f.current.querySelector("input:not(:disabled):checked");y||(y=f.current.querySelector("input:not(:disabled)")),y&&y.focus()}}),[]);const m=af(n,f),v=WV(o),g=R.useMemo(()=>({name:v,onChange(y){p(y.target.value),a&&a(y,y.target.value)},value:h}),[v,a,p,h]);return Le(gk.Provider,{value:g,children:Le(TK,Oe({role:"radiogroup",ref:m},c,{children:i}))})}),bR=QK;function qK(t){return Cs("MuiSlider",t)}const ZK=Es("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ms=ZK,eX=t=>{const{open:e}=t;return{offset:Yt(e&&ms.valueLabelOpen),circle:ms.valueLabelCircle,label:ms.valueLabelLabel}};function tX(t){const{children:e,className:n,value:r}=t,i=eX(t);return e?R.cloneElement(e,{className:Yt(e.props.className)},vn(R.Fragment,{children:[e.props.children,Le("span",{className:Yt(i.offset,n),"aria-hidden":!0,children:Le("span",{className:i.circle,children:Le("span",{className:i.label,children:r})})})]})):null}const nX=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],SR=(t,e,n)=>(t-e)*100/(n-e);function AR(t){return t}const rX=dn("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${en(n.color)}`],n.size!=="medium"&&e[`size${en(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>Oe({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(t.vars||t).palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&Oe({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&Oe({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ms.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${ms.dragging}`]:{[`& .${ms.thumb}, & .${ms.track}`]:{transition:"none"}}})),iX=dn("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>Oe({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),sX=dn("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?ak(t.palette[e.color].main,.62):ok(t.palette[e.color].main,.5);return Oe({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n,borderColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n})}),oX=dn("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${en(n.color)}`],n.size!=="medium"&&e[`thumbSize${en(n.size)}`]]}})(({theme:t,ownerState:e})=>Oe({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":Oe({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ms.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:ob(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ms.active}`]:{boxShadow:`0px 0px 0px 14px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:ob(t.palette[e.color].main,.16)}`},[`&.${ms.disabled}`]:{"&:hover":{boxShadow:"none"}}})),aX=dn(tX,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>Oe({[`&.${ms.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},e.orientation==="vertical"&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),lX=dn("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>uk(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(({theme:t,ownerState:e,markActive:n})=>Oe({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})),cX=dn("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>uk(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:n})=>Oe({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(t.vars||t).palette.text.primary})),uX=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:s,classes:o,color:a,size:l}=t,c={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",a&&`color${en(a)}`,l&&`size${en(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${en(l)}`,a&&`thumbColor${en(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return io(c,qK,o)},fX=({children:t})=>t,dX=R.forwardRef(function(e,n){var r,i,s,o,a,l,c,f,h,p,m,v,g,y,_,w,b,A,C,E,B,T,I,L;const k=Ts({props:e,name:"MuiSlider"}),z=qj().direction==="rtl",{"aria-label":F,"aria-valuetext":J,"aria-labelledby":q,component:ne="span",components:O={},componentsProps:W={},color:X="primary",classes:se,className:Q,disableSwap:re=!1,disabled:_e=!1,getAriaLabel:be,getAriaValueText:te,marks:De=!1,max:Fe=100,min:Ie=0,orientation:Te="horizontal",size:Qe="medium",step:me=1,scale:le=AR,slotProps:Ae,slots:Ce,track:Ee="normal",valueLabelDisplay:nt="off",valueLabelFormat:Ke=AR}=k,Xe=yr(k,nX),st=Oe({},k,{isRtl:z,max:Fe,min:Ie,classes:se,disabled:_e,disableSwap:re,orientation:Te,marks:De,color:X,size:Qe,step:me,scale:le,track:Ee,valueLabelDisplay:nt,valueLabelFormat:Ke}),{axisProps:lt,getRootProps:$,getHiddenInputProps:D,getThumbProps:V,open:ie,active:de,axis:ve,focusedThumbIndex:Ge,range:pe,dragging:ue,marks:ze,values:Pe,trackOffset:Ne,trackLeap:et}=dJ(Oe({},st,{ref:n}));st.marked=ze.length>0&&ze.some(Ve=>Ve.label),st.dragging=ue,st.focusedThumbIndex=Ge;const $e=uX(st),Y=(r=(i=Ce==null?void 0:Ce.root)!=null?i:O.Root)!=null?r:rX,Se=(s=(o=Ce==null?void 0:Ce.rail)!=null?o:O.Rail)!=null?s:iX,je=(a=(l=Ce==null?void 0:Ce.track)!=null?l:O.Track)!=null?a:sX,K=(c=(f=Ce==null?void 0:Ce.thumb)!=null?f:O.Thumb)!=null?c:oX,fe=(h=(p=Ce==null?void 0:Ce.valueLabel)!=null?p:O.ValueLabel)!=null?h:aX,Me=(m=(v=Ce==null?void 0:Ce.mark)!=null?v:O.Mark)!=null?m:lX,ke=(g=(y=Ce==null?void 0:Ce.markLabel)!=null?y:O.MarkLabel)!=null?g:cX,rt=(_=(w=Ce==null?void 0:Ce.input)!=null?w:O.Input)!=null?_:"input",wt=(b=Ae==null?void 0:Ae.root)!=null?b:W.root,Dt=(A=Ae==null?void 0:Ae.rail)!=null?A:W.rail,Ot=(C=Ae==null?void 0:Ae.track)!=null?C:W.track,Nn=(E=Ae==null?void 0:Ae.thumb)!=null?E:W.thumb,Ct=(B=Ae==null?void 0:Ae.valueLabel)!=null?B:W.valueLabel,zn=(T=Ae==null?void 0:Ae.mark)!=null?T:W.mark,Ln=(I=Ae==null?void 0:Ae.markLabel)!=null?I:W.markLabel,_c=(L=Ae==null?void 0:Ae.input)!=null?L:W.input,Lf=pa({elementType:Y,getSlotProps:$,externalSlotProps:wt,externalForwardedProps:Xe,additionalProps:Oe({},nK(Y)&&{as:ne}),ownerState:Oe({},st,wt==null?void 0:wt.ownerState),className:[$e.root,Q]}),wc=pa({elementType:Se,externalSlotProps:Dt,ownerState:st,className:$e.rail}),el=pa({elementType:je,externalSlotProps:Ot,additionalProps:{style:Oe({},lt[ve].offset(Ne),lt[ve].leap(et))},ownerState:Oe({},st,Ot==null?void 0:Ot.ownerState),className:$e.track}),U=pa({elementType:K,getSlotProps:V,externalSlotProps:Nn,ownerState:Oe({},st,Nn==null?void 0:Nn.ownerState)}),ae=pa({elementType:fe,externalSlotProps:Ct,ownerState:Oe({},st,Ct==null?void 0:Ct.ownerState),className:$e.valueLabel}),ye=pa({elementType:Me,externalSlotProps:zn,ownerState:st,className:$e.mark}),oe=pa({elementType:ke,externalSlotProps:Ln,ownerState:st}),xe=pa({elementType:rt,getSlotProps:D,externalSlotProps:_c,ownerState:st});return vn(Y,Oe({},Lf,{children:[Le(Se,Oe({},wc)),Le(je,Oe({},el)),ze.filter(Ve=>Ve.value>=Ie&&Ve.value<=Fe).map((Ve,tt)=>{const mt=SR(Ve.value,Ie,Fe),gt=lt[ve].offset(mt);let pt;return Ee===!1?pt=Pe.indexOf(Ve.value)!==-1:pt=Ee==="normal"&&(pe?Ve.value>=Pe[0]&&Ve.value<=Pe[Pe.length-1]:Ve.value<=Pe[0])||Ee==="inverted"&&(pe?Ve.value<=Pe[0]||Ve.value>=Pe[Pe.length-1]:Ve.value>=Pe[0]),vn(R.Fragment,{children:[Le(Me,Oe({"data-index":tt},ye,!qd(Me)&&{markActive:pt},{style:Oe({},gt,ye.style),className:Yt(ye.className,pt&&$e.markActive)})),Ve.label!=null?Le(ke,Oe({"aria-hidden":!0,"data-index":tt},oe,!qd(ke)&&{markLabelActive:pt},{style:Oe({},gt,oe.style),className:Yt($e.markLabel,oe.className,pt&&$e.markLabelActive),children:Ve.label})):null]},tt)}),Pe.map((Ve,tt)=>{const mt=SR(Ve,Ie,Fe),gt=lt[ve].offset(mt),pt=nt==="off"?fX:fe;return Le(R.Fragment,{children:Le(pt,Oe({},!qd(pt)&&{valueLabelFormat:Ke,valueLabelDisplay:nt,value:typeof Ke=="function"?Ke(le(Ve),tt):Ke,index:tt,open:ie===tt||de===tt||nt==="on",disabled:_e},ae,{children:Le(K,Oe({"data-index":tt,"data-focusvisible":Ge===tt},U,{className:Yt($e.thumb,U.className,de===tt&&$e.active,Ge===tt&&$e.focusVisible),style:Oe({},gt,{pointerEvents:re&&de!==tt?"none":void 0},U.style),children:Le(rt,Oe({"data-index":tt,"aria-label":be?be(tt):F,"aria-valuenow":le(Ve),"aria-labelledby":q,"aria-valuetext":te?te(le(Ve),tt):J,value:Pe[tt]},xe))}))}))},tt)})]}))}),MR=dX,hX=["component","direction","spacing","divider","children"];function pX(t,e){const n=R.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(R.cloneElement(e,{key:`separator-${s}`})),r),[])}const mX=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],gX=({ownerState:t,theme:e})=>{let n=Oe({display:"flex",flexDirection:"column"},ws({theme:e},X1({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=kA(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=X1({values:t.direction,base:i}),o=X1({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,f)=>{if(!s[l]){const p=c>0?s[f[c-1]]:"column";s[l]=p}}),n=xs(n,ws({theme:e},o,(l,c)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${mX(c?s[c]:t.direction)}`]:Mf(r,l)}})))}return n=l7(e.breakpoints,n),n},vX=dn("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>[e.root]})(gX),yX=R.forwardRef(function(e,n){const r=Ts({props:e,name:"MuiStack"}),i=FA(r),{component:s="div",direction:o="column",spacing:a=0,divider:l,children:c}=i,f=yr(i,hX);return Le(vX,Oe({as:s,ownerState:{direction:o,spacing:a},ref:n},f,{children:l?pX(c,l):c}))}),xX=yX,vk=R.createContext(),_X=({children:t})=>{const[e,n]=R.useState(2),[r,i]=R.useState("#777777"),[s,o]=R.useState(100),[a,l]=R.useState(100),[c,f]=R.useState({current:null,items:{plate:"black"}});return Le(vk.Provider,{value:{legsType:e,legsColor:r,tableWidth:s,tableLength:a,picker:c,setLegsColor:i,setLegsType:n,setTableWidth:o,setTableLength:l,setPicker:f},children:t})},WA=()=>R.useContext(vk),wX=()=>{const{legsType:t,legsColor:e,setLegsColor:n,setLegsType:r,tableWidth:i,setTableWidth:s,tableLength:o,setTableLength:a}=WA();return Le(Rg,{sx:{position:"absolute",top:0,right:0},p:3,children:vn(xX,{spacing:3,children:[Le(ub,{variant:"caption",children:"Table Configurator"}),Le(Rg,{className:"glass",p:3,children:vn(q1,{children:[Le(Bg,{children:"Table width"}),Le(MR,{sx:{width:"200px"},min:50,max:200,value:i,onChange:l=>s(l.target.value),valueLabelDisplay:"auto"}),Le(Bg,{children:"Table Length"}),Le(MR,{sx:{width:"200px"},min:50,max:200,value:o,onChange:l=>a(l.target.value),valueLabelDisplay:"auto"})]})}),Le(Rg,{className:"glass",p:3,children:vn(q1,{children:[Le(Bg,{children:"Legs Layout"}),vn(bR,{value:t,onChange:l=>r(parseInt(l.target.value)),children:[Le(xl,{value:0,control:Le(_l,{}),label:"Standard"}),Le(xl,{value:1,control:Le(_l,{}),label:"Solid"}),Le(xl,{value:2,control:Le(_l,{}),label:"Design"})]})]})}),Le(Rg,{className:"glass",p:3,children:vn(q1,{children:[Le(Bg,{children:"Legs Color"}),vn(bR,{value:e,onChange:l=>n(l.target.value),children:[Le(xl,{value:"#777777",control:Le(_l,{}),label:"Black"}),Le(xl,{value:"#ECECEC",control:Le(_l,{}),label:"Chrome"}),Le(xl,{value:"#C9BD71",control:Le(_l,{}),label:"Gold"}),Le(xl,{value:"#C9A3B9",control:Le(_l,{}),label:"Pink Gold"})]})]})})]})})};function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}const bX=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const f=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=p=>{const m=o(p);if(!f(h,m)){const v=h;a(h=m,v)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},t(e,n,r)};function CR(t,e){if(e===iL)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===W0||e===US){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===W0)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const SX=parseInt(Xh.replace(/\D+/g,""));var AX=Object.defineProperty,MX=(t,e,n)=>e in t?AX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dt=(t,e,n)=>(MX(t,typeof e!="symbol"?e+"":e,n),n);const Ig=new vf,ER=new Mo,CX=Math.cos(70*(Math.PI/180)),TR=(t,e)=>(t%e+e)%e;let EX=class extends no{constructor(e,n){super(),dt(this,"object"),dt(this,"domElement"),dt(this,"enabled",!0),dt(this,"target",new N),dt(this,"minDistance",0),dt(this,"maxDistance",1/0),dt(this,"minZoom",0),dt(this,"maxZoom",1/0),dt(this,"minPolarAngle",0),dt(this,"maxPolarAngle",Math.PI),dt(this,"minAzimuthAngle",-1/0),dt(this,"maxAzimuthAngle",1/0),dt(this,"enableDamping",!1),dt(this,"dampingFactor",.05),dt(this,"enableZoom",!0),dt(this,"zoomSpeed",1),dt(this,"enableRotate",!0),dt(this,"rotateSpeed",1),dt(this,"enablePan",!0),dt(this,"panSpeed",1),dt(this,"screenSpacePanning",!0),dt(this,"keyPanSpeed",7),dt(this,"zoomToCursor",!1),dt(this,"autoRotate",!1),dt(this,"autoRotateSpeed",2),dt(this,"reverseOrbit",!1),dt(this,"reverseHorizontalOrbit",!1),dt(this,"reverseVerticalOrbit",!1),dt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),dt(this,"mouseButtons",{LEFT:Al.ROTATE,MIDDLE:Al.DOLLY,RIGHT:Al.PAN}),dt(this,"touches",{ONE:Ml.ROTATE,TWO:Ml.DOLLY_PAN}),dt(this,"target0"),dt(this,"position0"),dt(this,"zoom0"),dt(this,"_domElementKeyEvents",null),dt(this,"getPolarAngle"),dt(this,"getAzimuthalAngle"),dt(this,"setPolarAngle"),dt(this,"setAzimuthalAngle"),dt(this,"getDistance"),dt(this,"listenToKeyEvents"),dt(this,"stopListenToKeyEvents"),dt(this,"saveState"),dt(this,"reset"),dt(this,"update"),dt(this,"connect"),dt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=Y=>{let Se=TR(Y,2*Math.PI),je=f.phi;je<0&&(je+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let K=Math.abs(Se-je);2*Math.PI-K<K&&(Se<je?Se+=2*Math.PI:je+=2*Math.PI),h.phi=Se-je,r.update()},this.setAzimuthalAngle=Y=>{let Se=TR(Y,2*Math.PI),je=f.theta;je<0&&(je+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let K=Math.abs(Se-je);2*Math.PI-K<K&&(Se<je?Se+=2*Math.PI:je+=2*Math.PI),h.theta=Se-je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",Ge),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ge),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Y=new N,Se=new N(0,1,0),je=new cr().setFromUnitVectors(e.up,Se),K=je.clone().invert(),fe=new N,Me=new cr,ke=2*Math.PI;return function(){const wt=r.object.position;je.setFromUnitVectors(e.up,Se),K.copy(je).invert(),Y.copy(wt).sub(r.target),Y.applyQuaternion(je),f.setFromVector3(Y),r.autoRotate&&l===a.NONE&&F(G()),r.enableDamping?(f.theta+=h.theta*r.dampingFactor,f.phi+=h.phi*r.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let Dt=r.minAzimuthAngle,Ot=r.maxAzimuthAngle;isFinite(Dt)&&isFinite(Ot)&&(Dt<-Math.PI?Dt+=ke:Dt>Math.PI&&(Dt-=ke),Ot<-Math.PI?Ot+=ke:Ot>Math.PI&&(Ot-=ke),Dt<=Ot?f.theta=Math.max(Dt,Math.min(Ot,f.theta)):f.theta=f.theta>(Dt+Ot)/2?Math.max(Dt,f.theta):Math.min(Ot,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&I||r.object.isOrthographicCamera?f.radius=Q(f.radius):f.radius=Q(f.radius*p),Y.setFromSpherical(f),Y.applyQuaternion(K),wt.copy(r.target).add(Y),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Nn=!1;if(r.zoomToCursor&&I){let Ct=null;if(r.object instanceof xn&&r.object.isPerspectiveCamera){const zn=Y.length();Ct=Q(zn*p);const Ln=zn-Ct;r.object.position.addScaledVector(B,Ln),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const zn=new N(T.x,T.y,0);zn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Nn=!0;const Ln=new N(T.x,T.y,0);Ln.unproject(r.object),r.object.position.sub(Ln).add(zn),r.object.updateMatrixWorld(),Ct=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Ct!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Ct).add(r.object.position):(Ig.origin.copy(r.object.position),Ig.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Ig.direction))<CX?e.lookAt(r.target):(ER.setFromNormalAndCoplanarPoint(r.object.up,r.target),Ig.intersectPlane(ER,r.target))))}else r.object instanceof js&&r.object.isOrthographicCamera&&(Nn=p!==1,Nn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,I=!1,Nn||fe.distanceToSquared(r.object.position)>c||8*(1-Me.dot(r.object.quaternion))>c?(r.dispatchEvent(i),fe.copy(r.object.position),Me.copy(r.object.quaternion),Nn=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Y,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ze),r.domElement.addEventListener("pointerdown",lt),r.domElement.addEventListener("pointercancel",V),r.domElement.addEventListener("wheel",ve)},this.dispose=()=>{var Y,Se,je,K,fe,Me;(Y=r.domElement)==null||Y.removeEventListener("contextmenu",ze),(Se=r.domElement)==null||Se.removeEventListener("pointerdown",lt),(je=r.domElement)==null||je.removeEventListener("pointercancel",V),(K=r.domElement)==null||K.removeEventListener("wheel",ve),(fe=r.domElement)==null||fe.ownerDocument.removeEventListener("pointermove",$),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointerup",D),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ge)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,f=new Xw,h=new Xw;let p=1;const m=new N,v=new we,g=new we,y=new we,_=new we,w=new we,b=new we,A=new we,C=new we,E=new we,B=new N,T=new we;let I=!1;const L=[],k={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function z(){return Math.pow(.95,r.zoomSpeed)}function F(Y){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=Y:h.theta-=Y}function J(Y){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=Y:h.phi-=Y}const q=(()=>{const Y=new N;return function(je,K){Y.setFromMatrixColumn(K,0),Y.multiplyScalar(-je),m.add(Y)}})(),ne=(()=>{const Y=new N;return function(je,K){r.screenSpacePanning===!0?Y.setFromMatrixColumn(K,1):(Y.setFromMatrixColumn(K,0),Y.crossVectors(r.object.up,Y)),Y.multiplyScalar(je),m.add(Y)}})(),O=(()=>{const Y=new N;return function(je,K){const fe=r.domElement;if(fe&&r.object instanceof xn&&r.object.isPerspectiveCamera){const Me=r.object.position;Y.copy(Me).sub(r.target);let ke=Y.length();ke*=Math.tan(r.object.fov/2*Math.PI/180),q(2*je*ke/fe.clientHeight,r.object.matrix),ne(2*K*ke/fe.clientHeight,r.object.matrix)}else fe&&r.object instanceof js&&r.object.isOrthographicCamera?(q(je*(r.object.right-r.object.left)/r.object.zoom/fe.clientWidth,r.object.matrix),ne(K*(r.object.top-r.object.bottom)/r.object.zoom/fe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(Y){r.object instanceof xn&&r.object.isPerspectiveCamera||r.object instanceof js&&r.object.isOrthographicCamera?p/=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function X(Y){r.object instanceof xn&&r.object.isPerspectiveCamera||r.object instanceof js&&r.object.isOrthographicCamera?p*=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function se(Y){if(!r.zoomToCursor||!r.domElement)return;I=!0;const Se=r.domElement.getBoundingClientRect(),je=Y.clientX-Se.left,K=Y.clientY-Se.top,fe=Se.width,Me=Se.height;T.x=je/fe*2-1,T.y=-(K/Me)*2+1,B.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function Q(Y){return Math.max(r.minDistance,Math.min(r.maxDistance,Y))}function re(Y){v.set(Y.clientX,Y.clientY)}function _e(Y){se(Y),A.set(Y.clientX,Y.clientY)}function be(Y){_.set(Y.clientX,Y.clientY)}function te(Y){g.set(Y.clientX,Y.clientY),y.subVectors(g,v).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(F(2*Math.PI*y.x/Se.clientHeight),J(2*Math.PI*y.y/Se.clientHeight)),v.copy(g),r.update()}function De(Y){C.set(Y.clientX,Y.clientY),E.subVectors(C,A),E.y>0?W(z()):E.y<0&&X(z()),A.copy(C),r.update()}function Fe(Y){w.set(Y.clientX,Y.clientY),b.subVectors(w,_).multiplyScalar(r.panSpeed),O(b.x,b.y),_.copy(w),r.update()}function Ie(Y){se(Y),Y.deltaY<0?X(z()):Y.deltaY>0&&W(z()),r.update()}function Te(Y){let Se=!1;switch(Y.code){case r.keys.UP:O(0,r.keyPanSpeed),Se=!0;break;case r.keys.BOTTOM:O(0,-r.keyPanSpeed),Se=!0;break;case r.keys.LEFT:O(r.keyPanSpeed,0),Se=!0;break;case r.keys.RIGHT:O(-r.keyPanSpeed,0),Se=!0;break}Se&&(Y.preventDefault(),r.update())}function Qe(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),Se=.5*(L[0].pageY+L[1].pageY);v.set(Y,Se)}}function me(){if(L.length==1)_.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),Se=.5*(L[0].pageY+L[1].pageY);_.set(Y,Se)}}function le(){const Y=L[0].pageX-L[1].pageX,Se=L[0].pageY-L[1].pageY,je=Math.sqrt(Y*Y+Se*Se);A.set(0,je)}function Ae(){r.enableZoom&&le(),r.enablePan&&me()}function Ce(){r.enableZoom&&le(),r.enableRotate&&Qe()}function Ee(Y){if(L.length==1)g.set(Y.pageX,Y.pageY);else{const je=$e(Y),K=.5*(Y.pageX+je.x),fe=.5*(Y.pageY+je.y);g.set(K,fe)}y.subVectors(g,v).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(F(2*Math.PI*y.x/Se.clientHeight),J(2*Math.PI*y.y/Se.clientHeight)),v.copy(g)}function nt(Y){if(L.length==1)w.set(Y.pageX,Y.pageY);else{const Se=$e(Y),je=.5*(Y.pageX+Se.x),K=.5*(Y.pageY+Se.y);w.set(je,K)}b.subVectors(w,_).multiplyScalar(r.panSpeed),O(b.x,b.y),_.copy(w)}function Ke(Y){const Se=$e(Y),je=Y.pageX-Se.x,K=Y.pageY-Se.y,fe=Math.sqrt(je*je+K*K);C.set(0,fe),E.set(0,Math.pow(C.y/A.y,r.zoomSpeed)),W(E.y),A.copy(C)}function Xe(Y){r.enableZoom&&Ke(Y),r.enablePan&&nt(Y)}function st(Y){r.enableZoom&&Ke(Y),r.enableRotate&&Ee(Y)}function lt(Y){var Se,je;r.enabled!==!1&&(L.length===0&&((Se=r.domElement)==null||Se.ownerDocument.addEventListener("pointermove",$),(je=r.domElement)==null||je.ownerDocument.addEventListener("pointerup",D)),Pe(Y),Y.pointerType==="touch"?pe(Y):ie(Y))}function $(Y){r.enabled!==!1&&(Y.pointerType==="touch"?ue(Y):de(Y))}function D(Y){var Se,je,K;Ne(Y),L.length===0&&((Se=r.domElement)==null||Se.releasePointerCapture(Y.pointerId),(je=r.domElement)==null||je.ownerDocument.removeEventListener("pointermove",$),(K=r.domElement)==null||K.ownerDocument.removeEventListener("pointerup",D)),r.dispatchEvent(o),l=a.NONE}function V(Y){Ne(Y)}function ie(Y){let Se;switch(Y.button){case 0:Se=r.mouseButtons.LEFT;break;case 1:Se=r.mouseButtons.MIDDLE;break;case 2:Se=r.mouseButtons.RIGHT;break;default:Se=-1}switch(Se){case Al.DOLLY:if(r.enableZoom===!1)return;_e(Y),l=a.DOLLY;break;case Al.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enablePan===!1)return;be(Y),l=a.PAN}else{if(r.enableRotate===!1)return;re(Y),l=a.ROTATE}break;case Al.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enableRotate===!1)return;re(Y),l=a.ROTATE}else{if(r.enablePan===!1)return;be(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function de(Y){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;te(Y);break;case a.DOLLY:if(r.enableZoom===!1)return;De(Y);break;case a.PAN:if(r.enablePan===!1)return;Fe(Y);break}}function ve(Y){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),r.dispatchEvent(s),Ie(Y),r.dispatchEvent(o))}function Ge(Y){r.enabled===!1||r.enablePan===!1||Te(Y)}function pe(Y){switch(et(Y),L.length){case 1:switch(r.touches.ONE){case Ml.ROTATE:if(r.enableRotate===!1)return;Qe(),l=a.TOUCH_ROTATE;break;case Ml.PAN:if(r.enablePan===!1)return;me(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Ml.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case Ml.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ue(Y){switch(et(Y),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ee(Y),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;nt(Y),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Xe(Y),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;st(Y),r.update();break;default:l=a.NONE}}function ze(Y){r.enabled!==!1&&Y.preventDefault()}function Pe(Y){L.push(Y)}function Ne(Y){delete k[Y.pointerId];for(let Se=0;Se<L.length;Se++)if(L[Se].pointerId==Y.pointerId){L.splice(Se,1);return}}function et(Y){let Se=k[Y.pointerId];Se===void 0&&(Se=new we,k[Y.pointerId]=Se),Se.set(Y.pageX,Y.pageY)}function $e(Y){const Se=Y.pointerId===L[0].pointerId?L[1]:L[0];return k[Se.pointerId]}n!==void 0&&this.connect(n),this.update()}};class jA extends jr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new IX(n)}),this.register(function(n){return new UX(n)}),this.register(function(n){return new GX(n)}),this.register(function(n){return new HX(n)}),this.register(function(n){return new DX(n)}),this.register(function(n){return new kX(n)}),this.register(function(n){return new OX(n)}),this.register(function(n){return new FX(n)}),this.register(function(n){return new BX(n)}),this.register(function(n){return new NX(n)}),this.register(function(n){return new LX(n)}),this.register(function(n){return new zX(n)}),this.register(function(n){return new RX(n)}),this.register(function(n){return new $X(n)}),this.register(function(n){return new VX(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ys.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ai(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(f){n(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ys.decodeText(new Uint8Array(e.slice(0,4)))===yk){try{o[Pt.KHR_BINARY_GLTF]=new WX(e)}catch(f){i&&i(f);return}s=JSON.parse(o[Pt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ys.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new iY(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](l);a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const f=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(f){case Pt.KHR_MATERIALS_UNLIT:o[f]=new PX;break;case Pt.KHR_DRACO_MESH_COMPRESSION:o[f]=new jX(s,this.dracoLoader);break;case Pt.KHR_TEXTURE_TRANSFORM:o[f]=new JX;break;case Pt.KHR_MESH_QUANTIZATION:o[f]=new KX;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function TX(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Pt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class RX{constructor(e){this.parser=e,this.name=Pt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const f=new He(16777215);l.color!==void 0&&f.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new mA(f),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new pA(f),c.distance=h;break;case"spot":c=new hA(f),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,xa(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class PX{constructor(){this.name=Pt.KHR_MATERIALS_UNLIT}getMaterialType(){return vi}extendParams(e,n,r){const i=[];e.color=new He(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class BX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class IX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new we(a,a)}return Promise.all(s)}}class LX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class DX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new He(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class kX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class OX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new He(a[0],a[1],a[2]),Promise.all(s)}}class FX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class NX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new He(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class zX{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ro}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class UX{constructor(e){this.parser=e,this.name=Pt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class GX{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class HX{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class $X{constructor(e){this.name=Pt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,f=i.count,h=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,h,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(f*h);return o.decodeGltfBuffer(new Uint8Array(m),f,h,p,i.mode,i.filter),m})})}else return null}}class VX{constructor(e){this.name=Pt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ui.TRIANGLES&&c.mode!==Ui.TRIANGLE_STRIP&&c.mode!==Ui.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(f=>(l[c]=f,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const f=c.pop(),h=f.isGroup?f.children:[f],p=c[0].count,m=[];for(const v of h){const g=new ht,y=new N,_=new cr,w=new N(1,1,1),b=new QS(v.geometry,v.material,p);for(let A=0;A<p;A++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,A),l.SCALE&&w.fromBufferAttribute(l.SCALE,A),b.setMatrixAt(A,g.compose(y,_,w));for(const A in l)A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&v.geometry.setAttribute(A,l[A]);Lt.prototype.copy.call(b,v),this.parser.assignFinalMaterial(b),m.push(b)}return f.isGroup?(f.clear(),f.add(...m),f):m[0]}))}}const yk="glTF",Md=12,RR={JSON:1313821514,BIN:5130562};class WX{constructor(e){this.name=Pt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Md);if(this.header={magic:Ys.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==yk)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Md,i=new DataView(e,Md);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===RR.JSON){const l=new Uint8Array(e,Md+s,o);this.content=Ys.decodeText(l)}else if(a===RR.BIN){const l=Md+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class jX{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Pt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const f in o){const h=fb[f]||f.toLowerCase();a[h]=o[f]}for(const f in e.attributes){const h=fb[f]||f.toLowerCase();if(o[f]!==void 0){const p=r.accessors[e.attributes[f]],m=zu[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(f){return new Promise(function(h){i.decodeDracoFile(f,function(p){for(const m in p.attributes){const v=p.attributes[m],g=l[m];g!==void 0&&(v.normalized=g)}h(p)},a,c)})})}}class JX{constructor(){this.name=Pt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class KX{constructor(){this.name=Pt.KHR_MESH_QUANTIZATION}}class xk extends Sf{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,f=i-n,h=(r-n)/f,p=h*h,m=p*h,v=e*c,g=v-c,y=-2*m+3*p,_=m-p,w=1-y,b=_-p+h;for(let A=0;A!==a;A++){const C=o[g+A+a],E=o[g+A+l]*f,B=o[v+A+a],T=o[v+A]*f;s[A]=w*C+b*E+y*B+_*T}return s}}const XX=new cr;class YX extends xk{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return XX.fromArray(s).normalize().toArray(s),s}}const Ui={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},zu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},PR={9728:Bn,9729:yn,9984:Sh,9985:Dv,9986:Du,9987:Zs},BR={33071:mr,33648:Xu,10497:Ga},Z1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},fb={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...SX>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ma={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},QX={CUBICSPLINE:void 0,LINEAR:sc,STEP:Qu},e_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function qX(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new bf({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qs})),t.DefaultMaterial}function wl(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function xa(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ZX(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,f=e.length;c<f;c++){const h=e[c];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,f=e.length;c<f;c++){const h=e[c];if(r){const p=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):t.attributes.position;o.push(p)}if(i){const p=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?n.getDependency("accessor",h.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const f=c[0],h=c[1],p=c[2];return r&&(t.morphAttributes.position=f),i&&(t.morphAttributes.normal=h),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function eY(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function tY(t){let e;const n=t.extensions&&t.extensions[Pt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+t_(n.attributes):e=t.indices+":"+t_(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+t_(t.targets[r]);return e}function t_(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function db(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function nY(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const rY=new ht;class iY{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new TX,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new qL(this.options.manager):this.textureLoader=new sD(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ai(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};wl(s,a,i),xa(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,f]of o.children.entries())s(f,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Pt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ys.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=Z1[i.type],a=zu[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Ut(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Z1[i.type],c=zu[i.componentType],f=c.BYTES_PER_ELEMENT,h=f*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let g,y;if(m&&m!==h){const _=Math.floor(p/m),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let b=n.cache.get(w);b||(g=new c(a,_*m,i.count*m/f),b=new ep(g,m/f),n.cache.add(w,b)),y=new $a(b,l,p%m/f,v)}else a===null?g=new c(i.count*l):g=new c(a,p,i.count*l),y=new Ut(g,l,v);if(i.sparse!==void 0){const _=Z1.SCALAR,w=zu[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,C=new w(o[1],b,i.sparse.count*_),E=new c(o[2],A,i.sparse.count*l);a!==null&&(y=new Ut(y.array.slice(),y.itemSize,y.normalized));for(let B=0,T=C.length;B<T;B++){const I=C[B];if(y.setX(I,E[B*l]),l>=2&&y.setY(I,E[B*l+1]),l>=3&&y.setZ(I,E[B*l+2]),l>=4&&y.setW(I,E[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=PR[p.magFilter]||yn,f.minFilter=PR[p.minFilter]||Zs,f.wrapS=BR[p.wrapS]||Ga,f.wrapT=BR[p.wrapT]||Ga,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let v=p;n.isImageBitmapLoader===!0&&(v=function(g){const y=new fn(g);y.needsUpdate=!0,p(y)}),n.load(Ys.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||nY(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=f,f}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Pt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Pt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Pt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new $v,Wn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ir,Wn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return bf}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Pt.KHR_MATERIALS_UNLIT]){const h=i[Pt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,n))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new He(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ws);const f=s.alphaMode||e_.OPAQUE;if(f===e_.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===e_.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==vi&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new we(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==vi&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==vi&&(a.emissive=new He().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==vi&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),xa(h,s),n.associations.set(h,{materials:e}),s.extensions&&wl(i,h,s),h})}createUniqueName(e){const n=It.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Pt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return IR(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],f=tY(c),h=i[f];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[Pt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=IR(new xt,c,n),i[f]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const f=o[l].material===void 0?qX(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),f=l[l.length-1],h=[];for(let m=0,v=f.length;m<v;m++){const g=f[m],y=o[m];let _;const w=c[m];if(y.mode===Ui.TRIANGLES||y.mode===Ui.TRIANGLE_STRIP||y.mode===Ui.TRIANGLE_FAN||y.mode===void 0)_=s.isSkinnedMesh===!0?new YS(g,w):new Yn(g,w),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),y.mode===Ui.TRIANGLE_STRIP?_.geometry=CR(_.geometry,US):y.mode===Ui.TRIANGLE_FAN&&(_.geometry=CR(_.geometry,W0));else if(y.mode===Ui.LINES)_=new Ss(g,w);else if(y.mode===Ui.LINE_STRIP)_=new Ho(g,w);else if(y.mode===Ui.LINE_LOOP)_=new qS(g,w);else if(y.mode===Ui.POINTS)_=new ZS(g,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(_.geometry.morphAttributes).length>0&&eY(_,s),_.name=n.createUniqueName(s.name||"mesh_"+e),xa(_,s),y.extensions&&wl(i,_,y),n.assignFinalMaterial(_),h.push(_)}for(let m=0,v=h.length;m<v;m++)n.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&wl(i,h[0],s),h[0];const p=new Lo;s.extensions&&wl(i,p,s),n.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new xn(uL.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new js(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),xa(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,f=o.length;c<f;c++){const h=o[c];if(h){a.push(h);const p=new ht;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new tp(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let f=0,h=r.channels.length;f<h;f++){const p=r.channels[f],m=r.samplers[p.sampler],v=p.target,g=v.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,_=r.parameters!==void 0?r.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",g)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",_)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(f){const h=f[0],p=f[1],m=f[2],v=f[3],g=f[4],y=[];for(let _=0,w=h.length;_<w;_++){const b=h[_],A=p[_],C=m[_],E=v[_],B=g[_];if(b===void 0)continue;b.updateMatrix();let T;switch(ma[B.path]){case ma.weights:T=tf;break;case ma.rotation:T=Va;break;case ma.position:case ma.scale:default:T=nf;break}const I=b.name?b.name:b.uuid,L=E.interpolation!==void 0?QX[E.interpolation]:sc,k=[];ma[B.path]===ma.weights?b.traverse(function(z){z.morphTargetInfluences&&k.push(z.name?z.name:z.uuid)}):k.push(I);let G=C.array;if(C.normalized){const z=db(G.constructor),F=new Float32Array(G.length);for(let J=0,q=G.length;J<q;J++)F[J]=G[J]*z;G=F}for(let z=0,F=k.length;z<F;z++){const J=new T(k[z]+"."+ma[B.path],A.array,G,L);E.interpolation==="CUBICSPLINE"&&(J.createInterpolant=function(ne){const O=this instanceof Va?YX:xk;return new O(this.times,this.values,this.getValueSize()/3,ne)},J.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(J)}}return new rf(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,f=a.length;c<f;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const f=c[0],h=c[1],p=c[2];p!==null&&f.traverse(function(m){m.isSkinnedMesh&&m.bind(p,rY)});for(let m=0,v=h.length;m<v;m++)f.add(h[m]);return f})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let f;if(s.isBone===!0?f=new Hv:c.length>1?f=new Lo:c.length===1?f=c[0]:f=new Lt,f!==c[0])for(let h=0,p=c.length;h<p;h++)f.add(c[h]);if(s.name&&(f.userData.name=s.name,f.name=o),xa(f,s),s.extensions&&wl(r,f,s),s.matrix!==void 0){const h=new ht;h.fromArray(s.matrix),f.applyMatrix4(h)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return i.associations.has(f)||i.associations.set(f,{}),i.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Lo;r.name&&(s.name=i.createUniqueName(r.name)),xa(s,r),r.extensions&&wl(n,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let f=0,h=l.length;f<h;f++)s.add(l[f]);const c=f=>{const h=new Map;for(const[p,m]of i.associations)(p instanceof Wn||p instanceof fn)&&h.set(p,m);return f.traverse(p=>{const m=i.associations.get(p);m!=null&&h.set(p,m)}),h};return i.associations=c(s),s})}}function sY(t,e,n){const r=e.attributes,i=new Ko;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new N(l[0],l[1],l[2]),new N(c[0],c[1],c[2])),a.normalized){const f=db(zu[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let c=0,f=s.length;c<f;c++){const h=s[c];if(h.POSITION!==void 0){const p=n.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const g=db(zu[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Xo;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function IR(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=fb[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return xa(t,e),sY(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?ZX(t,e.targets,n):t})}const oY={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},aY={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},n_=new WeakMap;class lY extends jr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Ai(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(n_.has(e)){const l=n_.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,f)=>{i._callbacks[s]={resolve:c,reject:f},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),n_.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new xt;e.index&&n.setIndex(new Ut(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Ut(o,a))}return n}_loadLibrary(e,n){const r=new Ai(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=cY.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function cY(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(f){t.onModuleLoaded=function(h){f({draco:h})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(f=>{const h=f.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=n(h,p,m,c),g=v.attributes.map(y=>y.array.buffer);v.index&&g.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},g)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(m),h.destroy(p)}});break}};function n(o,a,l,c){const f=c.attributeIDs,h=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const y in f){const _=self[h[y]];let w,b;if(c.useUniqueIDs)b=f[y],w=a.GetAttributeByUniqueId(p,b);else{if(b=a.GetAttributeId(p,o[f[y]]),b===-1)continue;w=a.GetAttribute(p,b)}g.attributes.push(i(o,a,p,y,_,w))}return v===o.TRIANGULAR_MESH&&(g.index=r(o,a,p)),o.destroy(p),g}function r(o,a,l){const f=l.num_faces()*3,h=f*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,f,h){const p=h.num_components(),v=l.num_points()*p,g=v*f.BYTES_PER_ELEMENT,y=s(o,f),_=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,h,y,g,_);const w=new f(o.HEAPF32.buffer,_,v).slice();return o._free(_),{name:c,array:w,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Lg;const r_=()=>{if(Lg)return Lg;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let v=0;v<h.length;++v){const g=h.charCodeAt(v);p[v]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let v=0;v<h.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(h,p,m,v,g,y){const _=s.exports.sbrk,w=m+3&-4,b=_(w*v),A=_(g.length),C=new Uint8Array(s.exports.memory.buffer);C.set(g,A);const E=h(b,m,v,A,g.length);if(E===0&&y&&y(b,w,v),p.set(C.subarray(b,b+m*v)),_(b-_(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Lg={ready:o,supported:!0,decodeVertexBuffer(h,p,m,v,g){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,v,s.exports[c[g]])},decodeIndexBuffer(h,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,v)},decodeIndexSequence(h,p,m,v){l(s.exports.meshopt_decodeIndexSequence,h,p,m,v)},decodeGltfBuffer(h,p,m,v,g,y){l(s.exports[f[g]],h,p,m,v,s.exports[c[y]])}},Lg};function yp(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}let Dg=null,_k="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function wk(t,e,n){return r=>{n&&n(r),t&&(Dg||(Dg=new lY),Dg.setDecoderPath(typeof t=="string"?t:_k),r.setDRACOLoader(Dg)),e&&r.setMeshoptDecoder(typeof r_=="function"?r_():r_)}}function xp(t,e=!0,n=!0,r){return mp(jA,t,wk(e,n,r))}xp.preload=(t,e=!0,n=!0,r)=>mp.preload(jA,t,wk(e,n,r));xp.clear=t=>mp.clear(jA,t);xp.setDecoderPath=t=>{_k=t};const uY=R.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},f)=>{const h=Us(E=>E.invalidate),p=Us(E=>E.camera),m=Us(E=>E.gl),v=Us(E=>E.events),g=Us(E=>E.setEvents),y=Us(E=>E.set),_=Us(E=>E.get),w=Us(E=>E.performance),b=e||p,A=r||v.connected||m.domElement,C=R.useMemo(()=>new EX(b),[b]);return bA(()=>{C.enabled&&C.update()},-1),R.useEffect(()=>(s&&C.connect(s===!0?A:s),C.connect(A),()=>void C.dispose()),[s,A,n,C,h]),R.useEffect(()=>{const E=I=>{h(),n&&w.regress(),o&&o(I)},B=I=>{a&&a(I)},T=I=>{l&&l(I)};return C.addEventListener("change",E),C.addEventListener("start",B),C.addEventListener("end",T),()=>{C.removeEventListener("start",B),C.removeEventListener("end",T),C.removeEventListener("change",E)}},[o,a,l,C,h,g]),R.useEffect(()=>{if(t){const E=_().controls;return y({controls:C}),()=>y({controls:E})}},[t,C]),R.createElement("primitive",Nh({ref:f,object:C,enableDamping:i},c))}),fY=R.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:c,front:f,back:h,onCentered:p,precise:m=!0,cacheKey:v=0,...g},y){const _=R.useRef(null),w=R.useRef(null),b=R.useRef(null);return R.useLayoutEffect(()=>{w.current.matrixWorld.identity();const A=new Ko().setFromObject(b.current,m),C=new N,E=new Xo,B=A.max.x-A.min.x,T=A.max.y-A.min.y,I=A.max.z-A.min.z;A.getCenter(C),A.getBoundingSphere(E);const L=l?T/2:c?-T/2:0,k=o?-B/2:a?B/2:0,G=f?I/2:h?-I/2:0;w.current.position.set(n||r?0:-C.x+k,n||i?0:-C.y+L,n||s?0:-C.z+G),typeof p<"u"&&p({parent:_.current.parent,container:_.current,width:B,height:T,depth:I,boundingBox:A,boundingSphere:E,center:C,verticalAlignment:L,horizontalAlignment:k,depthAlignment:G})},[v,p,l,o,f,n,r,i,s,m,a,c,h]),R.useImperativeHandle(y,()=>_.current,[]),R.createElement("group",Nh({ref:_},g),R.createElement("group",{ref:w},R.createElement("group",{ref:b},e)))}),dY=R.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,near:o=0,far:a=10,resolution:l=512,smooth:c=!0,color:f="#000000",depthWrite:h=!1,renderOrder:p,...m},v)=>{const g=R.useRef(null),y=Us(F=>F.scene),_=Us(F=>F.gl),w=R.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[b,A,C,E,B,T,I]=R.useMemo(()=>{const F=new Si(l,l),J=new Si(l,l);J.texture.generateMipmaps=F.texture.generateMipmaps=!1;const q=new hc(r,i).rotateX(Math.PI/2),ne=new Yn(q),O=new zv;O.depthTest=O.depthWrite=!1,O.onBeforeCompile=se=>{se.uniforms={...se.uniforms,ucolor:{value:new He(f)}},se.fragmentShader=se.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),se.fragmentShader=se.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const W=new Zi(oY),X=new Zi(aY);return X.depthTest=W.depthTest=!1,[F,q,O,ne,W,X,J]},[l,r,i,t,f]),L=F=>{E.visible=!0,E.material=B,B.uniforms.tDiffuse.value=b.texture,B.uniforms.h.value=F*1/256,_.setRenderTarget(I),_.render(E,w.current),E.material=T,T.uniforms.tDiffuse.value=I.texture,T.uniforms.v.value=F*1/256,_.setRenderTarget(b),_.render(E,w.current),E.visible=!1};let k=0,G,z;return bA(()=>{w.current&&(e===1/0||k<e)&&(k++,G=y.background,z=y.overrideMaterial,g.current.visible=!1,y.background=null,y.overrideMaterial=C,_.setRenderTarget(b),_.render(y,w.current),L(s),c&&L(s*.4),_.setRenderTarget(null),g.current.visible=!0,y.overrideMaterial=z,y.background=G)}),R.useImperativeHandle(v,()=>g.current,[]),R.createElement("group",Nh({"rotation-x":Math.PI/2},m,{ref:g}),R.createElement("mesh",{renderOrder:p,geometry:A,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},R.createElement("meshBasicMaterial",{transparent:!0,map:b.texture,opacity:n,depthWrite:h})),R.createElement("orthographicCamera",{ref:w,args:[-r/2,r/2,i/2,-i/2,o,a]}))});var hb={},hY={get exports(){return hb},set exports(t){hb=t}},bk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=R;function pY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mY=typeof Object.is=="function"?Object.is:pY,gY=cf.useState,vY=cf.useEffect,yY=cf.useLayoutEffect,xY=cf.useDebugValue;function _Y(t,e){var n=e(),r=gY({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return yY(function(){i.value=n,i.getSnapshot=e,i_(i)&&s({inst:i})},[t,n,e]),vY(function(){return i_(i)&&s({inst:i}),t(function(){i_(i)&&s({inst:i})})},[t]),xY(n),n}function i_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mY(t,n)}catch{return!0}}function wY(t,e){return e()}var bY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wY:_Y;bk.useSyncExternalStore=cf.useSyncExternalStore!==void 0?cf.useSyncExternalStore:bY;(function(t){t.exports=bk})(hY);const SY=mv(hb),AY=Symbol(),JA=Symbol(),Cd="a",Zd="w";let MY=(t,e)=>new Proxy(t,e);const pb=Object.getPrototypeOf,mb=new WeakMap,Sk=t=>t&&(mb.has(t)?mb.get(t):pb(t)===Object.prototype||pb(t)===Array.prototype),Z0=t=>typeof t=="object"&&t!==null,CY=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(pb(t),e)},KA=t=>t[JA]||t,Ak=(t,e,n,r)=>{if(!Sk(t))return t;let i=r&&r.get(t);if(!i){const l=KA(t);i=(c=>Object.values(Object.getOwnPropertyDescriptors(c)).some(f=>!f.configurable&&!f.writable))(l)?[l,CY(l)]:[l],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return a&&a[1].f===!!o||(a=((l,c)=>{const f={f:c};let h=!1;const p=(v,g)=>{if(!h){let y=f[Cd].get(l);if(y||(y={},f[Cd].set(l,y)),v===Zd)y[Zd]=!0;else{let _=y[v];_||(_=new Set,y[v]=_),_.add(g)}}},m={get:(v,g)=>g===JA?l:(p("k",g),Ak(Reflect.get(v,g),f[Cd],f.c)),has:(v,g)=>g===AY?(h=!0,f[Cd].delete(l),!0):(p("h",g),Reflect.has(v,g)),getOwnPropertyDescriptor:(v,g)=>(p("o",g),Reflect.getOwnPropertyDescriptor(v,g)),ownKeys:v=>(p(Zd),Reflect.ownKeys(v))};return c&&(m.set=m.deleteProperty=()=>!1),[m,f]})(s,!!o),a[1].p=MY(o||s,a[0]),n&&n.set(s,a)),a[1][Cd]=e,a[1].c=n,a[1].p},Mk=(t,e,n,r)=>{if(Object.is(t,e))return!1;if(!Z0(t)||!Z0(e))return!0;const i=n.get(KA(t));if(!i)return!0;if(r){const o=r.get(t);if(o&&o.n===e)return o.g;r.set(t,{n:e,g:!1})}let s=null;try{for(const o of i.h||[])if(s=Reflect.has(t,o)!==Reflect.has(e,o),s)return s;if(i[Zd]===!0){if(s=((o,a)=>{const l=Reflect.ownKeys(o),c=Reflect.ownKeys(a);return l.length!==c.length||l.some((f,h)=>f!==c[h])})(t,e),s)return s}else for(const o of i.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(t,o)!=!!Reflect.getOwnPropertyDescriptor(e,o),s)return s;for(const o of i.k||[])if(s=Mk(t[o],e[o],n,r),s)return s;return s===null&&(s=!0),s}finally{r&&r.set(t,{n:e,g:s})}},EY=t=>Sk(t)&&t[JA]||null,LR=(t,e=!0)=>{mb.set(t,e)},TY=(t,e,n)=>{const r=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;Z0(o)&&i.add(o);const l=Z0(o)&&e.get(KA(o));if(l){var c,f;if((c=l.h)==null||c.forEach(p=>{const m=`:has(${String(p)})`;r.push(a?[...a,m]:[m])}),l[Zd]===!0){const p=":ownKeys";r.push(a?[...a,p]:[p])}else{var h;(h=l.o)==null||h.forEach(p=>{const m=`:hasOwn(${String(p)})`;r.push(a?[...a,m]:[m])})}(f=l.k)==null||f.forEach(p=>{n&&!("value"in(Object.getOwnPropertyDescriptor(o,p)||{}))||s(o[p],a?[...a,p]:[p])})}else a&&r.push(a)};return s(t),r},s_=t=>typeof t=="object"&&t!==null,_a=new WeakMap,kg=new WeakSet,RY=(t=Object.is,e=(c,f)=>new Proxy(c,f),n=c=>s_(c)&&!kg.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),r=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},i=new WeakMap,s=(c,f,h=r)=>{const p=i.get(c);if((p==null?void 0:p[0])===f)return p[1];const m=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return LR(m,!0),i.set(c,[f,m]),Reflect.ownKeys(c).forEach(v=>{if(Object.getOwnPropertyDescriptor(m,v))return;const g=Reflect.get(c,v),y={value:g,enumerable:!0,configurable:!0};if(kg.has(g))LR(g,!1);else if(g instanceof Promise)delete y.value,y.get=()=>h(g);else if(_a.has(g)){const[_,w]=_a.get(g);y.value=s(_,w(),h)}Object.defineProperty(m,v,y)}),m},o=new WeakMap,a=[1,1],l=c=>{if(!s_(c))throw new Error("object required");const f=o.get(c);if(f)return f;let h=a[0];const p=new Set,m=(I,L=++a[0])=>{h!==L&&(h=L,p.forEach(k=>k(I,L)))};let v=a[1];const g=(I=++a[1])=>(v!==I&&!p.size&&(v=I,_.forEach(([L])=>{const k=L[1](I);k>h&&(h=k)})),h),y=I=>(L,k)=>{const G=[...L];G[1]=[I,...G[1]],m(G,k)},_=new Map,w=(I,L)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&_.has(I))throw new Error("prop listener already exists");if(p.size){const k=L[3](y(I));_.set(I,[L,k])}else _.set(I,[L])},b=I=>{var L;const k=_.get(I);k&&(_.delete(I),(L=k[1])==null||L.call(k))},A=I=>(p.add(I),p.size===1&&_.forEach(([k,G],z)=>{if(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&G)throw new Error("remove already exists");const F=k[3](y(z));_.set(z,[k,F])}),()=>{p.delete(I),p.size===0&&_.forEach(([k,G],z)=>{G&&(G(),_.set(z,[k]))})}),C=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),B=e(C,{deleteProperty(I,L){const k=Reflect.get(I,L);b(L);const G=Reflect.deleteProperty(I,L);return G&&m(["delete",[L],k]),G},set(I,L,k,G){const z=Reflect.has(I,L),F=Reflect.get(I,L,G);if(z&&(t(F,k)||o.has(k)&&t(F,o.get(k))))return!0;b(L),s_(k)&&(k=EY(k)||k);let J=k;if(k instanceof Promise)k.then(q=>{k.status="fulfilled",k.value=q,m(["resolve",[L],q])}).catch(q=>{k.status="rejected",k.reason=q,m(["reject",[L],q])});else{!_a.has(k)&&n(k)&&(J=l(k));const q=!kg.has(J)&&_a.get(J);q&&w(L,q)}return Reflect.set(I,L,J,G),m(["set",[L],k,F]),!0}});o.set(c,B);const T=[C,g,s,A];return _a.set(B,T),Reflect.ownKeys(c).forEach(I=>{const L=Object.getOwnPropertyDescriptor(c,I);"value"in L&&(B[I]=c[I],delete L.value,delete L.writable),Object.defineProperty(C,I,L)}),B})=>[l,_a,kg,t,e,n,r,i,s,o,a],[PY]=RY();function BY(t={}){return PY(t)}function IY(t,e,n){const r=_a.get(t);({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const c=o(f=>{if(s.push(f),n){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function DR(t,e){const n=_a.get(t);({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}const{use:kR}=j,{useSyncExternalStore:LY}=SY,DY=(t,e)=>{const n=R.useRef();R.useEffect(()=>{n.current=TY(t,e,!0)}),R.useDebugValue(n.current)},kY=new WeakMap;function Ck(t,e){const n=e==null?void 0:e.sync,r=R.useRef(),i=R.useRef();let s=!0;const o=LY(R.useCallback(c=>{const f=IY(t,c,n);return c(),f},[t,n]),()=>{const c=DR(t,kR);try{if(!s&&r.current&&i.current&&!Mk(r.current,c,i.current,new WeakMap))return r.current}catch{}return c},()=>DR(t,kR));s=!1;const a=new WeakMap;R.useEffect(()=>{r.current=o,i.current=a}),({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&DY(o,a);const l=R.useMemo(()=>new WeakMap,[]);return Ak(o,a,l,kY)}function Zn(){return Zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zn.apply(this,arguments)}function OY(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ek(...t){return e=>t.forEach(n=>OY(n,e))}function Cf(...t){return R.useCallback(Ek(...t),t)}const Tk=R.forwardRef((t,e)=>{const{children:n,...r}=t,i=R.Children.toArray(n),s=i.find(FY);if(s){const o=s.props.children,a=i.map(l=>l===s?R.Children.count(o)>1?R.Children.only(null):R.isValidElement(o)?o.props.children:null:l);return R.createElement(gb,Zn({},r,{ref:e}),R.isValidElement(o)?R.cloneElement(o,void 0,a):null)}return R.createElement(gb,Zn({},r,{ref:e}),n)});Tk.displayName="Slot";const gb=R.forwardRef((t,e)=>{const{children:n,...r}=t;return R.isValidElement(n)?R.cloneElement(n,{...NY(r,n.props),ref:e?Ek(e,n.ref):n.ref}):R.Children.count(n)>1?R.Children.only(null):null});gb.displayName="SlotClone";const Rk=({children:t})=>R.createElement(R.Fragment,null,t);function FY(t){return R.isValidElement(t)&&t.type===Rk}function NY(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const zY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yc=zY.reduce((t,e)=>{const n=R.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Tk:e;return R.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),R.createElement(a,Zn({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function UY(t,e){t&&ql.flushSync(()=>t.dispatchEvent(e))}const GY=R.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?fI.createPortal(R.createElement(yc.div,Zn({},i,{ref:e})),r):null}),HY=GY;var OR=Object.prototype.hasOwnProperty;function zh(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&zh(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(OR.call(t,n)&&++r&&!OR.call(e,n)||!(n in e)||!zh(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var _y=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};_y.prototype._test=function(e){var n=this.fn;try{Uu(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return Uu(this.modifiers.slice(),n,this)(e)}catch{return!1}};_y.prototype._check=function(e){try{Uu(this.modifiers.slice(),this.fn,this)(e)}catch{if(Uu(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Uu(this.modifiers.slice(),this.fn,this)(e))throw null};_y.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){Bk(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Pk(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function Uu(t,e,n){if(t.length){var r=t.shift(),i=Uu(t,e,n);return r.perform(i,n)}else return Pk(e)}function Bk(t,e,n){if(t.length){var r=t.shift(),i=Bk(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(Pk(e,"async")(s))}}var $Y=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},XA=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),eo=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};eo.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new _y(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};eo.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new $Y(n,e.simple,e.async)),this};eo.prototype._clone=function(){return new eo(this.chain.slice(),this.nextRuleModifiers.slice())};eo.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};eo.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new XA(r,e,i))}}),n};eo.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new XA(n,e,r)}})};eo.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){Ik(e,n.chain.slice(),r,i)})};function Ik(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){Ik(t,e,n,r)},function(s){r(new XA(i,t,s))})}else n(t)}var FR=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function VY(t,e){return e===void 0&&(e=!1),{simple:function(n){return FR(n,e)||t.check(n)===void 0},async:function(n){return FR(n,e)||t.testAsync(n)}}}function ti(){return typeof Proxy<"u"?Lk(new eo):vb(new eo)}var Uh={};ti.extend=function(t){Object.assign(Uh,t)};ti.clearCustomRules=function(){Uh={}};function Lk(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=Lk(t._clone());if(r in ev)return i._applyModifier(ev[r],r);if(r in Uh)return i._applyRule(Uh[r],r);if(r in yb)return i._applyRule(yb[r],r)}})}function vb(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=vb(s._clone()),f=c._applyRule(i[o],o).apply(void 0,a);return f}}),s},n=e(yb,t),r=e(Uh,n);return Object.keys(ev).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=vb(r._clone());return s._applyModifier(ev[i],i)}})}),r}var ev={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Og(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Og(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Og(e).every(t)}},async:function(t){return function(e){return Promise.all(Og(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return NR(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return NR(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function NR(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Og(t){return typeof t=="string"?t.split(""):t}var yb={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||WY;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return au("string")},boolean:function(){return au("boolean")},undefined:function(){return au("undefined")},null:function(){return au("null")},array:function(){return au("array")},object:function(){return au("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return jY(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:VY};function au(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function WY(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function jY(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var Kt="colors",Nr="sizes",Ze="space",JY={gap:Ze,gridGap:Ze,columnGap:Ze,gridColumnGap:Ze,rowGap:Ze,gridRowGap:Ze,inset:Ze,insetBlock:Ze,insetBlockEnd:Ze,insetBlockStart:Ze,insetInline:Ze,insetInlineEnd:Ze,insetInlineStart:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,marginBlock:Ze,marginBlockEnd:Ze,marginBlockStart:Ze,marginInline:Ze,marginInlineEnd:Ze,marginInlineStart:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,paddingBlock:Ze,paddingBlockEnd:Ze,paddingBlockStart:Ze,paddingInline:Ze,paddingInlineEnd:Ze,paddingInlineStart:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,scrollMargin:Ze,scrollMarginTop:Ze,scrollMarginRight:Ze,scrollMarginBottom:Ze,scrollMarginLeft:Ze,scrollMarginX:Ze,scrollMarginY:Ze,scrollMarginBlock:Ze,scrollMarginBlockEnd:Ze,scrollMarginBlockStart:Ze,scrollMarginInline:Ze,scrollMarginInlineEnd:Ze,scrollMarginInlineStart:Ze,scrollPadding:Ze,scrollPaddingTop:Ze,scrollPaddingRight:Ze,scrollPaddingBottom:Ze,scrollPaddingLeft:Ze,scrollPaddingX:Ze,scrollPaddingY:Ze,scrollPaddingBlock:Ze,scrollPaddingBlockEnd:Ze,scrollPaddingBlockStart:Ze,scrollPaddingInline:Ze,scrollPaddingInlineEnd:Ze,scrollPaddingInlineStart:Ze,fontSize:"fontSizes",background:Kt,backgroundColor:Kt,backgroundImage:Kt,borderImage:Kt,border:Kt,borderBlock:Kt,borderBlockEnd:Kt,borderBlockStart:Kt,borderBottom:Kt,borderBottomColor:Kt,borderColor:Kt,borderInline:Kt,borderInlineEnd:Kt,borderInlineStart:Kt,borderLeft:Kt,borderLeftColor:Kt,borderRight:Kt,borderRightColor:Kt,borderTop:Kt,borderTopColor:Kt,caretColor:Kt,color:Kt,columnRuleColor:Kt,fill:Kt,outline:Kt,outlineColor:Kt,stroke:Kt,textDecorationColor:Kt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Nr,minBlockSize:Nr,maxBlockSize:Nr,inlineSize:Nr,minInlineSize:Nr,maxInlineSize:Nr,width:Nr,minWidth:Nr,maxWidth:Nr,height:Nr,minHeight:Nr,maxHeight:Nr,flexBasis:Nr,gridTemplateColumns:Nr,gridTemplateRows:Nr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},KY=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Ef=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,KY))(e);return i in t?t[i]:t[i]=n(e,...r)}},Yl=Symbol.for("sxs.internal"),YA=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),zR=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:XY}=Object.prototype,xb=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),YY=/\s+(?![^()]*\))/,lu=t=>e=>t(...typeof e=="string"?String(e).split(YY):[e]),UR={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:lu((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:lu((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:lu((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:lu((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:lu((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:lu((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},o_=/([\d.]+)([^]*)/,QY=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,qY=(t,e)=>t in ZY&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${xb(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${xb(t)}:${r}fit-content`)+s):String(e),ZY={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},$o=t=>t?t+"-":"",Dk=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?$o(e)+(a.includes("$")?"":$o(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),eQ=/\s*,\s*(?![^()]*\))/,tQ=Object.prototype.toString,Eu=(t,e,n,r,i)=>{let s,o,a;const l=(c,f,h)=>{let p,m;const v=g=>{for(p in g){const w=p.charCodeAt(0)===64,b=w&&Array.isArray(g[p])?g[p]:[g[p]];for(m of b){const A=/[A-Z]/.test(_=p)?_:_.replace(/-[^]/g,E=>E[1].toUpperCase()),C=typeof m=="object"&&m&&m.toString===tQ&&(!r.utils[A]||!f.length);if(A in r.utils&&!C){const E=r.utils[A];if(E!==o){o=E,v(E(m)),o=null;continue}}else if(A in UR){const E=UR[A];if(E!==a){a=E,v(E(m)),a=null;continue}}if(w&&(y=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,B,T,I,L,k)=>{const G=o_.test(B),z=.0625*(G?-1:1),[F,J]=G?[I,B]:[B,I];return"("+(T[0]==="="?"":T[0]===">"===G?"max-":"min-")+F+":"+(T[0]!=="="&&T.length===1?J.replace(o_,(q,ne,O)=>Number(ne)+z*(T===">"?1:-1)+O):J)+(L?") and ("+(L[0]===">"?"min-":"max-")+F+":"+(L.length===1?k.replace(o_,(q,ne,O)=>Number(ne)+z*(L===">"?-1:1)+O):k):"")+")"})),C){const E=w?h.concat(p):[...h],B=w?[...f]:QY(f,p.split(eQ));s!==void 0&&i(GR(...s)),s=void 0,l(m,B,E)}else s===void 0&&(s=[[],f,h]),p=w||p.charCodeAt(0)!==36?p:`--${$o(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,m=C?m:typeof m=="number"?m&&A in nQ?String(m)+"px":String(m):Dk(qY(A,m??""),r.prefix,r.themeMap[A]),s[0].push(`${w?`${p} `:`${xb(p)}:`}${m}`)}}var y,_};v(c),s!==void 0&&i(GR(...s)),s=void 0};l(t,e,n)},GR=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,nQ={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},HR=t=>String.fromCharCode(t+(t>25?39:97)),Ql=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=HR(n%52)+r;return HR(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),kd=["themed","global","styled","onevar","resonevar","allvar","inline"],rQ=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},iQ=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(t).styleSheets||[];for(const a of i)if(rQ(a)){for(let l=0,c=a.cssRules;c[l];++l){const f=Object(c[l]);if(f.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:p}=f;if(!p.startsWith("--sxs"))continue;const m=p.slice(14,-3).trim().split(/\s+/),v=kd[m[0]];v&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[v]={group:h,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(f,h){this.cssRules.splice(h,0,a(f,{import:3,undefined:1}[(f.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,f=>f.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=kd.length-1;a>=0;--a){const l=kd[a];if(!o[l]){const c=kd[a+1],f=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",f),s.insertRule(`--sxs{--sxs:${a}}`,f),o[l]={group:s.cssRules[f+1],index:f,cache:new Set([a])}}sQ(o[l])}};return r(),e},sQ=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Ed=Symbol(),oQ=Ef(),$R=(t,e)=>oQ(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[Yl]){r.type==null&&(r.type=i[Yl].type);for(const s of i[Yl].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(aQ(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),lQ(t,r,e)}),aQ=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${$o(i.prefix)}c-${Ql(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const p in n)l[p]=String(n[p]);if(typeof t=="object"&&t)for(const p in t){f=l,h=p,XY.call(f,h)||(l[p]="undefined");const m=t[p];for(const v in m){const g={[p]:String(v)};String(v)==="undefined"&&c.push(p);const y=m[v],_=[g,y,!zR(y)];o.push(_)}}var f,h;if(typeof e=="object"&&e)for(const p of e){let{css:m,...v}=p;m=typeof m=="object"&&m||{};for(const y in v)v[y]=String(v[y]);const g=[v,m,!zR(m)];a.push(g)}return[s,r,o,a,l,c]},lQ=(t,e,n)=>{const[r,i,s,o]=cQ(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function p(){for(let m=0;m<p[Ed].length;m++){const[v,g]=p[Ed][m];h.rules[v].apply(g)}return p[Ed]=[],null}return p[Ed]=[],p.rules={},kd.forEach(m=>p.rules[m]={apply:v=>p[Ed].push([m,v])}),p})(n):null,l=(a||n).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,f=h=>{h=typeof h=="object"&&h||uQ;const{css:p,...m}=h,v={};for(const _ in s)if(delete m[_],_ in h){let w=h[_];typeof w=="object"&&w?v[_]={"@initial":s[_],...w}:(w=String(w),v[_]=w!=="undefined"||o.has(_)?w:s[_])}else v[_]=s[_];const g=new Set([...i]);for(const[_,w,b,A]of e.composers){n.rules.styled.cache.has(_)||(n.rules.styled.cache.add(_),Eu(w,[`.${_}`],[],t,B=>{l.styled.apply(B)}));const C=VR(b,v,t.media),E=VR(A,v,t.media,!0);for(const B of C)if(B!==void 0)for(const[T,I,L]of B){const k=`${_}-${Ql(I)}-${T}`;g.add(k);const G=(L?n.rules.resonevar:n.rules.onevar).cache,z=L?l.resonevar:l.onevar;G.has(k)||(G.add(k),Eu(I,[`.${k}`],[],t,F=>{z.apply(F)}))}for(const B of E)if(B!==void 0)for(const[T,I]of B){const L=`${_}-${Ql(I)}-${T}`;g.add(L),n.rules.allvar.cache.has(L)||(n.rules.allvar.cache.add(L),Eu(I,[`.${L}`],[],t,k=>{l.allvar.apply(k)}))}}if(typeof p=="object"&&p){const _=`${r}-i${Ql(p)}-css`;g.add(_),n.rules.inline.cache.has(_)||(n.rules.inline.cache.add(_),Eu(p,[`.${_}`],[],t,w=>{l.inline.apply(w)}))}for(const _ of String(h.className||"").trim().split(/\s+/))_&&g.add(_);const y=m.className=[...g].join(" ");return{type:e.type,className:y,selector:c,props:m,toString:()=>y,deferredInjector:a}};return YA(f,{className:r,selector:c,[Yl]:e,toString:()=>(n.rules.styled.cache.has(r)||f(),r)})},cQ=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,n,r,new Set(i)]},VR=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,c=0,f=!1;for(l in s){const h=s[l];let p=e[l];if(p!==h){if(typeof p!="object"||!p)continue e;{let m,v,g=0;for(const y in p){if(h===String(p[y])){if(y!=="@initial"){const _=y.slice(1);(v=v||[]).push(_ in n?n[_]:y.replace(/^@media ?/,"")),f=!0}c+=g,m=!0}++g}if(v&&v.length&&(o={["@media "+v.join(", ")]:o}),!m)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,f])}return i},uQ={},fQ=Ef(),dQ=(t,e)=>fQ(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=Ql(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Eu(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return YA(r,{toString:r})}),hQ=Ef(),pQ=(t,e)=>hQ(t,()=>n=>{const r=`${$o(t.prefix)}k-${Ql(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Eu(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return YA(i,{get name(){return i()},toString:i})}),mQ=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+$o(this.prefix)+$o(this.scale)+this.token}toString(){return this.computedValue}},gQ=Ef(),vQ=(t,e)=>gQ(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${$o(t.prefix)}t-${Ql(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const f=`--${$o(t.prefix)}${l}-${c}`,h=Dk(String(r[l][c]),t.prefix,l);s[l][c]=new mQ(c,h,l,t.prefix),o.push(`${f}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),yQ=Ef(),xQ=Ef(),_Q=t=>{const e=(n=>{let r=!1;const i=yQ(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},f={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...JY},utils:typeof s.utils=="object"&&s.utils||{}},h=iQ(l),p={css:$R(f,h),globalCss:dQ(f,h),keyframes:pQ(f,h),createTheme:vQ(f,h),reset(){h.reset(),p.theme.toString()},theme:{},sheet:h,config:f,prefix:o,getCssText:h.toString,toString:h.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>xQ(n,()=>{const i=$R(n,r);return(...s)=>{const o=i(...s),a=o[Yl].type,l=j.forwardRef((c,f)=>{const h=c&&c.as||a,{props:p,deferredInjector:m}=o(c);return delete p.as,p.ref=f,m?j.createElement(j.Fragment,null,j.createElement(h,p),j.createElement(m,null)):j.createElement(h,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Yl]=o[Yl],l}}))(e),e};function wQ(t,e,n){return Math.max(e,Math.min(t,n))}const Pr={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function WR(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function jR(t,e,n,r=.15){return r===0?wQ(t,e,n):t<e?-WR(e-t,n-e,r)+e:t>n?+WR(t-n,n-e,r)+n:t}function bQ(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[jR(e,s,o,r),jR(n,a,l,i)]}function SQ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AQ(t){var e=SQ(t,"string");return typeof e=="symbol"?e:String(e)}function Qr(t,e,n){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const kk={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function KR(t){return t?t[0].toUpperCase()+t.slice(1):""}const MQ=["enter","leave"];function CQ(t=!1,e){return t&&!MQ.includes(e)}function EQ(t,e="",n=!1){const r=kk[t],i=r&&r[e]||e;return"on"+KR(t)+KR(i)+(CQ(n,i)?"Capture":"")}const TQ=["gotpointercapture","lostpointercapture"];function RQ(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=TQ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function PQ(t,e=""){const n=kk[t],r=n&&n[e]||e;return t+r}function wy(t){return"touches"in t}function Ok(t){return wy(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function BQ(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function IQ(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function Fk(t){return wy(t)?IQ(t)[0]:t}function LQ(t){return BQ(t).map(e=>e.identifier)}function a_(t){const e=Fk(t);return wy(t)?e.identifier:e.pointerId}function XR(t){const e=Fk(t);return[e.clientX,e.clientY]}function DQ(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function tv(t,...e){return typeof t=="function"?t(...e):t}function kQ(){}function OQ(...t){return t.length===0?kQ:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function YR(t,e){return Object.assign({},e,t||{})}const FQ=32;class NQ{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?tv(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,DQ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const E=n._delta.map(Math.abs);Pr.addTo(n._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,c]=r.threshold,{_step:f,values:h}=n;if(r.hasCustomTransform?(f[0]===!1&&(f[0]=Math.abs(o)>=l&&h[0]),f[1]===!1&&(f[1]=Math.abs(a)>=c&&h[1])):(f[0]===!1&&(f[0]=Math.abs(o)>=l&&Math.sign(o)*l),f[1]===!1&&(f[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=f[0]!==!1||f[1]!==!1,!n.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[E,B]=h;p[0]=f[0]!==!1?E-f[0]:0,p[1]=f[1]!==!1?B-f[1]:0}else p[0]=f[0]!==!1?o-f[0]:0,p[1]=f[1]!==!1?a-f[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(p);const m=n.offset,v=n._active&&!n._blocked||n.active;v&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=tv(r.bounds,n)),this.setup&&this.setup()),n.movement=p,this.computeOffset()));const[g,y]=n.offset,[[_,w],[b,A]]=n._bounds;n.overflow=[g<_?-1:g>w?1:0,y<b?-1:y>A?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const C=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=bQ(n._bounds,n.offset,C),n.delta=Pr.sub(n.offset,m),this.computeMovement(),v&&(!n.last||s>FQ)){n.delta=Pr.sub(n.offset,m);const E=n.delta.map(Math.abs);Pr.addTo(n.distance,E),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[E[0]/s,E[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(wn(wn(wn({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function zQ([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class UQ extends NQ{constructor(...e){super(...e),Qr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Pr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Pr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Ok(e)]:r.axisThreshold;n.axis=zQ(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const GQ=t=>t,QR=.15,Nk={enabled(t=!0){return t},eventOptions(t,e,n){return wn(wn({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[QR,QR];case!1:return[0,0];default:return Pr.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Pr.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||GQ},threshold(t){return Pr.toVector(t,0)}},HQ=0,_p=wn(wn({},Nk),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=HQ){return t},bounds(t={}){if(typeof t=="function")return s=>_p.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),qR={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class $Q extends UQ{constructor(...e){super(...e),Qr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=_p.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=a_(e),r._pointerActive=!0,this.computeValues(XR(e)),this.computeInitial(),n.preventScrollAxis&&Ok(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=a_(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=XR(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Pr.sub(s,n._values),this.computeValues(s)),Pr.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=a_(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[c,f]=n._movement,[h,p]=r.swipe.velocity,[m,v]=r.swipe.distance,g=r.swipe.duration;if(n.elapsedTime<g){const y=Math.abs(a/n.timeDelta),_=Math.abs(l/n.timeDelta);y>h&&Math.abs(c)>m&&(n.swipe[0]=Math.sign(a)),_>p&&Math.abs(f)>v&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,VQ(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=qR[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Pr.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in qR&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function VQ(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const wp=typeof window<"u"&&window.document&&window.document.createElement;function zk(){return wp&&"ontouchstart"in window}function WQ(){return zk()||wp&&window.navigator.maxTouchPoints>1}function jQ(){return wp&&"onpointerdown"in window}function JQ(){return wp&&"exitPointerLock"in window.document}function KQ(){try{return"constructor"in GestureEvent}catch{return!1}}const Wi={isBrowser:wp,gesture:KQ(),touch:zk(),touchscreen:WQ(),pointer:jQ(),pointerLock:JQ()},XQ=250,YQ=180,QQ=.5,qQ=50,ZQ=250,eq=10,ZR={mouse:0,touch:0,pen:8},tq=wn(wn({},_p),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Wi.pointerLock,Wi.touch&&n?"touch":this.pointerLock?"mouse":Wi.pointer&&!i?"pointer":Wi.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?XQ:void 0,!(!Wi.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Pr.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=QQ,distance:e=qQ,duration:n=ZQ}={}){return{velocity:this.transform(Pr.toVector(t)),distance:this.transform(Pr.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return YQ;case!1:return 0;default:return t}},axisThreshold(t){return t?wn(wn({},ZR),t):ZR},keyboardDisplacement(t=eq){return t}});wn(wn({},Nk),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Wi.touch&&Wi.gesture)return"gesture";if(Wi.touch&&r)return"touch";if(Wi.touchscreen){if(Wi.pointer)return"pointer";if(Wi.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=YR(tv(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=YR(tv(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Pr.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});wn(wn({},_p),{},{mouseOnly:(t=!0)=>t});wn(wn({},_p),{},{mouseOnly:(t=!0)=>t});const Uk=new Map,_b=new Map;function nq(t){Uk.set(t.key,t.engine),_b.set(t.key,t.resolver)}const rq={key:"drag",engine:$Q,resolver:tq};function iq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sq(t,e){if(t==null)return{};var n=iq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const oq={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Wi.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},aq=["target","eventOptions","window","enabled","transform"];function v0(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=v0(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function lq(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=sq(r,aq);if(n.shared=v0({target:i,eventOptions:s,window:o,enabled:a,transform:l},oq),e){const f=_b.get(e);n[e]=v0(wn({shared:n.shared},c),f)}else for(const f in c){const h=_b.get(f);h&&(n[f]=v0(wn({shared:n.shared},c[f]),h))}return n}class Gk{constructor(e,n){Qr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=PQ(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=wn(wn({},l),s);e.addEventListener(a,i,c);const f=()=>{e.removeEventListener(a,i,c),o.delete(f)};return o.add(f),f}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class cq{constructor(){Qr(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class uq{constructor(e){Qr(this,"gestures",new Set),Qr(this,"_targetEventStore",new Gk(this)),Qr(this,"gestureEventStores",{}),Qr(this,"gestureTimeoutStores",{}),Qr(this,"handlers",{}),Qr(this,"config",{}),Qr(this,"pointerIds",new Set),Qr(this,"touchIds",new Set),Qr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),fq(this,e)}setEventIds(e){if(wy(e))return this.touchIds=new Set(LQ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=lq(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=eP(r,a.eventOptions,!!i);if(a.enabled){const c=Uk.get(o);new c(this,e,o).bind(l)}}const s=eP(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](wn(wn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=OQ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=RQ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function cu(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Gk(t,e),t.gestureTimeoutStores[e]=new cq}function fq(t,e){e.drag&&cu(t,"drag"),e.wheel&&cu(t,"wheel"),e.scroll&&cu(t,"scroll"),e.move&&cu(t,"move"),e.pinch&&cu(t,"pinch"),e.hover&&cu(t,"hover")}const eP=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,c;const f=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?r:EQ(r,i,f);n&&h&&(p+="Passive"),t[p]=t[p]||[],t[p].push(s)};function dq(t,e={},n,r){const i=j.useMemo(()=>new uq(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),j.useEffect(i.effect.bind(i)),j.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function hq(t,e){return nq(rq),dq({drag:t},e||{},"drag")}function Co(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Hk(t,e=[]){let n=[];function r(s,o){const a=R.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...v}=h,g=(p==null?void 0:p[t][l])||a,y=R.useMemo(()=>v,Object.values(v));return R.createElement(g.Provider,{value:y},m)}function f(h,p){const m=(p==null?void 0:p[t][l])||a,v=R.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,f]}const i=()=>{const s=n.map(o=>R.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return R.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,pq(i,...e)]}function pq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Tf(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t}),R.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function mq(t,e=globalThis==null?void 0:globalThis.document){const n=Tf(t);R.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const wb="dismissableLayer.update",gq="dismissableLayer.pointerDownOutside",vq="dismissableLayer.focusOutside";let tP;const yq=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xq=R.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,f=R.useContext(yq),[h,p]=R.useState(null),m=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=R.useState({}),g=Cf(e,T=>p(T)),y=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(_),b=h?y.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=b>=w,E=_q(T=>{const I=T.target,L=[...f.branches].some(k=>k.contains(I));!C||L||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},m),B=wq(T=>{const I=T.target;[...f.branches].some(k=>k.contains(I))||(o==null||o(T),a==null||a(T),T.defaultPrevented||l==null||l())},m);return mq(T=>{b===f.layers.size-1&&(i==null||i(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},m),R.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(tP=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),nP(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=tP)}},[h,m,r,f]),R.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),nP())},[h,f]),R.useEffect(()=>{const T=()=>v({});return document.addEventListener(wb,T),()=>document.removeEventListener(wb,T)},[]),R.createElement(yc.div,Zn({},c,{ref:g,style:{pointerEvents:A?C?"auto":"none":void 0,...t.style},onFocusCapture:Co(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Co(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Co(t.onPointerDownCapture,E.onPointerDownCapture)}))});function _q(t,e=globalThis==null?void 0:globalThis.document){const n=Tf(t),r=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let f=function(){$k(gq,n,c,{discrete:!0})};var l=f;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wq(t,e=globalThis==null?void 0:globalThis.document){const n=Tf(t),r=R.useRef(!1);return R.useEffect(()=>{const i=s=>{s.target&&!r.current&&$k(vq,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nP(){const t=new CustomEvent(wb);document.dispatchEvent(t)}function $k(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?UY(i,s):i.dispatchEvent(s)}const uf=Boolean(globalThis==null?void 0:globalThis.document)?R.useLayoutEffect:()=>{},bq=x0["useId".toString()]||(()=>{});let Sq=0;function Aq(t){const[e,n]=R.useState(bq());return uf(()=>{t||n(r=>r??String(Sq++))},[t]),t||(e?`radix-${e}`:"")}const Mq=["top","right","bottom","left"],Wa=Math.min,pi=Math.max,nv=Math.round,Fg=Math.floor,ja=t=>({x:t,y:t}),Cq={left:"right",right:"left",bottom:"top",top:"bottom"},Eq={start:"end",end:"start"};function bb(t,e,n){return pi(t,Wa(e,n))}function Vo(t,e){return typeof t=="function"?t(e):t}function Wo(t){return t.split("-")[0]}function Rf(t){return t.split("-")[1]}function QA(t){return t==="x"?"y":"x"}function qA(t){return t==="y"?"height":"width"}function Pf(t){return["top","bottom"].includes(Wo(t))?"y":"x"}function ZA(t){return QA(Pf(t))}function Tq(t,e,n){n===void 0&&(n=!1);const r=Rf(t),i=ZA(t),s=qA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=rv(o)),[o,rv(o)]}function Rq(t){const e=rv(t);return[Sb(t),e,Sb(e)]}function Sb(t){return t.replace(/start|end/g,e=>Eq[e])}function Pq(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Bq(t,e,n,r){const i=Rf(t);let s=Pq(Wo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Sb)))),s}function rv(t){return t.replace(/left|right|bottom|top/g,e=>Cq[e])}function Iq(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vk(t){return typeof t!="number"?Iq(t):{top:t,right:t,bottom:t,left:t}}function iv(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function rP(t,e,n){let{reference:r,floating:i}=t;const s=Pf(e),o=ZA(e),a=qA(o),l=Wo(e),c=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Rf(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const Lq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=rP(c,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:_}=a[g],{x:w,y:b,data:A,reset:C}=await _({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});f=w??f,h=b??h,m={...m,[y]:{...m[y],...A}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:f,y:h}=rP(c,p,l)),g=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:m}};async function Gh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Vo(e,t),v=Vk(m),y=a[p?h==="floating"?"reference":"floating":h],_=iv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),w=h==="floating"?{...o.floating,x:r,y:i}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=iv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(_.top-C.top+v.top)/A.y,bottom:(C.bottom-_.bottom+v.bottom)/A.y,left:(_.left-C.left+v.left)/A.x,right:(C.right-_.right+v.right)/A.x}}const Dq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Vo(t,e)||{};if(c==null)return{};const h=Vk(f),p={x:n,y:r},m=ZA(i),v=qA(m),g=await o.getDimensions(c),y=m==="y",_=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[m]-p[m]-s.floating[v],C=p[m]-s.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let B=E?E[b]:0;(!B||!await(o.isElement==null?void 0:o.isElement(E)))&&(B=a.floating[b]||s.floating[v]);const T=A/2-C/2,I=B/2-g[v]/2-1,L=Wa(h[_],I),k=Wa(h[w],I),G=L,z=B-g[v]-k,F=B/2-g[v]/2+T,J=bb(G,F,z),q=!l.arrow&&Rf(i)!=null&&F!==J&&s.reference[v]/2-(F<G?L:k)-g[v]/2<0,ne=q?F<G?F-G:F-z:0;return{[m]:p[m]+ne,data:{[m]:J,centerOffset:F-J-ne,...q&&{alignmentOffset:ne}},reset:q}}}),kq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Vo(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Wo(i),w=Wo(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(w||!g?[rv(a)]:Rq(a));!p&&v!=="none"&&A.push(...Bq(a,g,v,b));const C=[a,...A],E=await Gh(e,y),B=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&B.push(E[_]),h){const G=Tq(i,o,b);B.push(E[G[0]],E[G[1]])}if(T=[...T,{placement:i,overflows:B}],!B.every(G=>G<=0)){var I,L;const G=(((I=s.flip)==null?void 0:I.index)||0)+1,z=C[G];if(z)return{data:{index:G,overflows:T},reset:{placement:z}};let F=(L=T.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:L.placement;if(!F)switch(m){case"bestFit":{var k;const J=(k=T.map(q=>[q.placement,q.overflows.filter(ne=>ne>0).reduce((ne,O)=>ne+O,0)]).sort((q,ne)=>q[1]-ne[1])[0])==null?void 0:k[0];J&&(F=J);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function iP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sP(t){return Mq.some(e=>t[e]>=0)}const Oq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vo(t,e);switch(r){case"referenceHidden":{const s=await Gh(e,{...i,elementContext:"reference"}),o=iP(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sP(o)}}}case"escaped":{const s=await Gh(e,{...i,altBoundary:!0}),o=iP(s,n.floating);return{data:{escapedOffsets:o,escaped:sP(o)}}}default:return{}}}}};async function Fq(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Wo(n),a=Rf(n),l=Pf(n)==="y",c=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,h=Vo(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*f,y:p*c}:{x:p*c,y:m*f}}const Nq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Fq(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},zq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:_,y:w}=y;return{x:_,y:w}}},...l}=Vo(t,e),c={x:n,y:r},f=await Gh(e,l),h=Pf(Wo(i)),p=QA(h);let m=c[p],v=c[h];if(s){const y=p==="y"?"top":"left",_=p==="y"?"bottom":"right",w=m+f[y],b=m-f[_];m=bb(w,m,b)}if(o){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=v+f[y],b=v-f[_];v=bb(w,v,b)}const g=a.fn({...e,[p]:m,[h]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},Uq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Vo(t,e),f={x:n,y:r},h=Pf(i),p=QA(h);let m=f[p],v=f[h];const g=Vo(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=p==="y"?"height":"width",A=s.reference[p]-s.floating[b]+y.mainAxis,C=s.reference[p]+s.reference[b]-y.mainAxis;m<A?m=A:m>C&&(m=C)}if(c){var _,w;const b=p==="y"?"width":"height",A=["top","left"].includes(Wo(i)),C=s.reference[h]-s.floating[b]+(A&&((_=o.offset)==null?void 0:_[h])||0)+(A?0:y.crossAxis),E=s.reference[h]+s.reference[b]+(A?0:((w=o.offset)==null?void 0:w[h])||0)-(A?y.crossAxis:0);v<C?v=C:v>E&&(v=E)}return{[p]:m,[h]:v}}}},Gq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Vo(t,e),l=await Gh(e,a),c=Wo(n),f=Rf(n),h=Pf(n)==="y",{width:p,height:m}=r.floating;let v,g;c==="top"||c==="bottom"?(v=c,g=f===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=c,v=f==="end"?"top":"bottom");const y=m-l[v],_=p-l[g],w=!e.middlewareData.shift;let b=y,A=_;if(h){const E=p-l.left-l.right;A=f||w?Wa(_,E):E}else{const E=m-l.top-l.bottom;b=f||w?Wa(y,E):E}if(w&&!f){const E=pi(l.left,0),B=pi(l.right,0),T=pi(l.top,0),I=pi(l.bottom,0);h?A=p-2*(E!==0||B!==0?E+B:pi(l.left,l.right)):b=m-2*(T!==0||I!==0?T+I:pi(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:b});const C=await i.getDimensions(s.floating);return p!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function Ja(t){return Wk(t)?(t.nodeName||"").toLowerCase():"#document"}function wi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qo(t){var e;return(e=(Wk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wk(t){return t instanceof Node||t instanceof wi(t).Node}function jo(t){return t instanceof Element||t instanceof wi(t).Element}function to(t){return t instanceof HTMLElement||t instanceof wi(t).HTMLElement}function oP(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wi(t).ShadowRoot}function bp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Hq(t){return["table","td","th"].includes(Ja(t))}function eM(t){const e=tM(),n=es(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $q(t){let e=ff(t);for(;to(e)&&!by(e);){if(eM(e))return e;e=ff(e)}return null}function tM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function by(t){return["html","body","#document"].includes(Ja(t))}function es(t){return wi(t).getComputedStyle(t)}function Sy(t){return jo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ff(t){if(Ja(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oP(t)&&t.host||qo(t);return oP(e)?e.host:e}function jk(t){const e=ff(t);return by(e)?t.ownerDocument?t.ownerDocument.body:t.body:to(e)&&bp(e)?e:jk(e)}function Hh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=jk(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=wi(i);return s?e.concat(o,o.visualViewport||[],bp(i)?i:[],o.frameElement&&n?Hh(o.frameElement):[]):e.concat(i,Hh(i,[],n))}function Jk(t){const e=es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=to(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=nv(n)!==s||nv(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function nM(t){return jo(t)?t:t.contextElement}function Gu(t){const e=nM(t);if(!to(e))return ja(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Jk(e);let o=(s?nv(n.width):n.width)/r,a=(s?nv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Vq=ja(0);function Kk(t){const e=wi(t);return!tM()||!e.visualViewport?Vq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Wq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wi(t)?!1:e}function cc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=nM(t);let o=ja(1);e&&(r?jo(r)&&(o=Gu(r)):o=Gu(t));const a=Wq(s,n,r)?Kk(s):ja(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const p=wi(s),m=r&&jo(r)?wi(r):r;let v=p,g=v.frameElement;for(;g&&r&&m!==v;){const y=Gu(g),_=g.getBoundingClientRect(),w=es(g),b=_.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,A=_.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,f*=y.x,h*=y.y,l+=b,c+=A,v=wi(g),g=v.frameElement}}return iv({width:f,height:h,x:l,y:c})}const jq=[":popover-open",":modal"];function Xk(t){return jq.some(e=>{try{return t.matches(e)}catch{return!1}})}function Jq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=qo(r),a=e?Xk(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ja(1);const f=ja(0),h=to(r);if((h||!h&&!s)&&((Ja(r)!=="body"||bp(o))&&(l=Sy(r)),to(r))){const p=cc(r);c=Gu(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x,y:n.y*c.y-l.scrollTop*c.y+f.y}}function Kq(t){return Array.from(t.getClientRects())}function Yk(t){return cc(qo(t)).left+Sy(t).scrollLeft}function Xq(t){const e=qo(t),n=Sy(t),r=t.ownerDocument.body,i=pi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=pi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Yk(t);const a=-n.scrollTop;return es(r).direction==="rtl"&&(o+=pi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Yq(t,e){const n=wi(t),r=qo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=tM();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Qq(t,e){const n=cc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=to(t)?Gu(t):ja(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function aP(t,e,n){let r;if(e==="viewport")r=Yq(t,n);else if(e==="document")r=Xq(qo(t));else if(jo(e))r=Qq(e,n);else{const i=Kk(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return iv(r)}function Qk(t,e){const n=ff(t);return n===e||!jo(n)||by(n)?!1:es(n).position==="fixed"||Qk(n,e)}function qq(t,e){const n=e.get(t);if(n)return n;let r=Hh(t,[],!1).filter(a=>jo(a)&&Ja(a)!=="body"),i=null;const s=es(t).position==="fixed";let o=s?ff(t):t;for(;jo(o)&&!by(o);){const a=es(o),l=eM(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bp(o)&&!l&&Qk(t,o))?r=r.filter(f=>f!==o):i=a,o=ff(o)}return e.set(t,r),r}function Zq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?qq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const h=aP(e,f,i);return c.top=pi(h.top,c.top),c.right=Wa(h.right,c.right),c.bottom=Wa(h.bottom,c.bottom),c.left=pi(h.left,c.left),c},aP(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function eZ(t){const{width:e,height:n}=Jk(t);return{width:e,height:n}}function tZ(t,e,n){const r=to(e),i=qo(e),s=n==="fixed",o=cc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ja(0);if(r||!r&&!s)if((Ja(e)!=="body"||bp(i))&&(a=Sy(e)),r){const h=cc(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=Yk(i));const c=o.left+a.scrollLeft-l.x,f=o.top+a.scrollTop-l.y;return{x:c,y:f,width:o.width,height:o.height}}function lP(t,e){return!to(t)||es(t).position==="fixed"?null:e?e(t):t.offsetParent}function qk(t,e){const n=wi(t);if(!to(t)||Xk(t))return n;let r=lP(t,e);for(;r&&Hq(r)&&es(r).position==="static";)r=lP(r,e);return r&&(Ja(r)==="html"||Ja(r)==="body"&&es(r).position==="static"&&!eM(r))?n:r||$q(t)||n}const nZ=async function(t){const e=this.getOffsetParent||qk,n=this.getDimensions;return{reference:tZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function rZ(t){return es(t).direction==="rtl"}const iZ={convertOffsetParentRelativeRectToViewportRelativeRect:Jq,getDocumentElement:qo,getClippingRect:Zq,getOffsetParent:qk,getElementRects:nZ,getClientRects:Kq,getDimensions:eZ,getScale:Gu,isElement:jo,isRTL:rZ};function sZ(t,e){let n=null,r;const i=qo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:f,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const m=Fg(f),v=Fg(i.clientWidth-(c+h)),g=Fg(i.clientHeight-(f+p)),y=Fg(c),w={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:pi(0,Wa(1,l))||1};let b=!0;function A(C){const E=C[0].intersectionRatio;if(E!==l){if(!b)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(A,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,w)}n.observe(t)}return o(!0),s}function oZ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=nM(t),f=i||s?[...c?Hh(c):[],...Hh(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const h=c&&a?sZ(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[w]=_;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?cc(t):null;l&&y();function y(){const _=cc(t);g&&(_.x!==g.x||_.y!==g.y||_.width!==g.width||_.height!==g.height)&&n(),g=_,v=requestAnimationFrame(y)}return n(),()=>{var _;f.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const aZ=zq,lZ=kq,cZ=Gq,uZ=Oq,cP=Dq,fZ=Uq,dZ=(t,e,n)=>{const r=new Map,i={platform:iZ,...n},s={...i.platform,_c:r};return Lq(t,e,{...i,platform:s})},hZ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?cP({element:r.current,padding:i}).fn(n):{}:r?cP({element:r,padding:i}).fn(n):{}}}};var y0=typeof document<"u"?R.useLayoutEffect:R.useEffect;function sv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!sv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Zk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uP(t,e){const n=Zk(t);return Math.round(e*n)/n}function fP(t){const e=R.useRef(t);return y0(()=>{e.current=t}),e}function pZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,h]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=R.useState(r);sv(p,r)||m(r);const[v,g]=R.useState(null),[y,_]=R.useState(null),w=R.useCallback(ne=>{ne!==E.current&&(E.current=ne,g(ne))},[]),b=R.useCallback(ne=>{ne!==B.current&&(B.current=ne,_(ne))},[]),A=s||v,C=o||y,E=R.useRef(null),B=R.useRef(null),T=R.useRef(f),I=l!=null,L=fP(l),k=fP(i),G=R.useCallback(()=>{if(!E.current||!B.current)return;const ne={placement:e,strategy:n,middleware:p};k.current&&(ne.platform=k.current),dZ(E.current,B.current,ne).then(O=>{const W={...O,isPositioned:!0};z.current&&!sv(T.current,W)&&(T.current=W,ql.flushSync(()=>{h(W)}))})},[p,e,n,k]);y0(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(ne=>({...ne,isPositioned:!1})))},[c]);const z=R.useRef(!1);y0(()=>(z.current=!0,()=>{z.current=!1}),[]),y0(()=>{if(A&&(E.current=A),C&&(B.current=C),A&&C){if(L.current)return L.current(A,C,G);G()}},[A,C,G,L,I]);const F=R.useMemo(()=>({reference:E,floating:B,setReference:w,setFloating:b}),[w,b]),J=R.useMemo(()=>({reference:A,floating:C}),[A,C]),q=R.useMemo(()=>{const ne={position:n,left:0,top:0};if(!J.floating)return ne;const O=uP(J.floating,f.x),W=uP(J.floating,f.y);return a?{...ne,transform:"translate("+O+"px, "+W+"px)",...Zk(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:W}},[n,a,J.floating,f.x,f.y]);return R.useMemo(()=>({...f,update:G,refs:F,elements:J,floatingStyles:q}),[f,G,F,J,q])}const mZ=R.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return R.createElement(yc.svg,Zn({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:R.createElement("polygon",{points:"0,0 30,0 15,10"}))}),gZ=mZ;function vZ(t){const[e,n]=R.useState(void 0);return uf(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const eO="Popper",[tO,nO]=Hk(eO),[yZ,rO]=tO(eO),xZ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=R.useState(null);return R.createElement(yZ,{scope:e,anchor:r,onAnchorChange:i},n)},_Z="PopperAnchor",wZ=R.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=rO(_Z,n),o=R.useRef(null),a=Cf(e,o);return R.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:R.createElement(yc.div,Zn({},i,{ref:a}))}),iO="PopperContent",[bZ,SZ]=tO(iO),AZ=R.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:f,side:h="bottom",sideOffset:p=0,align:m="center",alignOffset:v=0,arrowPadding:g=0,avoidCollisions:y=!0,collisionBoundary:_=[],collisionPadding:w=0,sticky:b="partial",hideWhenDetached:A=!1,updatePositionStrategy:C="optimized",onPlaced:E,...B}=t,T=rO(iO,f),[I,L]=R.useState(null),k=Cf(e,Ce=>L(Ce)),[G,z]=R.useState(null),F=vZ(G),J=(n=F==null?void 0:F.width)!==null&&n!==void 0?n:0,q=(r=F==null?void 0:F.height)!==null&&r!==void 0?r:0,ne=h+(m!=="center"?"-"+m:""),O=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},W=Array.isArray(_)?_:[_],X=W.length>0,se={padding:O,boundary:W.filter(TZ),altBoundary:X},{refs:Q,floatingStyles:re,placement:_e,isPositioned:be,middlewareData:te}=pZ({strategy:"fixed",placement:ne,whileElementsMounted:(...Ce)=>oZ(...Ce,{animationFrame:C==="always"}),elements:{reference:T.anchor},middleware:[Nq({mainAxis:p+q,alignmentAxis:v}),y&&aZ({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?fZ():void 0,...se}),y&&lZ({...se}),cZ({...se,apply:({elements:Ce,rects:Ee,availableWidth:nt,availableHeight:Ke})=>{const{width:Xe,height:st}=Ee.reference,lt=Ce.floating.style;lt.setProperty("--radix-popper-available-width",`${nt}px`),lt.setProperty("--radix-popper-available-height",`${Ke}px`),lt.setProperty("--radix-popper-anchor-width",`${Xe}px`),lt.setProperty("--radix-popper-anchor-height",`${st}px`)}}),G&&hZ({element:G,padding:g}),RZ({arrowWidth:J,arrowHeight:q}),A&&uZ({strategy:"referenceHidden",...se})]}),[De,Fe]=sO(_e),Ie=Tf(E);uf(()=>{be&&(Ie==null||Ie())},[be,Ie]);const Te=(i=te.arrow)===null||i===void 0?void 0:i.x,Qe=(s=te.arrow)===null||s===void 0?void 0:s.y,me=((o=te.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[le,Ae]=R.useState();return uf(()=>{I&&Ae(window.getComputedStyle(I).zIndex)},[I]),R.createElement("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:be?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,["--radix-popper-transform-origin"]:[(a=te.transformOrigin)===null||a===void 0?void 0:a.x,(l=te.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},R.createElement(bZ,{scope:f,placedSide:De,onArrowChange:z,arrowX:Te,arrowY:Qe,shouldHideArrow:me},R.createElement(yc.div,Zn({"data-side":De,"data-align":Fe},B,{ref:k,style:{...B.style,animation:be?void 0:"none",opacity:(c=te.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),MZ="PopperArrow",CZ={top:"bottom",right:"left",bottom:"top",left:"right"},EZ=R.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=SZ(MZ,r),o=CZ[s.placedSide];return R.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},R.createElement(gZ,Zn({},i,{ref:n,style:{...i.style,display:"block"}})))});function TZ(t){return t!==null}const RZ=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,h=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=h?0:t.arrowWidth,m=h?0:t.arrowHeight,[v,g]=sO(a),y={start:"0%",center:"50%",end:"100%"}[g],_=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+p/2,w=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let b="",A="";return v==="bottom"?(b=h?y:`${_}px`,A=`${-m}px`):v==="top"?(b=h?y:`${_}px`,A=`${l.floating.height+m}px`):v==="right"?(b=`${-m}px`,A=h?y:`${w}px`):v==="left"&&(b=`${l.floating.width+m}px`,A=h?y:`${w}px`),{data:{x:b,y:A}}}});function sO(t){const[e,n="center"]=t.split("-");return[e,n]}const PZ=xZ,BZ=wZ,IZ=AZ,LZ=EZ;function DZ(t,e){return R.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const oO=t=>{const{present:e,children:n}=t,r=kZ(e),i=typeof n=="function"?n({present:r.isPresent}):R.Children.only(n),s=Cf(r.ref,i.ref);return typeof n=="function"||r.isPresent?R.cloneElement(i,{ref:s}):null};oO.displayName="Presence";function kZ(t){const[e,n]=R.useState(),r=R.useRef({}),i=R.useRef(t),s=R.useRef("none"),o=t?"mounted":"unmounted",[a,l]=DZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const c=Ng(r.current);s.current=a==="mounted"?c:"none"},[a]),uf(()=>{const c=r.current,f=i.current;if(f!==t){const p=s.current,m=Ng(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),uf(()=>{if(e){const c=h=>{const m=Ng(r.current).includes(h.animationName);h.target===e&&m&&ql.flushSync(()=>l("ANIMATION_END"))},f=h=>{h.target===e&&(s.current=Ng(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:R.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ng(t){return(t==null?void 0:t.animationName)||"none"}function OZ({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=FZ({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Tf(n),l=R.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function FZ({defaultProp:t,onChange:e}){const n=R.useState(t),[r]=n,i=R.useRef(r),s=Tf(e);return R.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const NZ=R.forwardRef((t,e)=>R.createElement(yc.span,Zn({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),zZ=NZ,[Ay,Lse]=Hk("Tooltip",[nO]),My=nO(),UZ="TooltipProvider",Ab="tooltip.open",[Dse,rM]=Ay(UZ),iM="Tooltip",[GZ,Cy]=Ay(iM),HZ=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=rM(iM,t.__scopeTooltip),c=My(e),[f,h]=R.useState(null),p=Aq(),m=R.useRef(0),v=o??l.disableHoverableContent,g=a??l.delayDuration,y=R.useRef(!1),[_=!1,w]=OZ({prop:r,defaultProp:i,onChange:B=>{B?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ab))):l.onClose(),s==null||s(B)}}),b=R.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),A=R.useCallback(()=>{window.clearTimeout(m.current),y.current=!1,w(!0)},[w]),C=R.useCallback(()=>{window.clearTimeout(m.current),w(!1)},[w]),E=R.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,w(!0)},g)},[g,w]);return R.useEffect(()=>()=>window.clearTimeout(m.current),[]),R.createElement(PZ,c,R.createElement(GZ,{scope:e,contentId:p,open:_,stateAttribute:b,trigger:f,onTriggerChange:h,onTriggerEnter:R.useCallback(()=>{l.isOpenDelayed?E():A()},[l.isOpenDelayed,E,A]),onTriggerLeave:R.useCallback(()=>{v?C():window.clearTimeout(m.current)},[C,v]),onOpen:A,onClose:C,disableHoverableContent:v},n))},dP="TooltipTrigger",$Z=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cy(dP,n),s=rM(dP,n),o=My(n),a=R.useRef(null),l=Cf(e,a,i.onTriggerChange),c=R.useRef(!1),f=R.useRef(!1),h=R.useCallback(()=>c.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),R.createElement(BZ,Zn({asChild:!0},o),R.createElement(yc.button,Zn({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Co(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Co(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Co(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Co(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Co(t.onBlur,i.onClose),onClick:Co(t.onClick,i.onClose)})))}),VZ="TooltipPortal",[kse,WZ]=Ay(VZ,{forceMount:void 0}),$h="TooltipContent",jZ=R.forwardRef((t,e)=>{const n=WZ($h,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Cy($h,t.__scopeTooltip);return R.createElement(oO,{present:r||o.open},o.disableHoverableContent?R.createElement(aO,Zn({side:i},s,{ref:e})):R.createElement(JZ,Zn({side:i},s,{ref:e})))}),JZ=R.forwardRef((t,e)=>{const n=Cy($h,t.__scopeTooltip),r=rM($h,t.__scopeTooltip),i=R.useRef(null),s=Cf(e,i),[o,a]=R.useState(null),{trigger:l,onClose:c}=n,f=i.current,{onPointerInTransitChange:h}=r,p=R.useCallback(()=>{a(null),h(!1)},[h]),m=R.useCallback((v,g)=>{const y=v.currentTarget,_={x:v.clientX,y:v.clientY},w=qZ(_,y.getBoundingClientRect()),b=ZZ(_,w),A=eee(g.getBoundingClientRect()),C=nee([...b,...A]);a(C),h(!0)},[h]);return R.useEffect(()=>()=>p(),[p]),R.useEffect(()=>{if(l&&f){const v=y=>m(y,f),g=y=>m(y,l);return l.addEventListener("pointerleave",v),f.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",g)}}},[l,f,m,p]),R.useEffect(()=>{if(o){const v=g=>{const y=g.target,_={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(y))||(f==null?void 0:f.contains(y)),b=!tee(_,o);w?p():b&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,f,o,c,p]),R.createElement(aO,Zn({},t,{ref:s}))}),[KZ,XZ]=Ay(iM,{isInside:!1}),aO=R.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Cy($h,n),c=My(n),{onClose:f}=l;return R.useEffect(()=>(document.addEventListener(Ab,f),()=>document.removeEventListener(Ab,f)),[f]),R.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),R.createElement(xq,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f},R.createElement(IZ,Zn({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),R.createElement(Rk,null,r),R.createElement(KZ,{scope:n,isInside:!0},R.createElement(zZ,{id:l.contentId,role:"tooltip"},i||r))))}),YZ="TooltipArrow",QZ=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=My(n);return XZ(YZ,n).isInside?null:R.createElement(LZ,Zn({},i,r,{ref:e}))});function qZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function eee(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function tee(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function nee(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ree(e)}function ree(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const iee=HZ,see=$Z,oee=jZ,aee=QZ;function lee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qt(t,e){if(t==null)return{};var n=lee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let mn;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(mn||(mn={}));const cee={[mn.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[mn.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[mn.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[mn.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[mn.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[mn.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[mn.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[mn.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[mn.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[mn.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[mn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function lO(t,e,...n){const[r,...i]=cee[e](...n);console[t]("LEVA: "+r,...i)}const To=lO.bind(null,"warn"),uee=lO.bind(null,"log"),fee=["value"],dee=["schema"],hee=["value"],cO=[],uc={};function hP(t){let{value:e}=t,n=Qt(t,fee);for(let r of cO){const i=r(e,n);if(i)return i}}function Zo(t,e){let{schema:n}=e,r=Qt(e,dee);if(t in uc){To(mn.ALREADY_REGISTERED_TYPE,t);return}cO.push((i,s)=>n(i,s)&&t),uc[t]=r}function l_(t,e,n,r){const{normalize:i}=uc[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Qt(e,hee);return{value:s,settings:o}}function pee(t,e,n,r,i,s){const{sanitize:o}=uc[t];return o?o(e,n,r,i,s):e}function pP(t,e,n){const{format:r}=uc[t];return r?r(e,n):e}function mee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Ka=(t,e,n)=>t>n?n:t<e?e:t,gee=t=>{if(t===""||typeof t=="number")return t;try{const e=ga(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},vee=Math.log(10);function gP(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/vee)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const ov=(t,e,n)=>n===e?0:(Ka(t,e,n)-e)/(n-e),av=(t,e,n)=>t*(n-e)+e,yee=()=>"_"+Math.random().toString(36).substr(2,9),vP=/\(([0-9+\-*/^ .]+)\)/,yP=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,xP=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,_P=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,wP=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,bP=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function ga(t){if(isNaN(Number(t)))if(vP.test(t)){const e=t.replace(vP,(n,r)=>String(ga(r)));return ga(e)}else if(yP.test(t)){const e=t.replace(yP,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return ga(e)}else if(xP.test(t)){const e=t.replace(xP,(n,r,i)=>String(Number(r)*Number(i)));return ga(e)}else if(_P.test(t)){const e=t.replace(_P,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return ga(e)}else if(wP.test(t)){const e=t.replace(wP,(n,r,i)=>String(Number(r)+Number(i)));return ga(e)}else if(bP.test(t)){const e=t.replace(bP,(n,r,i)=>String(Number(r)-Number(i)));return ga(e)}else return Number(t);return Number(t)}function xee(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function _ee(t,e){const n=ft({},t);return e.forEach(r=>r in t&&delete n[r]),n}function wee(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function uO(t){return Object.prototype.toString.call(t)==="[object Object]"}const bee=t=>uO(t)&&Object.keys(t).length===0;let Yi;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(Yi||(Yi={}));let bs;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(bs||(bs={}));const See=["type","__customInput"],Aee=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Mee=["type"];function fO(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:ft({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:C,__customInput:E}=t,B=Qt(t,See);return fO(E,e,B,C)}const{render:o,label:a,optional:l,order:c=0,disabled:f,hint:h,onChange:p,onEditStart:m,onEditEnd:v,transient:g}=t,y=Qt(t,Aee),_=ft({render:o,key:e,label:a??e,hint:h,transient:g??!!p,onEditStart:m,onEditEnd:v,disabled:f,optional:l,order:c},n);let{type:w}=y,b=Qt(y,Mee);if(w=r??w,w in Yi)return{type:w,input:b,options:_};let A;return r&&uO(b)&&"value"in b?A=b.value:A=bee(b)?void 0:b,{type:w,input:A,options:ft(ft({},_),{},{onChange:p,optional:(i=_.optional)!==null&&i!==void 0?i:!1,disabled:(s=_.disabled)!==null&&s!==void 0?s:!1})}}function Cee(t,e,n,r){const i=fO(t,e),{type:s,input:o,options:a}=i;if(s)return s in Yi?i:{type:s,input:l_(s,o,n,r),options:a};let l=hP(o);return l?{type:l,input:l_(l,o,n,r),options:a}:(l=hP({value:o}),l?{type:l,input:l_(l,{value:o},n,r),options:a}:!1)}function SP(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=dO({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const Eee=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function dO({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=pee(t,o,n,e,i,s)}catch(l){throw new Eee(`The value \`${r}\` did not result in a correct value.`,e,l)}return zh(a,e)?e:a}const hO=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},pO=t=>t.shiftKey?5:t.altKey?1/5:1;function Tee(t,e){const n=console.error;console.error=()=>{},fI.render(t,e),console.error=n}const Ree=["value"],Pee=["min","max"],Bee=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},mO=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=Ka(i,e,n);return r?s+r:s},Iee=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},gO=t=>{let{value:e}=t,n=Qt(t,Ree);const{min:r=-1/0,max:i=1/0}=n,s=Qt(n,Pee);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Ka(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?gP(l)*10:gP(o);l=l||c/10;const f=Math.round(Ka(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:ft({initialValue:o,step:l,pad:f,min:r,max:i,suffix:a},s)}},vO=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var yO=Object.freeze({__proto__:null,schema:Bee,sanitize:mO,format:Iee,normalize:gO,sanitizeStep:vO});function In(){return In=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},In.apply(this,arguments)}const xO=R.createContext({});function Lr(){return R.useContext(xO)}const sM=R.createContext(null),_O=R.createContext(null),wO=R.createContext(null);function Sp(){return R.useContext(_O)}function Lee(){return R.useContext(wO)}const bO=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function zg(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const Td={$inputStyle:()=>t=>zg(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>zg(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>zg(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>zg(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ut,css:Ose,createTheme:Dee,globalCss:kee,keyframes:Fse}=_Q({prefix:"leva",theme:bO(),utils:ft(ft({},Td),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":Td.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":Td.$focusStyle()(t)}),$hover:t=>({"&:hover":Td.$hoverStyle()(t)}),$active:t=>({"&:active":Td.$activeStyle()(t)})})}),Oee=kee({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Fee(t){const e=bO();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=Dee(e);return{theme:e,className:n.className}}function Oo(t,e){const{theme:n}=R.useContext(sM);if(!(t in n)||!(e in n[t]))return To(mn.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const SO=ut("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),AO=ut("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${SO}`]:{paddingLeft:0}}),Nee=ut(AO,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),zee=ut("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Uee=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Gee=["onUpdate"];function oM(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=t,f=Qt(t,Uee);const{id:h,emitOnEditStart:p,emitOnEditEnd:m,disabled:v}=Lr(),g=a||h,y=R.useRef(null),_=c>0,w=_?"textarea":"input",b=R.useCallback(E=>B=>{const T=B.currentTarget.value;E(T)},[]);j.useEffect(()=>{const E=y.current,B=b(T=>{r(T),m()});return E==null||E.addEventListener("blur",B),()=>E==null?void 0:E.removeEventListener("blur",B)},[b,r,m]);const A=R.useCallback(E=>{E.key==="Enter"&&b(r)(E)},[b,r]),C=Object.assign({as:w},_?{rows:c}:{},f);return j.createElement(zee,{textArea:_},e&&typeof e=="string"?j.createElement(AO,null,e):e,j.createElement(SO,In({levaType:o,ref:y,id:g,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:b(i),onFocus:()=>p(),onKeyPress:A,onKeyDown:s,disabled:v},C)))}function Hee(t){let{onUpdate:e}=t,n=Qt(t,Gee);const r=R.useCallback(s=>e(gee(s)),[e]),i=R.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return j.createElement(oM,In({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const lv=ut("div",{}),Mb=ut("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),$ee=ut("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${Mb}::after`]:{opacity:.6},[`${lv}:hover > & + ${Mb}::after`]:{opacity:.6},[`${lv}:hover > & > svg`]:{opacity:1}}),MO=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${lv}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),CO=ut("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${MO} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),EO=ut(CO,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Vee=ut("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Wee=ut("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Cb=ut("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),jee=ut("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Cb}`]:{pointerEvents:"auto"}}}}}),TO=ut("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Jee=ut("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Kee=ut(aee,{fill:"$toolTipBackground"});function aM({children:t}){const{className:e}=R.useContext(sM);return j.createElement(HY,{className:e},t)}const Xee=["align"];function Yee(){const{id:t,disable:e,disabled:n}=Lr();return j.createElement(j.Fragment,null,j.createElement(Wee,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),j.createElement("label",{htmlFor:t+"__disable"}))}function Qee(t){const{id:e,optional:n,hint:r}=Lr(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return j.createElement(j.Fragment,null,n&&j.createElement(Yee,null),r!==void 0?j.createElement(iee,null,j.createElement(see,{asChild:!0},j.createElement(Cb,In({},i,t))),j.createElement(oee,{side:"top",sideOffset:2},j.createElement(Jee,null,r,j.createElement(Kee,null)))):j.createElement(Cb,In({},i,s,t)))}function Rs(t){let{align:e}=t,n=Qt(t,Xee);const{value:r,label:i,key:s,disabled:o}=Lr(),{hideCopyButton:a}=Lee(),l=!a&&s!==void 0,[c,f]=R.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),f(!0)}catch{To(mn.CLIPBOARD_ERROR,{[s]:r})}};return j.createElement(Vee,{align:e,onPointerLeave:()=>f(!1)},j.createElement(Qee,n),l&&!o&&j.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},j.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),j.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):j.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},j.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),j.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const qee=["toggled"],Zee=ut("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function lM(t){let{toggled:e}=t,n=Qt(t,qee);return j.createElement(Zee,In({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),j.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const ete=["input"];function ts(t){let{input:e}=t,n=Qt(t,ete);return e?j.createElement(EO,n):j.createElement(CO,n)}function RO({value:t,type:e,settings:n,setValue:r}){const[i,s]=R.useState(pP(e,t,n)),o=R.useRef(t),a=R.useRef(n);a.current=n;const l=R.useCallback(f=>s(pP(e,f,a.current)),[e]),c=R.useCallback(f=>{try{r(f)}catch(h){const{type:p,previousValue:m}=h;if(p!=="LEVA_ERROR")throw h;l(m)}},[l,r]);return R.useEffect(()=>{zh(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:c}}function Ap(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Lr();return hq(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function tte(t){const e=R.useRef(null),n=R.useRef(null),r=R.useRef(!1);return R.useEffect(()=>{const i=hO(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),R.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function PO(){const t=R.useRef(null),e=R.useRef({x:0,y:0}),n=R.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const nte=["__refCount"],c_=(t,e)=>{if(!t[e])return null;const n=t[e];return Qt(n,nte)};function rte(t){const e=Sp(),[n,r]=R.useState(c_(e.getData(),t)),i=R.useCallback(c=>e.setValueAtPath(t,c,!0),[t,e]),s=R.useCallback(c=>e.setSettingsAtPath(t,c),[t,e]),o=R.useCallback(c=>e.disableInputAtPath(t,c),[t,e]),a=R.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=R.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return R.useEffect(()=>{r(c_(e.getData(),t));const c=e.useStore.subscribe(f=>c_(f.data,t),r,{equalityFn:yp});return()=>c()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const ite=ut("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),BO=ut("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Eb=ut("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),IO=ut("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),LO=ut("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function ste({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=R.useRef(null),a=R.useRef(null),l=R.useRef(0),c=Oo("sizes","scrubberWidth"),f=Ap(({event:p,first:m,xy:[v],movement:[g],memo:y})=>{if(m){const{width:w,left:b}=o.current.getBoundingClientRect();l.current=w-parseFloat(c),y=(p==null?void 0:p.target)===a.current?t:av((v-b)/w,e,n)}const _=y+av(g/l.current,0,n-e);return r(vO(_,{step:i,initialValue:s})),y}),h=ov(t,e,n);return j.createElement(IO,In({ref:o},f()),j.createElement(BO,null,j.createElement(LO,{style:{left:0,right:`${(1-h)*100}%`}})),j.createElement(Eb,{ref:a,style:{left:`calc(${h} * (100% - ${c}))`}}))}const ote=j.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=R.useState(!1),o=Ap(({active:a,delta:[l],event:c,memo:f=0})=>(s(a),f+=l/2,Math.abs(f)>=1&&(e(h=>parseFloat(h)+Math.floor(f)*n*pO(c)),f=0),f));return j.createElement(Nee,In({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function DO({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&j.createElement(ote,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return j.createElement(Hee,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function ate(){const t=Lr(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return j.createElement(ts,{input:!0},j.createElement(Rs,null,e),j.createElement(ite,{hasRange:l},l&&j.createElement(ste,In({value:parseFloat(n),onDrag:r},i)),j.createElement(DO,In({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:lte}=yO,cte=Qt(yO,["sanitizeStep"]);var ute=ft({component:ate},cte);const fte=(t,e)=>ti().schema({options:ti().passesAnyOf(ti().object(),ti().array())}).test(e),dte=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},hte=(t,{values:e})=>e.indexOf(t),pte=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var mte=Object.freeze({__proto__:null,schema:fte,sanitize:dte,format:hte,normalize:pte});const gte=ut("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Tb=ut("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),vte=ut("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Tb}:focus + &`]:{$focusStyle:""},[`${Tb}:hover + &`]:{$hoverStyle:""}});function yte({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=R.useRef();return e===a[t]&&(l.current=o[t]),j.createElement(gte,null,j.createElement(Tb,{id:r,value:t,onChange:c=>n(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,f)=>j.createElement("option",{key:c,value:f},c))),j.createElement(vte,null,l.current),j.createElement(lM,{toggled:!0}))}function xte(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=Lr();return j.createElement(ts,{input:!0},j.createElement(Rs,null,t),j.createElement(yte,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var _te=ft({component:xte},mte);const wte=t=>ti().string().test(t),bte=t=>{if(typeof t!="string")throw Error("Invalid string");return t},Ste=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var Ate=Object.freeze({__proto__:null,schema:wte,sanitize:bte,normalize:Ste});const Mte=["displayValue","onUpdate","onChange","editable"],Cte=ut("div",{whiteSpace:"pre-wrap"});function Ete(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=Qt(t,Mte);return i?j.createElement(oM,In({value:e,onUpdate:n,onChange:r},s)):j.createElement(Cte,null,e)}function Tte(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=Lr();return j.createElement(ts,{input:!0},j.createElement(Rs,null,t),j.createElement(Ete,In({displayValue:n,onUpdate:r,onChange:i},e)))}var Rte=ft({component:Tte},Ate);const Pte=t=>ti().boolean().test(t),Bte=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var Ite=Object.freeze({__proto__:null,schema:Pte,sanitize:Bte});const Lte=ut("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Dte({value:t,onUpdate:e,id:n,disabled:r}){return j.createElement(Lte,null,j.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),j.createElement("label",{htmlFor:n},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function kte(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=Lr();return j.createElement(ts,{input:!0},j.createElement(Rs,null,t),j.createElement(Dte,{value:e,onUpdate:n,id:i,disabled:r}))}var Ote=ft({component:kte},Ite);const Fte=["locked"];function Nte({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=R.useRef(t[n]);o.current=t[n];const a=R.useCallback(c=>i({[n]:dO({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,n]),l=RO({type:"NUMBER",value:t[n],settings:r,setValue:a});return j.createElement(DO,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const zte=ut("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Ute(t){let{locked:e}=t,n=Qt(t,Fte);return j.createElement("svg",In({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?j.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):j.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function cM({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=Lr(),{lock:o,locked:a}=n;return j.createElement(zte,{withLock:o},o&&j.createElement(Ute,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,c)=>j.createElement(Nte,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const kO=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=gO(ft({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},Gte=["lock"],Hte=["value"];function $te(t){const e=ti().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function Vte(t){return Array.isArray(t)?"array":"object"}function eh(t,e,n){return Vte(t)===e?t:e==="array"?Object.values(t):wee(t,n)}const Wte=(t,e,n)=>{const r=eh(t,"object",e.keys);for(let o in r)r[o]=mO(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=eh(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],f=c!==0?l/c:1;for(let h in o)h===a?s[a]=l:s[h]=o[h]*f}else s=ft(ft({},o),r)}return eh(s,e.format,e.keys)},jte=(t,e)=>eh(t,"object",e.keys),Jte=t=>!!t&&("step"in t||"min"in t||"max"in t);function Kte(t,e,n=[]){const{lock:r=!1}=e,i=Qt(e,Gte),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=eh(t,"object",o),l=Jte(i)?o.reduce((f,h)=>Object.assign(f,{[h]:i}),{}):i,c=kO(a,l);return{value:s==="array"?t:a,settings:ft(ft({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function OO(t){return{schema:$te(t.length),normalize:e=>{let{value:n}=e,r=Qt(e,Hte);return Kte(n,r,t)},format:(e,n)=>jte(e,n),sanitize:(e,n,r)=>Wte(e,n,r)}}var Xte={grad:.9,turn:360,rad:360/(2*Math.PI)},bo=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},or=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Ki=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},FO=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},AP=function(t){return{r:Ki(t.r,0,255),g:Ki(t.g,0,255),b:Ki(t.b,0,255),a:Ki(t.a)}},u_=function(t){return{r:or(t.r),g:or(t.g),b:or(t.b),a:or(t.a,3)}},Yte=/^#([0-9a-f]{3,8})$/i,Ug=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},NO=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},zO=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},MP=function(t){return{h:FO(t.h),s:Ki(t.s,0,100),l:Ki(t.l,0,100),a:Ki(t.a)}},CP=function(t){return{h:or(t.h),s:or(t.s),l:or(t.l),a:or(t.a,3)}},EP=function(t){return zO((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},th=function(t){return{h:(e=NO(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Qte=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qte=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zte=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ene=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rb={string:[[function(t){var e=Yte.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?or(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?or(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Zte.exec(t)||ene.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:AP({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Qte.exec(t)||qte.exec(t);if(!e)return null;var n,r,i=MP({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Xte[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return EP(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return bo(e)&&bo(n)&&bo(r)?AP({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!bo(e)||!bo(n)||!bo(r))return null;var o=MP({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return EP(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!bo(e)||!bo(n)||!bo(r))return null;var o=function(a){return{h:FO(a.h),s:Ki(a.s,0,100),v:Ki(a.v,0,100),a:Ki(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return zO(o)},"hsv"]]},TP=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},UO=function(t){return typeof t=="string"?TP(t.trim(),Rb.string):typeof t=="object"&&t!==null?TP(t,Rb.object):[null,void 0]},tne=function(t){return UO(t)[1]},f_=function(t,e){var n=th(t);return{h:n.h,s:Ki(n.s+100*e,0,100),l:n.l,a:n.a}},d_=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},RP=function(t,e){var n=th(t);return{h:n.h,s:n.s,l:Ki(n.l+100*e,0,100),a:n.a}},Pb=function(){function t(e){this.parsed=UO(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return or(d_(this.rgba),2)},t.prototype.isDark=function(){return d_(this.rgba)<.5},t.prototype.isLight=function(){return d_(this.rgba)>=.5},t.prototype.toHex=function(){return e=u_(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Ug(or(255*s)):"","#"+Ug(n)+Ug(r)+Ug(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return u_(this.rgba)},t.prototype.toRgbString=function(){return e=u_(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return CP(th(this.rgba))},t.prototype.toHslString=function(){return e=CP(th(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=NO(this.rgba),{h:or(e.h),s:or(e.s),v:or(e.v),a:or(e.a,3)};var e},t.prototype.invert=function(){return Gr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Gr(f_(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Gr(f_(this.rgba,-e))},t.prototype.grayscale=function(){return Gr(f_(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Gr(RP(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Gr(RP(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Gr({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):or(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=th(this.rgba);return typeof e=="number"?Gr({h:e,s:n.s,l:n.l,a:n.a}):or(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Gr(e).toHex()},t}(),Gr=function(t){return t instanceof Pb?t:new Pb(t)},PP=[],nne=function(t){t.forEach(function(e){PP.indexOf(e)<0&&(e(Pb,Rb),PP.push(e))})};function rne(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var f=this.toRgb(),h=1/0,p="black";if(!s.length)for(var m in n)s[m]=new t(n[m]).toRgb();for(var v in n){var g=(a=f,l=s[v],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));g<h&&(h=g,p=v)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function xc(){return(xc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function uM(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function Bb(t){var e=R.useRef(t),n=R.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var df=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},nh=function(t){return"touches"in t},Ib=function(t){return t&&t.ownerDocument.defaultView||self},BP=function(t,e,n){var r=t.getBoundingClientRect(),i=nh(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:df((i.pageX-(r.left+Ib(t).pageXOffset))/r.width),top:df((i.pageY-(r.top+Ib(t).pageYOffset))/r.height)}},IP=function(t){!nh(t)&&t.preventDefault()},fM=j.memo(function(t){var e=t.onMove,n=t.onKey,r=uM(t,["onMove","onKey"]),i=R.useRef(null),s=Bb(e),o=Bb(n),a=R.useRef(null),l=R.useRef(!1),c=R.useMemo(function(){var m=function(y){IP(y),(nh(y)?y.touches.length>0:y.buttons>0)&&i.current?s(BP(i.current,y,a.current)):g(!1)},v=function(){return g(!1)};function g(y){var _=l.current,w=Ib(i.current),b=y?w.addEventListener:w.removeEventListener;b(_?"touchmove":"mousemove",m),b(_?"touchend":"mouseup",v)}return[function(y){var _=y.nativeEvent,w=i.current;if(w&&(IP(_),!function(A,C){return C&&!nh(A)}(_,l.current)&&w)){if(nh(_)){l.current=!0;var b=_.changedTouches||[];b.length&&(a.current=b[0].identifier)}w.focus(),s(BP(w,_,a.current)),g(!0)}},function(y){var _=y.which||y.keyCode;_<37||_>40||(y.preventDefault(),o({left:_===39?.05:_===37?-.05:0,top:_===40?.05:_===38?-.05:0}))},g]},[o,s]),f=c[0],h=c[1],p=c[2];return R.useEffect(function(){return p},[p]),j.createElement("div",xc({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),Mp=function(t){return t.filter(Boolean).join(" ")},dM=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=Mp(["react-colorful__pointer",t.className]);return j.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},j.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ar=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},ine=function(t){return pM(Lb(t))},Lb=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ar(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?ar(parseInt(t.substring(6,8),16)/255,2):1}},sne=function(t){return one(hM(t))},GO=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:ar(t.h),s:ar(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:ar(i/2),a:ar(r,2)}},Db=function(t){var e=GO(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},h_=function(t){var e=GO(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},hM=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),c=s%6;return{r:ar(255*[r,a,o,o,l,r][c]),g:ar(255*[l,r,r,a,o,o][c]),b:ar(255*[o,o,l,r,r,a][c]),a:ar(i,2)}},Gg=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},one=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i<1?Gg(ar(255*i)):"";return"#"+Gg(e)+Gg(n)+Gg(r)+s},pM=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:ar(60*(a<0?a+6:a)),s:ar(s?o/s*100:0),v:ar(s/255*100),a:i}},HO=j.memo(function(t){var e=t.hue,n=t.onChange,r=Mp(["react-colorful__hue",t.className]);return j.createElement("div",{className:r},j.createElement(fM,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:df(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ar(e),"aria-valuemax":"360","aria-valuemin":"0"},j.createElement(dM,{className:"react-colorful__hue-pointer",left:e/360,color:Db({h:e,s:100,v:100,a:1})})))}),$O=j.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Db({h:e.h,s:100,v:100,a:1})};return j.createElement("div",{className:"react-colorful__saturation",style:r},j.createElement(fM,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:df(e.s+100*i.left,0,100),v:df(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ar(e.s)+"%, Brightness "+ar(e.v)+"%"},j.createElement(dM,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Db(e)})))}),Ey=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},ane=function(t,e){return t.toLowerCase()===e.toLowerCase()||Ey(Lb(t),Lb(e))};function VO(t,e,n){var r=Bb(n),i=R.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=R.useRef({color:e,hsva:s});R.useEffect(function(){if(!t.equal(e,a.current.color)){var c=t.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,t]),R.useEffect(function(){var c;Ey(s,a.current.hsva)||t.equal(c=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,t,r]);var l=R.useCallback(function(c){o(function(f){return Object.assign({},f,c)})},[]);return[s,l]}var lne=typeof window<"u"?R.useLayoutEffect:R.useEffect,cne=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},LP=new Map,WO=function(t){lne(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!LP.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,LP.set(e,n);var r=cne();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},jO=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=uM(t,["className","colorModel","color","onChange"]),a=R.useRef(null);WO(a);var l=VO(n,i,s),c=l[0],f=l[1],h=Mp(["react-colorful",e]);return j.createElement("div",xc({},o,{ref:a,className:h}),j.createElement($O,{hsva:c,onChange:f}),j.createElement(HO,{hue:c.h,onChange:f,className:"react-colorful__last-control"}))},une={defaultColor:"000",toHsva:ine,fromHsva:function(t){return sne({h:t.h,s:t.s,v:t.v,a:1})},equal:ane},fne=function(t){return j.createElement(jO,xc({},t,{colorModel:une}))},dne=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+h_(Object.assign({},n,{a:0}))+", "+h_(Object.assign({},n,{a:1}))+")"},s=Mp(["react-colorful__alpha",e]),o=ar(100*n.a);return j.createElement("div",{className:s},j.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),j.createElement(fM,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:df(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},j.createElement(dM,{className:"react-colorful__alpha-pointer",left:n.a,color:h_(n)})))},hne=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=uM(t,["className","colorModel","color","onChange"]),a=R.useRef(null);WO(a);var l=VO(n,i,s),c=l[0],f=l[1],h=Mp(["react-colorful",e]);return j.createElement("div",xc({},o,{ref:a,className:h}),j.createElement($O,{hsva:c,onChange:f}),j.createElement(HO,{hue:c.h,onChange:f}),j.createElement(dne,{hsva:c,onChange:f,className:"react-colorful__last-control"}))},pne={defaultColor:{r:0,g:0,b:0,a:1},toHsva:pM,fromHsva:hM,equal:Ey},mne=function(t){return j.createElement(hne,xc({},t,{colorModel:pne}))},gne={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return pM({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=hM(t)).r,g:e.g,b:e.b};var e},equal:Ey},vne=function(t){return j.createElement(jO,xc({},t,{colorModel:gne}))};function Bf(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(h){o(h)}}function l(f){try{c(r.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function If(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function yne(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function xne(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yne(arguments[e]));return t}var _ne=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Cp(t,e){var n=wne(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function wne(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=_ne.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var bne=[".DS_Store","Thumbs.db"];function Sne(t){return Bf(this,void 0,void 0,function(){return If(this,function(e){return cv(t)&&Ane(t)?[2,Tne(t.dataTransfer,t.type)]:Mne(t)?[2,Cne(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,Ene(t)]:[2,[]]})})}function Ane(t){return cv(t.dataTransfer)}function Mne(t){return cv(t)&&cv(t.target)}function cv(t){return typeof t=="object"&&t!==null}function Cne(t){return kb(t.target.files).map(function(e){return Cp(e)})}function Ene(t){return Bf(this,void 0,void 0,function(){var e;return If(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Cp(r)})]}})})}function Tne(t,e){return Bf(this,void 0,void 0,function(){var n,r;return If(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=kb(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(Rne))]):[3,2];case 1:return r=i.sent(),[2,DP(JO(r))];case 2:return[2,DP(kb(t.files).map(function(s){return Cp(s)}))]}})})}function DP(t){return t.filter(function(e){return bne.indexOf(e.name)===-1})}function kb(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function Rne(t){if(typeof t.webkitGetAsEntry!="function")return kP(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?KO(e):kP(t)}function JO(t){return t.reduce(function(e,n){return xne(e,Array.isArray(n)?JO(n):[n])},[])}function kP(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Cp(e);return Promise.resolve(n)}function Pne(t){return Bf(this,void 0,void 0,function(){return If(this,function(e){return[2,t.isDirectory?KO(t):Bne(t)]})})}function KO(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Bf(o,void 0,void 0,function(){var l,c,f;return If(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=h.sent(),n(l),[3,4];case 3:return c=h.sent(),r(c),[3,4];case 4:return[3,6];case 5:f=Promise.all(a.map(Pne)),i.push(f),s(),h.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Bne(t){return Bf(this,void 0,void 0,function(){return If(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=Cp(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var Ine=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){XO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NP(t,e){return One(t)||kne(t,e)||Dne(t,e)||Lne()}function Lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dne(t,e){if(t){if(typeof t=="string")return zP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(t,e)}}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function One(t){if(Array.isArray(t))return t}var Fne="file-invalid-type",Nne="file-too-large",zne="file-too-small",Une="too-many-files",Gne=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Fne,message:"File type must be ".concat(n)}},UP=function(e){return{code:Nne,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},GP=function(e){return{code:zne,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Hne={code:Une,message:"Too many files"};function YO(t,e){var n=t.type==="application/x-moz-file"||Ine(t,e);return[n,n?null:Gne(e)]}function QO(t,e,n){if(Rd(t.size))if(Rd(e)&&Rd(n)){if(t.size>n)return[!1,UP(n)];if(t.size<e)return[!1,GP(e)]}else{if(Rd(e)&&t.size<e)return[!1,GP(e)];if(Rd(n)&&t.size>n)return[!1,UP(n)]}return[!0,null]}function Rd(t){return t!=null}function $ne(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=YO(a,n),c=NP(l,1),f=c[0],h=QO(a,r,i),p=NP(h,1),m=p[0];return f&&m})}function uv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Hg(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function HP(t){t.preventDefault()}function Vne(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Wne(t){return t.indexOf("Edge/")!==-1}function jne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Vne(t)||Wne(t)}function Ns(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!uv(r)&&a&&a.apply(void 0,[r].concat(s)),uv(r)})}}function Jne(){return"showOpenFilePicker"in window}function Kne(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return FP(FP({},e),{},XO({},n,[]))},{}):{}}]}function Xne(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Yne(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var Qne=["children"],qne=["open"],Zne=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ere=["refKey","onChange","onClick"];function tre(t){return ire(t)||rre(t)||qO(t)||nre()}function nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ire(t){if(Array.isArray(t))return Ob(t)}function p_(t,e){return are(t)||ore(t,e)||qO(t,e)||sre()}function sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qO(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(t,e)}}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function are(t){if(Array.isArray(t))return t}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fv(t,e){if(t==null)return{};var n=lre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var mM=R.forwardRef(function(t,e){var n=t.children,r=fv(t,Qne),i=eF(r),s=i.open,o=fv(i,qne);return R.useImperativeHandle(e,function(){return{open:s}},[s]),j.createElement(R.Fragment,null,n(pn(pn({},o),{},{open:s})))});mM.displayName="Dropzone";var ZO={disabled:!1,getFilesFromEvent:Sne,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};mM.defaultProps=ZO;mM.propTypes={children:Xt.func,accept:Xt.oneOfType([Xt.string,Xt.arrayOf(Xt.string)]),multiple:Xt.bool,preventDropOnDocument:Xt.bool,noClick:Xt.bool,noKeyboard:Xt.bool,noDrag:Xt.bool,noDragEventsBubbling:Xt.bool,minSize:Xt.number,maxSize:Xt.number,maxFiles:Xt.number,disabled:Xt.bool,getFilesFromEvent:Xt.func,onFileDialogCancel:Xt.func,onFileDialogOpen:Xt.func,useFsAccessApi:Xt.bool,onDragEnter:Xt.func,onDragLeave:Xt.func,onDragOver:Xt.func,onDrop:Xt.func,onDropAccepted:Xt.func,onDropRejected:Xt.func,validator:Xt.func};var Nb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function eF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=pn(pn({},ZO),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,v=e.onDropRejected,g=e.onFileDialogCancel,y=e.onFileDialogOpen,_=e.useFsAccessApi,w=e.preventDropOnDocument,b=e.noClick,A=e.noKeyboard,C=e.noDrag,E=e.noDragEventsBubbling,B=e.validator,T=R.useMemo(function(){return typeof y=="function"?y:VP},[y]),I=R.useMemo(function(){return typeof g=="function"?g:VP},[g]),L=R.useRef(null),k=R.useRef(null),G=R.useReducer(cre,Nb),z=p_(G,2),F=z[0],J=z[1],q=F.isFocused,ne=F.isFileDialogActive,O=F.draggedFiles,W=R.useRef(typeof window<"u"&&window.isSecureContext&&_&&Jne()),X=function(){!W.current&&ne&&setTimeout(function(){if(k.current){var V=k.current.files;V.length||(J({type:"closeDialog"}),I())}},300)};R.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[k,ne,I,W]);var se=R.useRef([]),Q=function(V){L.current&&L.current.contains(V.target)||(V.preventDefault(),se.current=[])};R.useEffect(function(){return w&&(document.addEventListener("dragover",HP,!1),document.addEventListener("drop",Q,!1)),function(){w&&(document.removeEventListener("dragover",HP),document.removeEventListener("drop",Q))}},[L,w]);var re=R.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D),se.current=[].concat(tre(se.current),[D.target]),Hg(D)&&Promise.resolve(i(D)).then(function(V){uv(D)&&!E||(J({draggedFiles:V,isDragActive:!0,type:"setDraggedFiles"}),c&&c(D))})},[i,c,E]),_e=R.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D);var V=Hg(D);if(V&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return V&&h&&h(D),!1},[h,E]),be=R.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D);var V=se.current.filter(function(de){return L.current&&L.current.contains(de)}),ie=V.indexOf(D.target);ie!==-1&&V.splice(ie,1),se.current=V,!(V.length>0)&&(J({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Hg(D)&&f&&f(D))},[L,f,E]),te=R.useCallback(function(D,V){var ie=[],de=[];D.forEach(function(ve){var Ge=YO(ve,n),pe=p_(Ge,2),ue=pe[0],ze=pe[1],Pe=QO(ve,o,s),Ne=p_(Pe,2),et=Ne[0],$e=Ne[1],Y=B?B(ve):null;if(ue&&et&&!Y)ie.push(ve);else{var Se=[ze,$e];Y&&(Se=Se.concat(Y)),de.push({file:ve,errors:Se.filter(function(je){return je})})}}),(!a&&ie.length>1||a&&l>=1&&ie.length>l)&&(ie.forEach(function(ve){de.push({file:ve,errors:[Hne]})}),ie.splice(0)),J({acceptedFiles:ie,fileRejections:de,type:"setFiles"}),p&&p(ie,de,V),de.length>0&&v&&v(de,V),ie.length>0&&m&&m(ie,V)},[J,a,n,o,s,l,p,m,v,B]),De=R.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D),se.current=[],Hg(D)&&Promise.resolve(i(D)).then(function(V){uv(D)&&!E||te(V,D)}),J({type:"reset"})},[i,te,E]),Fe=R.useCallback(function(){if(W.current){J({type:"openDialog"}),T();var D={multiple:a,types:Kne(n)};window.showOpenFilePicker(D).then(function(V){return i(V)}).then(function(V){te(V,null),J({type:"closeDialog"})}).catch(function(V){Xne(V)?(I(V),J({type:"closeDialog"})):Yne(V)&&(W.current=!1,k.current&&(k.current.value=null,k.current.click()))});return}k.current&&(J({type:"openDialog"}),T(),k.current.value=null,k.current.click())},[J,T,I,_,te,n,a]),Ie=R.useCallback(function(D){!L.current||!L.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),Fe())},[L,Fe]),Te=R.useCallback(function(){J({type:"focus"})},[]),Qe=R.useCallback(function(){J({type:"blur"})},[]),me=R.useCallback(function(){b||(jne()?setTimeout(Fe,0):Fe())},[b,Fe]),le=function(V){return r?null:V},Ae=function(V){return A?null:le(V)},Ce=function(V){return C?null:le(V)},Ee=function(V){E&&V.stopPropagation()},nt=R.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=D.refKey,ie=V===void 0?"ref":V,de=D.role,ve=D.onKeyDown,Ge=D.onFocus,pe=D.onBlur,ue=D.onClick,ze=D.onDragEnter,Pe=D.onDragOver,Ne=D.onDragLeave,et=D.onDrop,$e=fv(D,Zne);return pn(pn(Fb({onKeyDown:Ae(Ns(ve,Ie)),onFocus:Ae(Ns(Ge,Te)),onBlur:Ae(Ns(pe,Qe)),onClick:le(Ns(ue,me)),onDragEnter:Ce(Ns(ze,re)),onDragOver:Ce(Ns(Pe,_e)),onDragLeave:Ce(Ns(Ne,be)),onDrop:Ce(Ns(et,De)),role:typeof de=="string"&&de!==""?de:"button"},ie,L),!r&&!A?{tabIndex:0}:{}),$e)}},[L,Ie,Te,Qe,me,re,_e,be,De,A,C,r]),Ke=R.useCallback(function(D){D.stopPropagation()},[]),Xe=R.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=D.refKey,ie=V===void 0?"ref":V,de=D.onChange,ve=D.onClick,Ge=fv(D,ere),pe=Fb({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:le(Ns(de,De)),onClick:le(Ns(ve,Ke)),tabIndex:-1},ie,k);return pn(pn({},pe),Ge)}},[k,n,a,De,r]),st=O.length,lt=st>0&&$ne({files:O,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),$=st>0&&!lt;return pn(pn({},F),{},{isDragAccept:lt,isDragReject:$,isFocused:q&&!r,getRootProps:nt,getInputProps:Xe,rootRef:L,inputRef:k,open:le(Fe)})}function cre(t,e){switch(e.type){case"focus":return pn(pn({},t),{},{isFocused:!0});case"blur":return pn(pn({},t),{},{isFocused:!1});case"openDialog":return pn(pn({},Nb),{},{isFileDialogActive:!0});case"closeDialog":return pn(pn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return pn(pn({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return pn(pn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return pn({},Nb);default:return t}}function VP(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ure=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var fre=ure;function WP(t){return fre(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var tF=function(e){var n,r;return!(WP(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,WP(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var dre=tF,gM=function(e){return dre(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var hre=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},pre=gM,mre=hre;function nF(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];zb(i)&&mre(i,gre,t)}return t}function gre(t,e){if(vre(e)){var n=this[e];zb(t)&&zb(n)?nF(n,t):this[e]=t}}function zb(t){return pre(t)&&!Array.isArray(t)}function vre(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var yre=nF;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var xre=function(t,e,n,r,i){if(!_re(t)||!e)return t;if(e=$g(e),n&&(e+="."+$g(n)),r&&(e+="."+$g(r)),i&&(e+="."+$g(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function _re(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function $g(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var wre=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];n.call(o,c)&&(r[c]=o[c])}return r},bre=gM,Sre=wre,Are=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");jP(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];Cre(n)&&(n=Ere(n)),jP(n)&&(Mre(t,n),Sre(t,n))}return t};function Mre(t,e){for(var n in e)Tre(e,n)&&(t[n]=e[n])}function Cre(t){return t&&typeof t=="string"}function Ere(t){var e={};for(var n in t)e[n]=t[n];return e}function jP(t){return t&&typeof t=="object"||bre(t)}function Tre(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Rre=Are,Pre=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=Rre({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,f=t.length,h=-1,p;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++h<f;){var v=t[h],g=t[h+1],y={val:v,idx:h,arr:l,str:t};if(o.push(y),v==="\\"){y.val=Ire(r,t,h)===!0?v+g:g,y.escaped=!0,typeof n=="function"&&n(y),l[l.length-1]+=y.val,h++;continue}if(s&&s[v]){a.push(v);var _=m(),w=h+1;if(t.indexOf(_,w+1)!==-1)for(;a.length&&w<f;){var b=t[++w];if(b==="\\"){b++;continue}if(i.indexOf(b)!==-1){w=Ub(t,b,w+1);continue}if(_=m(),a.length&&t.indexOf(_,w+1)===-1)break;if(s[b]){a.push(b);continue}_===b&&a.pop()}if(p=w,p===-1){l[l.length-1]+=v;continue}v=t.slice(h,p+1),y.val=v,y.idx=h=p}if(i.indexOf(v)!==-1){if(p=Ub(t,v,h+1),p===-1){l[l.length-1]+=v;continue}Bre(v,r)===!0?v=t.slice(h,p+1):v=t.slice(h+1,p),y.val=v,y.idx=h=p}if(typeof n=="function"&&(n(y,o),v=y.val,h=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function Ub(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?Ub(t,e,i+1):i}function Bre(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function Ire(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Lre=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},JP=Lre,Dre=function(e){JP(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];JP(i)&&kre(e,i)}return e};function kre(t,e){for(var n in e)Ore(e,n)&&(t[n]=e[n])}function Ore(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Fre=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Nre=Pre,zre=Dre,KP=tF,XP=Fre,Ure=function(t,e,n){if(!XP(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=Nre(e,{sep:".",brackets:!0}).filter(Gre),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){XP(o[a])||(o[a]={}),o=o[a];continue}KP(o[a])&&KP(n)?o[a]=zre({},o[a],n):o[a]=n}return t};function Gre(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var m_=gM,YP=yre,Hre=xre,QP=Ure,$re=function(e,n,r){if(!m_(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return YP.apply(null,arguments);if(typeof r=="string")return QP(e,n,r),e;var i=Hre(e,n);return m_(r)&&m_(i)&&(r=YP({},i,r)),QP(e,n,r),e};const vM=(...t)=>t.filter(Boolean).join(".");function Vre(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function Wre(t,e){return Object.entries(xee(t,e)).reduce((n,[,{value:r,disabled:i,key:s}])=>(n[s]=i?void 0:r,n),{})}function jre(t,e){const n=R.useRef();return(e?zh:yp)(t,n.current)||(n.current=t),n.current}function rF(t,e){return R.useMemo(t,jre(e,!0))}function Jre(t){const e=R.useRef(null),n=R.useRef(null),r=R.useRef(!0);return R.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),R.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const Kre=t=>{const[e,n]=R.useState(t.getVisiblePaths());return R.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:yp});return()=>r()},[t]),e};function Xre(t,e,n){return t.useStore(i=>{const s=ft(ft({},n),i.data);return Wre(s,e)},yp)}function iF(t=3){const e=R.useRef(null),n=R.useRef(null),[r,i]=R.useState(!1),s=R.useCallback(()=>i(!0),[]),o=R.useCallback(()=>i(!1),[]);return R.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:f}=n.current.getBoundingClientRect(),h=a+f>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=c+"px",h==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}nne([rne]);const Yre={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ti.extend({color:()=>t=>Gr(t).isValid()});const Qre=t=>ti().color().test(t);function sF(t,{format:e,hasAlpha:n,isString:r}){const i=Yre[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?_ee(s,["a"]):s}const oF=(t,e)=>{const n=Gr(t);if(!n.isValid())throw Error("Invalid color");return sF(n,e)},qre=(t,e)=>sF(Gr(t),ft(ft({},e),{},{isString:!0,format:"hex"})),Zre=({value:t})=>{const e=tne(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:oF(t,i),settings:i}};var eie=Object.freeze({__proto__:null,schema:Qre,sanitize:oF,format:qre,normalize:Zre});const tie=ut("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),nie=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),rie=ut("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function qP(t,e){return e!=="rgb"?Gr(t).toRgb():t}function iie({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Lr(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:c,shown:f,show:h,hide:p}=iF(),m=R.useRef(0),[v,g]=R.useState(()=>qP(t,o)),y=a?mne:vne,_=()=>{g(qP(t,o)),h(),i()},w=()=>{p(),s(),window.clearTimeout(m.current)},b=()=>{m.current=window.setTimeout(w,500)};return R.useEffect(()=>()=>window.clearTimeout(m.current),[]),j.createElement(j.Fragment,null,j.createElement(tie,{ref:l,active:f,onClick:()=>_(),style:{color:e}}),f&&j.createElement(aM,null,j.createElement(TO,{onPointerUp:w}),j.createElement(rie,{ref:c,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:A=>A.buttons===0&&b()},j.createElement(y,{color:v,onChange:r}))))}function sie(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=Lr();return j.createElement(ts,{input:!0},j.createElement(Rs,null,n),j.createElement(nie,null,j.createElement(iie,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),j.createElement(oM,{value:e,onChange:r,onUpdate:i})))}var oie=ft({component:sie},eie);function aie(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Lr();return j.createElement(ts,{input:!0},j.createElement(Rs,null,t),j.createElement(cM,{value:e,settings:r,onUpdate:n}))}var lie=ft({component:aie},OO(["x","y","z"]));const cie=ut("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),uie=ut("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function fie({value:t,settings:e,onUpdate:n}){const r=R.useRef(),i=R.useRef(0),s=R.useRef(0),o=R.useRef(1),[a,l]=R.useState(!1),[c,f]=R.useState(!1),[h,p]=PO(),m=R.useRef(null),v=R.useRef(null);R.useLayoutEffect(()=>{if(a){const{top:G,left:z,width:F,height:J}=m.current.getBoundingClientRect();v.current.style.left=z+F/2+"px",v.current.style.top=G+J/2+"px"}},[a]);const{keys:[g,y],joystick:_}=e,w=_==="invertY"?1:-1,{[g]:{step:b},[y]:{step:A}}=e,C=Oo("sizes","joystickWidth"),E=Oo("sizes","joystickHeight"),B=parseFloat(C)*.8/2,T=parseFloat(E)*.8/2,I=R.useCallback(()=>{r.current||(f(!0),i.current&&p({x:i.current*B}),s.current&&p({y:s.current*-T}),r.current=window.setInterval(()=>{n(G=>{const z=b*i.current*o.current,F=w*A*s.current*o.current;return Array.isArray(G)?{[g]:G[0]+z,[y]:G[1]+F}:{[g]:G[g]+z,[y]:G[y]+F}})},16))},[B,T,n,p,b,A,g,y,w]),L=R.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,f(!1)},[]);R.useEffect(()=>{function G(z){o.current=pO(z)}return window.addEventListener("keydown",G),window.addEventListener("keyup",G),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",G),window.removeEventListener("keyup",G)}},[]);const k=Ap(({first:G,active:z,delta:[F,J],movement:[q,ne]})=>{G&&l(!0);const O=Ka(q,-B,B),W=Ka(ne,-T,T);i.current=Math.abs(q)>Math.abs(O)?Math.sign(q-O):0,s.current=Math.abs(ne)>Math.abs(W)?Math.sign(W-ne):0;let X=t[g],se=t[y];z?(i.current||(X+=F*b*o.current,p({x:O})),s.current||(se-=w*J*A*o.current,p({y:W})),i.current||s.current?I():L(),n({[g]:X,[y]:se})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),L())});return j.createElement(cie,In({ref:m},k()),a&&j.createElement(aM,null,j.createElement(uie,{ref:v,isOutOfBounds:c},j.createElement("div",null),j.createElement("span",{ref:h}))))}const die=ut("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function hie(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Lr();return j.createElement(ts,{input:!0},j.createElement(Rs,null,t),j.createElement(die,{withJoystick:!!r.joystick},r.joystick&&j.createElement(fie,{value:e,settings:r,onUpdate:n}),j.createElement(cM,{value:e,settings:r,onUpdate:n})))}const pie=["joystick"],aF=OO(["x","y"]),mie=t=>{let{joystick:e=!0}=t,n=Qt(t,pie);const{value:r,settings:i}=aF.normalize(n);return{value:r,settings:ft(ft({},i),{},{joystick:e})}};var gie=ft(ft({component:hie},aF),{},{normalize:mie});const vie=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob | File].")}},yie=(t,e)=>typeof e=="object"&&"image"in e,xie=({image:t})=>({value:t});var _ie=Object.freeze({__proto__:null,sanitize:vie,schema:yie,normalize:xie});const wie=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),bie=ut("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Sie=ut("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Aie=ut("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Mie=ut("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Cie=ut("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Eie(){const{label:t,value:e,onUpdate:n,disabled:r}=Lr(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=iF(),c=R.useCallback(v=>{v.length&&n(v[0])},[n]),f=R.useCallback(v=>{v.stopPropagation(),n(void 0)},[n]),{getRootProps:h,getInputProps:p,isDragAccept:m}=eF({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return j.createElement(ts,{input:!0},j.createElement(Rs,null,t),j.createElement(wie,null,j.createElement(Sie,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&j.createElement(aM,null,j.createElement(TO,{onPointerUp:l,style:{cursor:"pointer"}}),j.createElement(Aie,{ref:s,style:{backgroundImage:`url(${e})`}})),j.createElement(bie,h({isDragAccept:m}),j.createElement("input",p()),j.createElement(Mie,null,m?"drop image":"click or drop")),j.createElement(Cie,{onClick:f,disabled:!e})))}var Tie=ft({component:Eie},_ie);const ZP=ti().number(),Rie=(t,e)=>ti().array().length(2).every.number().test(t)&&ti().schema({min:ZP,max:ZP}).test(e),dv=t=>({min:t[0],max:t[1]}),lF=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?dv(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=ft(ft({},s),i);return[Ka(Number(o),e,Math.max(e,a)),Ka(Number(a),Math.min(n,o),n)]},Pie=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=kO(dv(t),{min:r,max:r}),s=[e,n],o=ft(ft({},i),{},{bounds:s});return{value:lF(dv(t),o,t),settings:o}};var Bie=Object.freeze({__proto__:null,schema:Rie,format:dv,sanitize:lF,normalize:Pie});const Iie=["value","bounds","onDrag"],Lie=["bounds"],Die=ut("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function kie(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=Qt(t,Iie);const o=R.useRef(null),a=R.useRef(null),l=R.useRef(null),c=R.useRef(0),f=Oo("sizes","scrubberWidth"),h=Ap(({event:v,first:g,xy:[y],movement:[_],memo:w={}})=>{if(g){const{width:A,left:C}=o.current.getBoundingClientRect();c.current=A-parseFloat(f);const E=(v==null?void 0:v.target)===a.current||(v==null?void 0:v.target)===l.current;w.pos=av((y-C)/A,n,r);const B=Math.abs(w.pos-e.min)-Math.abs(w.pos-e.max);w.key=B<0||B===0&&w.pos<=e.min?"min":"max",E&&(w.pos=e[w.key])}const b=w.pos+av(_/c.current,0,r-n);return i({[w.key]:lte(b,s[w.key])}),w}),p=`calc(${ov(e.min,n,r)} * (100% - ${f} - 8px) + 4px)`,m=`calc(${1-ov(e.max,n,r)} * (100% - ${f} - 8px) + 4px)`;return j.createElement(IO,In({ref:o},h()),j.createElement(BO,null,j.createElement(LO,{style:{left:p,right:m}})),j.createElement(Eb,{position:"left",ref:a,style:{left:p}}),j.createElement(Eb,{position:"right",ref:l,style:{right:m}}))}function Oie(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Lr(),i=Qt(r,Lie);return j.createElement(j.Fragment,null,j.createElement(ts,{input:!0},j.createElement(Rs,null,t),j.createElement(Die,null,j.createElement(kie,In({value:e},r,{onDrag:n})),j.createElement(cM,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var Fie=ft({component:Oie},Bie);const Nie=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},zie=["type","value"],Uie=["onChange","transient","onEditStart","onEditEnd"],Gie=function(){const e=uD(bX(()=>({data:{}}))),n=Nie();this.storeId=yee(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([f,h])=>{h.render&&a.some(p=>p.indexOf(f)===0)&&!h.render(this.get)&&l.push(f+".")});const c=[];return i.forEach(f=>{f in o&&o[f].__refCount>0&&l.every(h=>f.indexOf(h)===-1)&&(!o[f].render||o[f].render(this.get))&&c.push(f)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const f=l[c];f.__refCount--,f.__refCount===0&&f.type in Yi&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([f,h])=>{let p=c[f];if(p){const{type:m,value:v}=h,g=Qt(h,zie);m!==p.type?To(mn.INPUT_TYPE_OVERRIDE,m):((p.__refCount===0||a)&&Object.assign(p,g),p.__refCount++)}else c[f]=ft(ft({},h),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const f=c.data;return SP(f[o],a,o,this,l),{data:f}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=ft(ft({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([f,h])=>{try{SP(c[f],h,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{To(mn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,ft(ft({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,ft(ft({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([f,h])=>{if(f==="")return To(mn.EMPTY_KEY);let p=vM(a,f);if(h.type===Yi.FOLDER){const m=s(h.schema,p,l);Object.assign(c,m),p in r||(r[p]=h.settings)}else if(f in l)To(mn.DUPLICATE_KEYS,f,p,l[f].path);else{const m=Cee(h,f,p,c);if(m){const{type:v,options:g,input:y}=m,{onChange:_,transient:w,onEditStart:b,onEditEnd:A}=g,C=Qt(g,Uie);c[p]=ft(ft(ft({type:v},C),y),{},{fromPanel:!0}),l[f]={path:p,onChange:_,transient:w,onEditStart:b,onEditEnd:A}}else To(mn.UNKNOWN_INPUT,p,h)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},cF=new Gie,Hie={collapsed:!1};function $ie(t,e){return{type:Yi.FOLDER,schema:t,settings:ft(ft({},Hie),e)}}const Vie={disabled:!1};function Wie(t,e){return{type:Yi.BUTTON,onClick:t,settings:ft(ft({},Vie),e)}}const e3=t=>"__levaInput"in t,jie=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=Vre(i);(!r||s.toLowerCase().indexOf(r)>-1)&&$re(n,o,{[s]:{__levaInput:!0,path:i}})}),n},Jie=["type","label","path","valueKey","value","settings","setValue","disabled"];function Kie(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,c=Qt(t,Jie);const{displayValue:f,onChange:h,onUpdate:p}=RO({type:e,value:s,settings:o,setValue:a}),m=uc[e].component;return m?j.createElement(xO.Provider,{value:ft({key:i,path:r,id:""+r,label:n,displayValue:f,value:s,onChange:h,onUpdate:p,settings:o,setValue:a,disabled:l},c)},j.createElement(jee,{disabled:l},j.createElement(m,null))):(To(mn.NO_COMPONENT_FOR_TYPE,e,r),null)}const Xie=ut("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Yie({onClick:t,settings:e,label:n}){const r=Sp();return j.createElement(ts,null,j.createElement(Xie,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const Qie=ut("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),qie=ut("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Zie=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function ese(t){const{label:e,opts:n}=Zie(t),r=Sp();return j.createElement(ts,{input:!!e},e&&j.createElement(Rs,null,e),j.createElement(Qie,null,Object.entries(n).map(([i,s])=>j.createElement(qie,{key:i,onClick:()=>s(r.get)},i))))}const tse=ut("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),uF=100;function nse(t,e){t.push(e),t.length>uF&&t.shift()}const rse=R.forwardRef(function({initialValue:t},e){const n=Oo("colors","highlight3"),r=Oo("colors","elevation2"),i=Oo("colors","highlight1"),[s,o]=R.useMemo(()=>[Gr(i).alpha(.4).toRgbString(),Gr(i).alpha(.1).toRgbString()],[i]),a=R.useRef([t]),l=R.useRef(t),c=R.useRef(t),f=R.useRef(),h=R.useCallback((v,g)=>{if(!v)return;const{width:y,height:_}=v,w=new Path2D,b=y/uF,A=_*.05;for(let B=0;B<a.current.length;B++){const T=ov(a.current[B],l.current,c.current),I=b*B,L=_-T*(_-A*2)-A;w.lineTo(I,L)}g.clearRect(0,0,y,_);const C=new Path2D(w);C.lineTo(b*(a.current.length+1),_),C.lineTo(0,_),C.lineTo(0,0);const E=g.createLinearGradient(0,0,0,_);E.addColorStop(0,s),E.addColorStop(1,o),g.fillStyle=E,g.fill(C),g.strokeStyle=r,g.lineJoin="round",g.lineWidth=14,g.stroke(w),g.strokeStyle=n,g.lineWidth=2,g.stroke(w)},[n,r,s,o]),[p,m]=tte(h);return R.useImperativeHandle(e,()=>({frame:v=>{(l.current===void 0||v<l.current)&&(l.current=v),(c.current===void 0||v>c.current)&&(c.current=v),nse(a.current,v),f.current=requestAnimationFrame(()=>h(p.current,m.current))}}),[p,m,h]),R.useEffect(()=>()=>cancelAnimationFrame(f.current),[]),j.createElement(tse,{ref:p})}),t3=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),ise=R.forwardRef(function({initialValue:t},e){const[n,r]=R.useState(t3(t));return R.useImperativeHandle(e,()=>({frame:i=>r(t3(i))}),[]),j.createElement("div",null,n)});function n3(t){return typeof t=="function"?t():t.current}function sse({label:t,objectOrFn:e,settings:n}){const r=R.useRef(),i=R.useRef(n3(e));return R.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(n3(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),j.createElement(ts,{input:!0},j.createElement(Rs,{align:"top"},t),n.graph?j.createElement(rse,{ref:r,initialValue:i.current}):j.createElement(ise,{ref:r,initialValue:i.current}))}const ose=["type","label","key"],ase={[Yi.BUTTON]:Yie,[Yi.BUTTON_GROUP]:ese,[Yi.MONITOR]:sse},lse=j.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=rte(t);if(!e)return null;const{type:l,label:c,key:f}=e,h=Qt(e,ose);if(l in Yi){const p=ase[l];return j.createElement(p,In({label:c,path:t},h))}return l in uc?j.createElement(Kie,In({key:s+t,type:l,label:c,storeId:s,path:t,valueKey:f,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},h)):(uee(mn.UNSUPPORTED_INPUT,l,t),null)});function cse({toggle:t,toggled:e,name:n}){return j.createElement($ee,{onClick:()=>t()},j.createElement(lM,{toggled:e}),j.createElement("div",null,n))}const use=({name:t,path:e,tree:n})=>{const r=Sp(),i=vM(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=R.useState(!s),c=R.useRef(null),f=Oo("colors","folderWidgetColor"),h=Oo("colors","folderTextColor");return R.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||f),c.current.style.setProperty("--leva-colors-folderTextColor",o||h)},[o,f,h]),j.createElement(lv,{ref:c},j.createElement(cse,{name:t,toggled:a,toggle:()=>l(p=>!p)}),j.createElement(fF,{parent:i,tree:n,toggled:a}))},fF=j.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Jre(s),l=Sp(),c=([h,p])=>{var m;return(e3(p)?(m=l.getInput(p.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(vM(r,h)).order)||0},f=Object.entries(i).sort((h,p)=>c(h)-c(p));return j.createElement(Mb,{ref:o,isRoot:t,fill:e,flat:n},j.createElement(MO,{ref:a,isRoot:t,toggled:s},f.map(([h,p])=>e3(p)?j.createElement(lse,{key:p.path,valueKey:p.valueKey,path:p.path}):j.createElement(use,{key:h,name:h,path:r,tree:p}))))}),fse=ut("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${EO}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),dF=40,hv=ut("i",{$flexCenter:"",width:dF,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),dse=ut("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),hse=ut("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${hv}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),pse=ut("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),mse=ut("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:dF}}}}),gse=j.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=R.useState(""),s=R.useMemo(()=>hO(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return R.useEffect(()=>{s(r)},[r,s]),j.createElement(j.Fragment,null,j.createElement(pse,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),j.createElement(hv,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function vse({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[f,h]=R.useState(!1),p=R.useRef(null);R.useEffect(()=>{var v,g;f?(v=p.current)===null||v===void 0||v.focus():(g=p.current)===null||g===void 0||g.blur()},[f]);const m=Ap(({offset:[v,g],first:y,last:_})=>{e({x:v,y:g}),y&&n({x:v,y:g}),_&&r({x:v,y:g})},{filterTaps:!0,from:({offset:[v,g]})=>[(c==null?void 0:c.x)||v,(c==null?void 0:c.y)||g]});return R.useEffect(()=>{const v=g=>{g.key==="L"&&g.shiftKey&&g.metaKey&&h(y=>!y)};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),j.createElement(j.Fragment,null,j.createElement(dse,{mode:a?"drag":void 0},j.createElement(hv,{active:!s,onClick:()=>i()},j.createElement(lM,{toggled:s,width:12,height:8})),j.createElement(mse,In({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?j.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},j.createElement("circle",{cx:"2",cy:"2",r:"2"}),j.createElement("circle",{cx:"14",cy:"2",r:"2"}),j.createElement("circle",{cx:"26",cy:"2",r:"2"}),j.createElement("circle",{cx:"2",cy:"12",r:"2"}),j.createElement("circle",{cx:"14",cy:"12",r:"2"}),j.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&j.createElement(hv,{active:f,onClick:()=>h(v=>!v)},j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},j.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),j.createElement(hse,{toggled:f},j.createElement(gse,{ref:p,setFilter:t,toggle:i})))}const yse=["store","hidden","theme","collapsed"];function xse(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,s=Qt(t,yse);const o=rF(()=>Fee(r),[r]),[a,l]=R.useState(!i),c=typeof i=="object"?!i.collapsed:a,f=R.useMemo(()=>typeof i=="object"?h=>{typeof h=="function"?i.onChange(!h(!i.collapsed)):i.onChange(!h)}:l,[i]);return!e||n?null:j.createElement(sM.Provider,{value:o},j.createElement(_se,In({store:e},s,{toggled:c,setToggle:f,rootClass:o.className})))}const _se=j.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var f,h;const p=Kre(t),[m,v]=R.useState(""),g=R.useMemo(()=>jie(p,m),[p,m]),[y,_]=PO(),w=i||p.length>0,b=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(f=o.drag)!==null&&f!==void 0?f:!0,C=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0,E=typeof o=="object"&&o.position||void 0,B=typeof o=="object"&&o.onDrag||void 0,T=typeof o=="object"&&o.onDragStart||void 0,I=typeof o=="object"&&o.onDragEnd||void 0;return j.useEffect(()=>{_({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,_]),Oee(),j.createElement(wO.Provider,{value:{hideCopyButton:a}},j.createElement(fse,{ref:y,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:w?"block":"none"}},o&&j.createElement(vse,{onDrag:L=>{_(L),B==null||B(L)},onDragStart:L=>T==null?void 0:T(L),onDragEnd:L=>I==null?void 0:I(L),setFilter:v,toggle:L=>c(k=>L??!k),toggled:l,title:b,drag:A,filterEnabled:C,from:E}),w&&j.createElement(_O.Provider,{value:t},j.createElement(fF,{isRoot:!0,fill:n,flat:r,tree:g,toggled:l}))))}),wse=["isRoot"];let pv=!1,Gl=null;function bse(t){let{isRoot:e=!1}=t,n=Qt(t,wse);return R.useEffect(()=>(pv=!0,!e&&Gl&&(Gl.remove(),Gl=null),()=>{e||(pv=!1)}),[e]),j.createElement(xse,In({store:cF},n))}function Sse(t){R.useEffect(()=>{t&&!pv&&(Gl||(Gl=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Gl),Tee(j.createElement(bse,{isRoot:!0}),Gl))),pv=!0)},[t])}function Ase(t,e,n,r,i){let s,o,a,l,c;return typeof t=="string"?(o=t,s=e,Array.isArray(n)?c=n:n&&("store"in n?(l=n,c=r):(a=n,Array.isArray(r)?c=r:(l=r,c=i)))):(s=t,Array.isArray(e)?c=e:(l=e,c=n)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function Mse(t,e,n,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=Ase(t,e,n,r,i),f=typeof o=="function",h=R.useRef(!1),p=R.useRef(!0),m=rF(()=>{h.current=!0;const k=typeof o=="function"?o():o;return s?{[s]:$ie(k,a)}:k},c),v=!(l!=null&&l.store);Sse(v);const[g]=R.useState(()=>(l==null?void 0:l.store)||cF),[y,_]=R.useMemo(()=>g.getDataFromSchema(m),[g,m]),[w,b,A,C,E]=R.useMemo(()=>{const k=[],G=[],z={},F={},J={};return Object.values(_).forEach(({path:q,onChange:ne,onEditStart:O,onEditEnd:W,transient:X})=>{k.push(q),ne?(z[q]=ne,X||G.push(q)):G.push(q),O&&(F[q]=O),W&&(J[q]=W)}),[k,G,z,F,J]},[_]),B=R.useMemo(()=>g.orderPaths(w),[w,g]),T=Xre(g,b,y),I=R.useCallback(k=>{const G=Object.entries(k).reduce((z,[F,J])=>Object.assign(z,{[_[F].path]:J}),{});g.set(G,!1)},[g,_]),L=R.useCallback(k=>g.get(_[k].path),[g,_]);return R.useEffect(()=>{const k=!p.current&&h.current;return g.addData(y,k),p.current=!1,h.current=!1,()=>g.disposePaths(B)},[g,B,y]),R.useEffect(()=>{const k=[];return Object.entries(A).forEach(([G,z])=>{z(g.get(G),G,ft({initial:!0,get:g.get},g.getInput(G)));const F=g.useStore.subscribe(J=>{const q=J.data[G];return[q.disabled?void 0:q.value,q]},([J,q])=>z(J,G,ft({initial:!1,get:g.get},q)),{equalityFn:yp});k.push(F)}),()=>k.forEach(G=>G())},[g,A]),R.useEffect(()=>{const k=[];return Object.entries(C).forEach(([G,z])=>k.push(g.subscribeToEditStart(G,z))),Object.entries(E).forEach(([G,z])=>k.push(g.subscribeToEditEnd(G,z))),()=>k.forEach(G=>G())},[C,E,g]),f?[T,I,L]:T}Zo(bs.SELECT,_te);Zo(bs.IMAGE,Tie);Zo(bs.NUMBER,ute);Zo(bs.COLOR,oie);Zo(bs.STRING,Rte);Zo(bs.BOOLEAN,Ote);Zo(bs.INTERVAL,Fie);Zo(bs.VECTOR3D,lie);Zo(bs.VECTOR2D,gie);const g_=12,Cse=({state:t,...e})=>{const{nodes:n,materials:r}=xp("./models/Table.gltf"),{legsType:i,legsColor:s,tableWidth:o,tableLength:a}=WA(),l=Ck(t),[c,f]=R.useState(null),h=new Yo(3,.1,3),p=new bf({metalness:.5,roughness:0,name:"plate"}),m=R.useRef(),v=R.useRef(),g=R.useRef(),y=R.useRef();bA((b,A)=>{const C=b.clock.getElapsedTime();m.current.position.y=(1+Math.sin(C/1.5))/10;const E=new N(_,1,w);v.current.scale.lerp(E,A*g_);const B=new N(-1.5*_,0,0);g.current.position.lerp(B,A*g_);const T=new N(1.5*_,0,0);y.current.position.lerp(T,A*g_)}),R.useEffect(()=>{r.Metal.color=new He(s)},[s]),R.useEffect(()=>{const b=`<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill="rgba(255, 255, 255, 0.5)" d="M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z" stroke="#000"/><g filter="url(#filter0_d)"><path d="M29.5 47C39.165 47 47 39.165 47 29.5S39.165 12 29.5 12 12 19.835 12 29.5 19.835 47 29.5 47z" fill="${l.items[c]}"/></g><path d="M2 2l11 2.947L4.947 13 2 2z" fill="#000"/><text fill="#000" style="#fff-space:pre" font-family="Inter var, sans-serif" font-size="10" letter-spacing="-.01em"><tspan x="35" y="63">${c}</tspan></text></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h64v64H0z"/></clipPath><filter id="filter0_d" x="6" y="8" width="47" height="47" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="2"/><feGaussianBlur stdDeviation="3"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>`,A='<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="rgba(255, 255, 255, 0.5)" d="M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z" stroke="#000"/><path d="M2 2l11 2.947L4.947 13 2 2z" fill="#000"/></svg>';if(c)return document.body.style.cursor=`url('data:image/svg+xml;base64,${btoa(b)}'), auto`,()=>document.body.style.cursor=`url('data:image/svg+xml;base64,${btoa(A)}'), auto`},[c]);const _=o/100,w=a/100;return vn("group",{ref:m,position:[0,-.7,0],castShadow:!0,...e,dispose:null,onPointerOver:b=>(b.stopPropagation(),f(b.object.material.name)),onPointerOut:b=>b.intersections.length===0&&f(null),onPointerMissed:()=>t.current=null,onClick:b=>(b.stopPropagation(),t.current=b.object.material.name),children:[Le("mesh",{castShadow:!0,geometry:h,material:p,"material-color":l.items.plate,ref:v}),i===0&&vn(Od,{children:[Le("mesh",{castShadow:!0,geometry:n.Legs01Left.geometry,material:r.Metal,position:[-1.5,0,0],ref:g}),Le("mesh",{castShadow:!0,geometry:n.Legs01Right.geometry,material:r.Metal,position:[1.5,0,0],ref:y})]}),i===1&&vn(Od,{children:[Le("mesh",{castShadow:!0,geometry:n.Legs02Left.geometry,material:r.Metal,position:[-1.5,0,0],ref:g}),Le("mesh",{castShadow:!0,geometry:n.Legs02Right.geometry,material:r.Metal,position:[1.5,0,0],ref:y})]}),i===2&&vn(Od,{children:[Le("mesh",{castShadow:!0,geometry:n.Legs03Left.geometry,material:r.Metal,position:[-1.5,0,0],ref:g}),Le("mesh",{castShadow:!0,geometry:n.Legs03Right.geometry,material:r.Metal,position:[1.5,0,0],ref:y})]})]})};xp.preload("./models/Table.gltf");function Ese({state:t}){const e=Ck(t);return vn("div",{style:{display:e.current?"block":"none",position:"absolute",top:20,left:20},children:[Le(fne,{className:"picker",color:e.items[e.current],onChange:n=>t.items[e.current]=n}),Le("h1",{children:e.current})]})}const hF=BY({current:null,items:{plate:"black"}});function Tse(){return WA(),vn(Od,{children:[Le("ambientLight",{intensity:.7}),Le("directionalLight",{intensity:4,position:[2,1,1]}),Le(fY,{top:!0,children:Le(Cse,{state:hF})}),Le(dY,{position:[0,0,0],opacity:.65,scale:40,blur:1,far:9}),Le(uY,{makeDefault:!0,minPolarAngle:0,maxPolarAngle:Math.PI/2})]})}function Rse(){return Mse({screenshot:Wie(()=>{const t=document.createElement("a");t.setAttribute("download","canvas.png"),t.setAttribute("href",document.querySelector("canvas").toDataURL("image/png").replace("image/png","image/octet-stream")),t.click()})}),vn(Od,{children:[Le(Ese,{state:hF}),Le(CV,{gl:{antialias:!1,preserveDrawingBuffer:!0},shadows:!0,camera:{position:[5,5,8],fov:35},children:Le(Tse,{})}),Le(wX,{})]})}v_.createRoot(document.getElementById("root")).render(Le(j.StrictMode,{children:Le(_X,{children:Le(Rse,{})})}));
